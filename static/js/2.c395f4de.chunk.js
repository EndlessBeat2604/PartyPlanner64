/*! For license information please see 2.c395f4de.chunk.js.LICENSE.txt */
(this.webpackJsonpPartyPlanner64=this.webpackJsonpPartyPlanner64||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(405)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(18);function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){e.exports=n(404)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return ts})),n.d(t,"b",(function(){return Kc})),n.d(t,"c",(function(){return Mt})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return bc})),n.d(t,"f",(function(){return Ze})),n.d(t,"g",(function(){return Ea})),n.d(t,"h",(function(){return _})),n.d(t,"i",(function(){return et})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return dt})),n.d(t,"l",(function(){return Xt})),n.d(t,"m",(function(){return Xi})),n.d(t,"n",(function(){return io})),n.d(t,"o",(function(){return l})),n.d(t,"p",(function(){return E})),n.d(t,"q",(function(){return Wt})),n.d(t,"r",(function(){return rt})),n.d(t,"s",(function(){return g})),n.d(t,"t",(function(){return ul})),n.d(t,"u",(function(){return oe})),n.d(t,"v",(function(){return rn})),n.d(t,"w",(function(){return A})),n.d(t,"x",(function(){return p})),n.d(t,"y",(function(){return ae})),n.d(t,"z",(function(){return Zc})),n.d(t,"A",(function(){return f})),n.d(t,"B",(function(){return ps})),n.d(t,"C",(function(){return x})),n.d(t,"D",(function(){return D})),n.d(t,"E",(function(){return es})),n.d(t,"F",(function(){return d})),n.d(t,"G",(function(){return pi}));var r,i=n(7),o=n(18),a=n(1),s=n(4),c=n(3),u=n(5);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var l={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},f={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},h=1,d=2,p=1e3,m=1001,g=1002;function _(){}Object.assign(_.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var v=[],y=0;y<256;y++)v[y]=(y<16?"0":"")+y.toString(16);var b,w={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(v[255&e]+v[e>>8&255]+v[e>>16&255]+v[e>>24&255]+"-"+v[255&t]+v[t>>8&255]+"-"+v[t>>16&15|64]+v[t>>24&255]+"-"+v[63&n|128]+v[n>>8&255]+"-"+v[n>>16&255]+v[n>>24&255]+v[255&r]+v[r>>8&255]+v[r>>16&255]+v[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*w.DEG2RAD},radToDeg:function(e){return e*w.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),c=a(n/2),u=o((t+r)/2),l=a((t+r)/2),f=o((t-r)/2),h=a((t-r)/2),d=o((r-t)/2),p=a((r-t)/2);"XYX"===i?e.set(s*l,c*f,c*h,s*u):"YZY"===i?e.set(c*h,s*l,c*f,s*u):"ZXZ"===i?e.set(c*f,c*h,s*l,s*u):"XZX"===i?e.set(s*l,c*p,c*d,s*u):"YXY"===i?e.set(c*d,s*l,c*p,s*u):"ZYZ"===i?e.set(c*p,c*d,s*l,s*u):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function x(e,t){this.x=e||0,this.y=t||0}function E(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(x.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(x.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(E.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,c){var u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=o,u[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],u=n[4],l=n[7],f=n[2],h=n[5],d=n[8],p=r[0],m=r[3],g=r[6],_=r[1],v=r[4],y=r[7],b=r[2],w=r[5],x=r[8];return i[0]=o*p+a*_+s*b,i[3]=o*m+a*v+s*w,i[6]=o*g+a*y+s*x,i[1]=c*p+u*_+l*b,i[4]=c*m+u*v+l*w,i[7]=c*g+u*y+l*x,i[2]=f*p+h*_+d*b,i[5]=f*m+h*v+d*w,i[8]=f*g+h*y+d*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-n*i*u+n*a*s+r*i*c-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],l=n[6],f=n[7],h=n[8],d=h*c-u*f,p=u*l-h*s,m=f*s-c*l,g=i*d+o*p+a*m;if(0===g){var _="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(_);return console.warn(_),this.identity()}var v=1/g;return r[0]=d*v,r[1]=(a*f-h*o)*v,r[2]=(u*o-a*c)*v,r[3]=p*v,r[4]=(h*i-a*l)*v,r[5]=(a*s-u*i)*v,r[6]=m*v,r[7]=(o*l-f*i)*v,r[8]=(c*i-o*s)*v,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+e,-r*c,r*s,-r*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*c,r[6]=t*a+n*u,r[1]=-n*i+t*s,r[4]=-n*o+t*c,r[7]=-n*a+t*u,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var M={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===b&&(b=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),b.width=e.width,b.height=e.height;var n=b.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=b}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},S=0;function T(e,t,n,r,i,o,a,s,c,u){Object.defineProperty(this,"id",{value:S++}),this.uuid=w.generateUUID(),this.name="",this.image=void 0!==e?e:T.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:T.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:m,this.wrapT=void 0!==r?r:m,this.magFilter=void 0!==i?i:1006,this.minFilter=void 0!==o?o:1008,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:1023,this.internalFormat=null,this.type=void 0!==s?s:1009,this.offset=new x(0,0),this.repeat=new x(1,1),this.center=new x(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new E,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==u?u:3e3,this.version=0,this.onUpdate=null}function k(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function C(e,t,n){this.width=e,this.height=t,this.scissor=new k(0,0,e,t),this.scissorTest=!1,this.viewport=new k(0,0,e,t),n=n||{},this.texture=new T(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function O(e,t,n){C.call(this,e,t,n),this.samples=4}function A(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}T.DEFAULT_IMAGE=void 0,T.DEFAULT_MAPPING=300,T.prototype=Object.assign(Object.create(_.prototype),{constructor:T,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=w.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(M.getDataURL(r[o]))}else i=M.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case p:e.x=e.x-Math.floor(e.x);break;case m:e.x=e.x<0?0:1;break;case g:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case p:e.y=e.y-Math.floor(e.y);break;case m:e.y=e.y<0?0:1;break;case g:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(T.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(k.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(k.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],c=o[8],u=o[1],l=o[5],f=o[9],h=o[2],d=o[6],p=o[10];if(Math.abs(s-u)<.01&&Math.abs(c-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(c+h)<.1&&Math.abs(f+d)<.1&&Math.abs(a+l+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(l+1)/2,_=(p+1)/2,v=(s+u)/4,y=(c+h)/4,b=(f+d)/4;return m>g&&m>_?m<.01?(n=0,r=.707106781,i=.707106781):(r=v/(n=Math.sqrt(m)),i=y/n):g>_?g<.01?(n=.707106781,r=0,i=.707106781):(n=v/(r=Math.sqrt(g)),i=b/r):_<.01?(n=.707106781,r=.707106781,i=0):(n=y/(i=Math.sqrt(_)),r=b/i),this.set(n,r,i,t),this}var w=Math.sqrt((d-f)*(d-f)+(c-h)*(c-h)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(d-f)/w,this.y=(c-h)/w,this.z=(u-s)/w,this.w=Math.acos((a+l+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),C.prototype=Object.assign(Object.create(_.prototype),{constructor:C,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),O.prototype=Object.assign(Object.create(C.prototype),{constructor:O,isWebGLMultisampleRenderTarget:!0,copy:function(e){return C.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(A,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],c=n[r+1],u=n[r+2],l=n[r+3],f=i[o+0],h=i[o+1],d=i[o+2],p=i[o+3];if(l!==p||s!==f||c!==h||u!==d){var m=1-a,g=s*f+c*h+u*d+l*p,_=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var y=Math.sqrt(v),b=Math.atan2(y,g*_);m=Math.sin(m*b)/y,a=Math.sin(a*b)/y}var w=a*_;if(s=s*m+f*w,c=c*m+h*w,u=u*m+d*w,l=l*m+p*w,m===1-a){var x=1/Math.sqrt(s*s+c*c+u*u+l*l);s*=x,c*=x,u*=x,l*=x}}e[t]=s,e[t+1]=c,e[t+2]=u,e[t+3]=l}}),Object.defineProperties(A.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(A.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(n/2),u=a(r/2),l=a(i/2),f=s(n/2),h=s(r/2),d=s(i/2);return"XYZ"===o?(this._x=f*u*l+c*h*d,this._y=c*h*l-f*u*d,this._z=c*u*d+f*h*l,this._w=c*u*l-f*h*d):"YXZ"===o?(this._x=f*u*l+c*h*d,this._y=c*h*l-f*u*d,this._z=c*u*d-f*h*l,this._w=c*u*l+f*h*d):"ZXY"===o?(this._x=f*u*l-c*h*d,this._y=c*h*l+f*u*d,this._z=c*u*d+f*h*l,this._w=c*u*l-f*h*d):"ZYX"===o?(this._x=f*u*l-c*h*d,this._y=c*h*l+f*u*d,this._z=c*u*d-f*h*l,this._w=c*u*l+f*h*d):"YZX"===o?(this._x=f*u*l+c*h*d,this._y=c*h*l+f*u*d,this._z=c*u*d-f*h*l,this._w=c*u*l-f*h*d):"XZY"===o&&(this._x=f*u*l-c*h*d,this._y=c*h*l-f*u*d,this._z=c*u*d+f*h*l,this._w=c*u*l+f*h*d),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],u=n[2],l=n[6],f=n[10],h=r+s+f;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(l-c)*t,this._y=(o-u)*t,this._z=(a-i)*t):r>s&&r>f?(t=2*Math.sqrt(1+r-s-f),this._w=(l-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+u)/t):s>f?(t=2*Math.sqrt(1+s-r-f),this._w=(o-u)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+l)/t):(t=2*Math.sqrt(1+f-r-s),this._w=(a-i)/t,this._x=(o+u)/t,this._y=(c+l)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(w.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,u=t._w;return this._x=n*u+o*a+r*c-i*s,this._y=r*u+o*s+i*a-n*c,this._z=i*u+o*c+n*s-r*a,this._w=o*u-n*a-r*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),l=Math.atan2(u,a),f=Math.sin((1-t)*l)/u,h=Math.sin(t*l)/u;return this._w=o*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=i*f+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var P=new D,L=new A;function D(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(D.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(L.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(L.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,u=s*n+a*t-i*r,l=s*r+i*n-o*t,f=-i*t-o*n-a*r;return this.x=c*s+f*-i+u*-a-l*-o,this.y=u*s+f*-o+l*-i-c*-a,this.z=l*s+f*-a+c*-o-u*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return P.copy(this).projectOnVector(e),this.sub(P)},reflect:function(e){return this.sub(P.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(w.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var I=new D,R=new j,B=new D(0,0,0),N=new D(1,1,1),U=new D,z=new D,F=new D;function j(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(j.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,c,u,l,f,h,d,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=u,g[10]=l,g[14]=f,g[3]=h,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new j).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/I.setFromMatrixColumn(e,0).length(),i=1/I.setFromMatrixColumn(e,1).length(),o=1/I.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),u=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var f=o*u,h=o*l,d=a*u,p=a*l;t[0]=s*u,t[4]=-s*l,t[8]=c,t[1]=h+d*c,t[5]=f-p*c,t[9]=-a*s,t[2]=p-f*c,t[6]=d+h*c,t[10]=o*s}else if("YXZ"===e.order){var m=s*u,g=s*l,_=c*u,v=c*l;t[0]=m+v*a,t[4]=_*a-g,t[8]=o*c,t[1]=o*l,t[5]=o*u,t[9]=-a,t[2]=g*a-_,t[6]=v+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*u,g=s*l,_=c*u,v=c*l;t[0]=m-v*a,t[4]=-o*l,t[8]=_+g*a,t[1]=g+_*a,t[5]=o*u,t[9]=v-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){f=o*u,h=o*l,d=a*u,p=a*l;t[0]=s*u,t[4]=d*c-h,t[8]=f*c+p,t[1]=s*l,t[5]=p*c+f,t[9]=h*c-d,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var y=o*s,b=o*c,w=a*s,x=a*c;t[0]=s*u,t[4]=x-y*l,t[8]=w*l+b,t[1]=l,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=b*l+w,t[10]=y-x*l}else if("XZY"===e.order){y=o*s,b=o*c,w=a*s,x=a*c;t[0]=s*u,t[4]=-l,t[8]=c*u,t[1]=y*l+x,t[5]=o*u,t[9]=b*l-w,t[2]=w*l-b,t[6]=a*u,t[10]=x*l+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(B,e,N)},lookAt:function(e,t,n){var r=this.elements;return F.subVectors(e,t),0===F.lengthSq()&&(F.z=1),F.normalize(),U.crossVectors(n,F),0===U.lengthSq()&&(1===Math.abs(n.z)?F.x+=1e-4:F.z+=1e-4,F.normalize(),U.crossVectors(n,F)),U.normalize(),z.crossVectors(F,U),r[0]=U.x,r[4]=z.x,r[8]=F.x,r[1]=U.y,r[5]=z.y,r[9]=F.y,r[2]=U.z,r[6]=z.z,r[10]=F.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],u=n[1],l=n[5],f=n[9],h=n[13],d=n[2],p=n[6],m=n[10],g=n[14],_=n[3],v=n[7],y=n[11],b=n[15],w=r[0],x=r[4],E=r[8],M=r[12],S=r[1],T=r[5],k=r[9],C=r[13],O=r[2],A=r[6],P=r[10],L=r[14],D=r[3],I=r[7],R=r[11],B=r[15];return i[0]=o*w+a*S+s*O+c*D,i[4]=o*x+a*T+s*A+c*I,i[8]=o*E+a*k+s*P+c*R,i[12]=o*M+a*C+s*L+c*B,i[1]=u*w+l*S+f*O+h*D,i[5]=u*x+l*T+f*A+h*I,i[9]=u*E+l*k+f*P+h*R,i[13]=u*M+l*C+f*L+h*B,i[2]=d*w+p*S+m*O+g*D,i[6]=d*x+p*T+m*A+g*I,i[10]=d*E+p*k+m*P+g*R,i[14]=d*M+p*C+m*L+g*B,i[3]=_*w+v*S+y*O+b*D,i[7]=_*x+v*T+y*A+b*I,i[11]=_*E+v*k+y*P+b*R,i[15]=_*M+v*C+y*L+b*B,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],u=e[2],l=e[6],f=e[10],h=e[14];return e[3]*(+i*s*l-r*c*l-i*a*f+n*c*f+r*a*h-n*s*h)+e[7]*(+t*s*h-t*c*f+i*o*f-r*o*h+r*c*u-i*s*u)+e[11]*(+t*c*l-t*a*h-i*o*l+n*o*h+i*a*u-n*c*u)+e[15]*(-r*a*u-t*s*l+t*a*f+r*o*l-n*o*f+n*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=r[5],l=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],g=r[12],_=r[13],v=r[14],y=r[15],b=d*v*f-_*p*f+_*l*m-u*v*m-d*l*y+u*p*y,w=g*p*f-h*v*f-g*l*m+c*v*m+h*l*y-c*p*y,x=h*_*f-g*d*f+g*u*m-c*_*m-h*u*y+c*d*y,E=g*d*l-h*_*l-g*u*p+c*_*p+h*u*v-c*d*v,M=i*b+o*w+a*x+s*E;if(0===M){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return n[0]=b*T,n[1]=(_*p*s-d*v*s-_*a*m+o*v*m+d*a*y-o*p*y)*T,n[2]=(u*v*s-_*l*s+_*a*f-o*v*f-u*a*y+o*l*y)*T,n[3]=(d*l*s-u*p*s-d*a*f+o*p*f+u*a*m-o*l*m)*T,n[4]=w*T,n[5]=(h*v*s-g*p*s+g*a*m-i*v*m-h*a*y+i*p*y)*T,n[6]=(g*l*s-c*v*s-g*a*f+i*v*f+c*a*y-i*l*y)*T,n[7]=(c*p*s-h*l*s+h*a*f-i*p*f-c*a*m+i*l*m)*T,n[8]=x*T,n[9]=(g*d*s-h*_*s-g*o*m+i*_*m+h*o*y-i*d*y)*T,n[10]=(c*_*s-g*u*s+g*o*f-i*_*f-c*o*y+i*u*y)*T,n[11]=(h*u*s-c*d*s-h*o*f+i*d*f+c*o*m-i*u*m)*T,n[12]=E*T,n[13]=(h*_*a-g*d*a+g*o*p-i*_*p-h*o*v+i*d*v)*T,n[14]=(g*u*a-c*_*a-g*o*l+i*_*l+c*o*v-i*u*v)*T,n[15]=(c*d*a-h*u*a+h*o*l-i*d*l-c*o*p+i*u*p)*T,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,u=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,u*a+n,u*s-r*o,0,c*s-r*a,u*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,u=o+o,l=a+a,f=i*c,h=i*u,d=i*l,p=o*u,m=o*l,g=a*l,_=s*c,v=s*u,y=s*l,b=n.x,w=n.y,x=n.z;return r[0]=(1-(p+g))*b,r[1]=(h+y)*b,r[2]=(d-v)*b,r[3]=0,r[4]=(h-y)*w,r[5]=(1-(f+g))*w,r[6]=(m+_)*w,r[7]=0,r[8]=(d+v)*x,r[9]=(m-_)*x,r[10]=(1-(f+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=I.set(r[0],r[1],r[2]).length(),o=I.set(r[4],r[5],r[6]).length(),a=I.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],R.copy(this);var s=1/i,c=1/o,u=1/a;return R.elements[0]*=s,R.elements[1]*=s,R.elements[2]*=s,R.elements[4]*=c,R.elements[5]*=c,R.elements[6]*=c,R.elements[8]*=u,R.elements[9]*=u,R.elements[10]*=u,t.setFromRotationMatrix(R),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),l=(n+r)/(n-r),f=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),c=1/(n-r),u=1/(o-i),l=(t+e)*s,f=(n+r)*c,h=(o+i)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var W=new j,H=new A;function V(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||V.DefaultOrder}function K(){this.mask=1}V.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],V.DefaultOrder="XYZ",Object.defineProperties(V.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(V.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=w.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],l=i[9],f=i[2],h=i[6],d=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-l,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return W.makeRotationFromQuaternion(e),this.setFromRotationMatrix(W,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return H.setFromEuler(this),this.setFromQuaternion(H,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new D(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(K.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var G=0,q=new D,Y=new A,X=new j,Z=new D,J=new D,$=new D,Q=new A,ee=new D(1,0,0),te=new D(0,1,0),ne=new D(0,0,1),re={type:"added"},ie={type:"removed"};function oe(){Object.defineProperty(this,"id",{value:G++}),this.uuid=w.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=oe.DefaultUp.clone();var e=new D,t=new V,n=new A,r=new D(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new j},normalMatrix:{value:new E}}),this.matrix=new j,this.matrixWorld=new j,this.matrixAutoUpdate=oe.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new K,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ae(){oe.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}oe.DefaultUp=new D(0,1,0),oe.DefaultMatrixAutoUpdate=!0,oe.prototype=Object.assign(Object.create(_.prototype),{constructor:oe,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Y.setFromAxisAngle(e,t),this.quaternion.multiply(Y),this},rotateOnWorldAxis:function(e,t){return Y.setFromAxisAngle(e,t),this.quaternion.premultiply(Y),this},rotateX:function(e){return this.rotateOnAxis(ee,e)},rotateY:function(e){return this.rotateOnAxis(te,e)},rotateZ:function(e){return this.rotateOnAxis(ne,e)},translateOnAxis:function(e,t){return q.copy(e).applyQuaternion(this.quaternion),this.position.add(q.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ee,e)},translateY:function(e){return this.translateOnAxis(te,e)},translateZ:function(e){return this.translateOnAxis(ne,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(X.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Z.copy(e):Z.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),J.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?X.lookAt(J,Z,this.up):X.lookAt(Z,J,this.up),this.quaternion.setFromRotationMatrix(X),r&&(X.extractRotation(r.matrixWorld),Y.setFromRotationMatrix(X),this.quaternion.premultiply(Y.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(re)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ie)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),X.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),X.multiply(e.parent.matrixWorld)),e.applyMatrix4(X),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new D),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new A),this.updateMatrixWorld(!0),this.matrixWorld.decompose(J,e,$),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new D),this.updateMatrixWorld(!0),this.matrixWorld.decompose(J,Q,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new D),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var u=a[s];i(e.shapes,u)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,c=this.material.length;s<c;s++)l.push(i(e.materials,this.material[s]));r.material=l}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var f=m(e.geometries),h=m(e.materials),d=m(e.textures),p=m(e.images);a=m(e.shapes);f.length>0&&(n.geometries=f),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),a.length>0&&(n.shapes=a)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),ae.prototype=Object.assign(Object.create(oe.prototype),{constructor:ae,isScene:!0,copy:function(e,t){return oe.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=oe.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var se=[new D,new D,new D,new D,new D,new D,new D,new D],ce=new D,ue=new be,le=new D,fe=new D,he=new D,de=new D,pe=new D,me=new D,ge=new D,_e=new D,ve=new D,ye=new D;function be(e,t){this.min=void 0!==e?e:new D(1/0,1/0,1/0),this.max=void 0!==t?t:new D(-1/0,-1/0,-1/0)}function we(e,t,n,r,i){var o,a;for(o=0,a=e.length-3;o<=a;o+=3){ye.fromArray(e,o);var s=i.x*Math.abs(ye.x)+i.y*Math.abs(ye.y)+i.z*Math.abs(ye.z),c=t.dot(ye),u=n.dot(ye),l=r.dot(ye);if(Math.max(-Math.max(c,u,l),Math.min(c,u,l))>s)return!1}return!0}Object.assign(be.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var u=e[s],l=e[s+1],f=e[s+2];u<t&&(t=u),l<n&&(n=l),f<r&&(r=f),u>i&&(i=u),l>o&&(o=l),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var u=e.getX(s),l=e.getY(s),f=e.getZ(s);u<t&&(t=u),l<n&&(n=l),f<r&&(r=f),u>i&&(i=u),l>o&&(o=l),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=ce.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new D),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new D),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),ue.copy(t.boundingBox),ue.applyMatrix4(e.matrixWorld),this.expandByPoint(ue.min),this.expandByPoint(ue.max));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new D),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,ce),ce.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(ge),_e.subVectors(this.max,ge),le.subVectors(e.a,ge),fe.subVectors(e.b,ge),he.subVectors(e.c,ge),de.subVectors(fe,le),pe.subVectors(he,fe),me.subVectors(le,he);var t=[0,-de.z,de.y,0,-pe.z,pe.y,0,-me.z,me.y,de.z,0,-de.x,pe.z,0,-pe.x,me.z,0,-me.x,-de.y,de.x,0,-pe.y,pe.x,0,-me.y,me.x,0];return!!we(t,le,fe,he,_e)&&(!!we(t=[1,0,0,0,1,0,0,0,1],le,fe,he,_e)&&(ve.crossVectors(de,pe),we(t=[ve.x,ve.y,ve.z],le,fe,he,_e)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new D),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return ce.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(ce).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(se[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),se[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),se[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),se[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),se[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),se[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),se[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),se[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(se),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var xe=new be;function Ee(e,t){this.center=void 0!==e?e:new D,this.radius=void 0!==t?t:0}Object.assign(Ee.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):xe.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new D),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new be),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Me=new D,Se=new D,Te=new D,ke=new D,Ce=new D,Oe=new D,Ae=new D;function Pe(e,t){this.origin=void 0!==e?e:new D,this.direction=void 0!==t?t:new D(0,0,-1)}Object.assign(Pe.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new D),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Me)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new D),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Me.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Me.copy(this.direction).multiplyScalar(t).add(this.origin),Me.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){Se.copy(e).add(t).multiplyScalar(.5),Te.copy(t).sub(e).normalize(),ke.copy(this.origin).sub(Se);var i,o,a,s,c=.5*e.distanceTo(t),u=-this.direction.dot(Te),l=ke.dot(this.direction),f=-ke.dot(Te),h=ke.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(o=u*l-f,s=c*d,(i=u*f-l)>=0)if(o>=-s)if(o<=s){var p=1/d;a=(i*=p)*(i+u*(o*=p)+2*l)+o*(u*i+o+2*f)+h}else o=c,a=-(i=Math.max(0,-(u*o+l)))*i+o*(o+2*f)+h;else o=-c,a=-(i=Math.max(0,-(u*o+l)))*i+o*(o+2*f)+h;else o<=-s?a=-(i=Math.max(0,-(-u*c+l)))*i+(o=i>0?-c:Math.min(Math.max(-c,-f),c))*(o+2*f)+h:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-f),c))*(o+2*f)+h):a=-(i=Math.max(0,-(u*c+l)))*i+(o=i>0?c:Math.min(Math.max(-c,-f),c))*(o+2*f)+h;else o=u>0?-c:c,a=-(i=Math.max(0,-(u*o+l)))*i+o*(o+2*f)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Te).multiplyScalar(o).add(Se),a},intersectSphere:function(e,t){Me.subVectors(e.center,this.origin);var n=Me.dot(this.direction),r=Me.dot(Me)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,c=1/this.direction.x,u=1/this.direction.y,l=1/this.direction.z,f=this.origin;return c>=0?(n=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(n=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(i=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(i=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-f.z)*l,s=(e.max.z-f.z)*l):(a=(e.max.z-f.z)*l,s=(e.min.z-f.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Me)},intersectTriangle:function(e,t,n,r,i){Ce.subVectors(t,e),Oe.subVectors(n,e),Ae.crossVectors(Ce,Oe);var o,a=this.direction.dot(Ae);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}ke.subVectors(this.origin,e);var s=o*this.direction.dot(Oe.crossVectors(ke,Oe));if(s<0)return null;var c=o*this.direction.dot(Ce.cross(ke));if(c<0)return null;if(s+c>a)return null;var u=-o*ke.dot(Ae);return u<0?null:this.at(u/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Le=new D,De=new D,Ie=new E;function Re(e,t){this.normal=void 0!==e?e:new D(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Re.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=Le.subVectors(n,t).cross(De.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new D),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new D);var n=e.delta(Le),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new D),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||Ie.getNormalMatrix(e),r=this.coplanarPoint(Le).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var Be=new D,Ne=new D,Ue=new D,ze=new D,Fe=new D,je=new D,We=new D,He=new D,Ve=new D,Ke=new D;function Ge(e,t,n){this.a=void 0!==e?e:new D,this.b=void 0!==t?t:new D,this.c=void 0!==n?n:new D}Object.assign(Ge,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new D),r.subVectors(n,t),Be.subVectors(e,t),r.cross(Be);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){Be.subVectors(r,t),Ne.subVectors(n,t),Ue.subVectors(e,t);var o=Be.dot(Be),a=Be.dot(Ne),s=Be.dot(Ue),c=Ne.dot(Ne),u=Ne.dot(Ue),l=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new D),0===l)return i.set(-2,-1,-1);var f=1/l,h=(c*s-a*u)*f,d=(o*u-a*s)*f;return i.set(1-h-d,d,h)},containsPoint:function(e,t,n,r){return Ge.getBarycoord(e,t,n,r,ze),ze.x>=0&&ze.y>=0&&ze.x+ze.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,ze),s.set(0,0),s.addScaledVector(i,ze.x),s.addScaledVector(o,ze.y),s.addScaledVector(a,ze.z),s},isFrontFacing:function(e,t,n,r){return Be.subVectors(n,t),Ne.subVectors(e,t),Be.cross(Ne).dot(r)<0}}),Object.assign(Ge.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Be.subVectors(this.c,this.b),Ne.subVectors(this.a,this.b),.5*Be.cross(Ne).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new D),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Ge.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Re),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Ge.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return Ge.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return Ge.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Ge.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new D);var n,r,i=this.a,o=this.b,a=this.c;Fe.subVectors(o,i),je.subVectors(a,i),He.subVectors(e,i);var s=Fe.dot(He),c=je.dot(He);if(s<=0&&c<=0)return t.copy(i);Ve.subVectors(e,o);var u=Fe.dot(Ve),l=je.dot(Ve);if(u>=0&&l<=u)return t.copy(o);var f=s*l-u*c;if(f<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Fe,n);Ke.subVectors(e,a);var h=Fe.dot(Ke),d=je.dot(Ke);if(d>=0&&h<=d)return t.copy(a);var p=h*c-s*d;if(p<=0&&c>=0&&d<=0)return r=c/(c-d),t.copy(i).addScaledVector(je,r);var m=u*d-h*l;if(m<=0&&l-u>=0&&h-d>=0)return We.subVectors(a,o),r=(l-u)/(l-u+(h-d)),t.copy(o).addScaledVector(We,r);var g=1/(m+p+f);return n=p*g,r=f*g,t.copy(i).addScaledVector(Fe,n).addScaledVector(je,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ye={h:0,s:0,l:0},Xe={h:0,s:0,l:0};function Ze(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Je(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function $e(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Qe(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function et(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new D,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Ze,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(Ze.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=w.euclideanModulo(e,1),t=w.clamp(t,0,1),n=w.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Je(i,r,e+1/3),this.g=Je(i,r,e),this.b=Je(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u=n[1],l=u.length;if(3===l)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=qe[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=$e(e.r),this.g=$e(e.g),this.b=$e(e.b),this},copyLinearToSRGB:function(e){return this.r=Qe(e.r),this.g=Qe(e.g),this.b=Qe(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),c=(s+a)/2;if(s===a)t=0,n=0;else{var u=a-s;switch(n=c<=.5?u/(a+s):u/(2-a-s),a){case r:t=(i-o)/u+(i<o?6:0);break;case i:t=(o-r)/u+2;break;case o:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(Ye),Ye.h+=e,Ye.s+=t,Ye.l+=n,this.setHSL(Ye.h,Ye.s,Ye.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Ye),e.getHSL(Xe);var n=w.lerp(Ye.h,Xe.h,t),r=w.lerp(Ye.s,Xe.s,t),i=w.lerp(Ye.l,Xe.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Ze.NAMES=qe,Object.assign(et.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var tt=0;function nt(){Object.defineProperty(this,"id",{value:tt++}),this.uuid=w.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function rt(e){nt.call(this),this.type="MeshBasicMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}nt.prototype=Object.assign(Object.create(_.prototype),{constructor:nt,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(nt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),rt.prototype=Object.create(nt.prototype),rt.prototype.constructor=rt,rt.prototype.isMeshBasicMaterial=!0,rt.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var it=new D;function ot(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function at(e,t,n){ot.call(this,new Int8Array(e),t,n)}function st(e,t,n){ot.call(this,new Uint8Array(e),t,n)}function ct(e,t,n){ot.call(this,new Uint8ClampedArray(e),t,n)}function ut(e,t,n){ot.call(this,new Int16Array(e),t,n)}function lt(e,t,n){ot.call(this,new Uint16Array(e),t,n)}function ft(e,t,n){ot.call(this,new Int32Array(e),t,n)}function ht(e,t,n){ot.call(this,new Uint32Array(e),t,n)}function dt(e,t,n){ot.call(this,new Float32Array(e),t,n)}function pt(e,t,n){ot.call(this,new Float64Array(e),t,n)}function mt(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function gt(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(ot.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ot.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Ze),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new x),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new D),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new k),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){for(var t=0,n=this.count;t<n;t++)it.x=this.getX(t),it.y=this.getY(t),it.z=this.getZ(t),it.applyMatrix3(e),this.setXYZ(t,it.x,it.y,it.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)it.x=this.getX(t),it.y=this.getY(t),it.z=this.getZ(t),it.applyMatrix4(e),this.setXYZ(t,it.x,it.y,it.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)it.x=this.getX(t),it.y=this.getY(t),it.z=this.getZ(t),it.applyNormalMatrix(e),this.setXYZ(t,it.x,it.y,it.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)it.x=this.getX(t),it.y=this.getY(t),it.z=this.getZ(t),it.transformDirection(e),this.setXYZ(t,it.x,it.y,it.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),at.prototype=Object.create(ot.prototype),at.prototype.constructor=at,st.prototype=Object.create(ot.prototype),st.prototype.constructor=st,ct.prototype=Object.create(ot.prototype),ct.prototype.constructor=ct,ut.prototype=Object.create(ot.prototype),ut.prototype.constructor=ut,lt.prototype=Object.create(ot.prototype),lt.prototype.constructor=lt,ft.prototype=Object.create(ot.prototype),ft.prototype.constructor=ft,ht.prototype=Object.create(ot.prototype),ht.prototype.constructor=ht,dt.prototype=Object.create(ot.prototype),dt.prototype.constructor=dt,pt.prototype=Object.create(ot.prototype),pt.prototype.constructor=pt,Object.assign(mt.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var u=0;u<c;u++)t[u]={name:s[u].name,data:[]};this.morphTargets.position=t}var l,f=e.morphNormals,h=f.length;if(h>0){l=[];for(u=0;u<h;u++)l[u]={name:f[u].name,data:[]};this.morphTargets.normal=l}var d=e.skinIndices,p=e.skinWeights,m=d.length===r.length,g=p.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(u=0;u<n.length;u++){var _=n[u];this.vertices.push(r[_.a],r[_.b],r[_.c]);var v=_.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=_.normal;this.normals.push(y,y,y)}var b,w=_.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var E=_.color;this.colors.push(E,E,E)}if(!0===o)void 0!==(b=i[0][u])?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",u),this.uvs.push(new x,new x,new x));if(!0===a)void 0!==(b=i[1][u])?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",u),this.uvs2.push(new x,new x,new x));for(var M=0;M<c;M++){var S=s[M].vertices;t[M].data.push(S[_.a],S[_.b],S[_.c])}for(M=0;M<h;M++){var T=f[M].vertexNormals[u];l[M].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[_.a],d[_.b],d[_.c]),g&&this.skinWeights.push(p[_.a],p[_.b],p[_.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var _t=1,vt=new j,yt=new oe,bt=new D,wt=new be,xt=new be,Et=new D;function Mt(){Object.defineProperty(this,"id",{value:_t+=2}),this.uuid=w.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Mt.prototype=Object.assign(Object.create(_.prototype),{constructor:Mt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(gt(e)>65535?ht:lt)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new E).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return vt.makeRotationX(e),this.applyMatrix4(vt),this},rotateY:function(e){return vt.makeRotationY(e),this.applyMatrix4(vt),this},rotateZ:function(e){return vt.makeRotationZ(e),this.applyMatrix4(vt),this},translate:function(e,t,n){return vt.makeTranslation(e,t,n),this.applyMatrix4(vt),this},scale:function(e,t,n){return vt.makeScale(e,t,n),this.applyMatrix4(vt),this},lookAt:function(e){return yt.lookAt(e),yt.updateMatrix(),this.applyMatrix4(yt.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(bt).negate(),this.translate(bt.x,bt.y,bt.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new dt(3*t.vertices.length,3),r=new dt(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new dt(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new dt(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new mt).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new ot(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new ot(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new ot(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new ot(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new ot(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],u=0,l=c.length;u<l;u++){var f=c[u],h=new dt(3*f.data.length,3);h.name=f.name,s.push(h.copyVector3sArray(f.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var d=new dt(4*e.skinIndices.length,4);this.setAttribute("skinIndex",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new dt(4*e.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new be);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];wt.setFromBufferAttribute(i),this.morphTargetsRelative?(Et.addVectors(this.boundingBox.min,wt.min),this.boundingBox.expandByPoint(Et),Et.addVectors(this.boundingBox.max,wt.max),this.boundingBox.expandByPoint(Et)):(this.boundingBox.expandByPoint(wt.min),this.boundingBox.expandByPoint(wt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ee);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(wt.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];xt.setFromBufferAttribute(o),this.morphTargetsRelative?(Et.addVectors(wt.min,xt.min),wt.expandByPoint(Et),Et.addVectors(wt.max,xt.max),wt.expandByPoint(Et)):(wt.expandByPoint(xt.min),wt.expandByPoint(xt.max))}wt.getCenter(n);var a=0;for(r=0,i=e.count;r<i;r++)Et.fromBufferAttribute(e,r),a=Math.max(a,n.distanceToSquared(Et));if(t)for(r=0,i=t.length;r<i;r++){o=t[r];for(var s=this.morphTargetsRelative,c=0,u=o.count;c<u;c++)Et.fromBufferAttribute(o,c),s&&(bt.fromBufferAttribute(e,c),Et.add(bt)),a=Math.max(a,n.distanceToSquared(Et))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new ot(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,c,u=t.normal.array,l=new D,f=new D,h=new D,d=new D,p=new D;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],l.fromArray(n,a),f.fromArray(n,s),h.fromArray(n,c),d.subVectors(h,f),p.subVectors(l,f),d.cross(p),u[a]+=d.x,u[a+1]+=d.y,u[a+2]+=d.z,u[s]+=d.x,u[s+1]+=d.y,u[s+2]+=d.z,u[c]+=d.x,u[c+1]+=d.y,u[c+2]+=d.z}else for(i=0,o=n.length;i<o;i+=9)l.fromArray(n,i),f.fromArray(n,i+3),h.fromArray(n,i+6),d.subVectors(h,f),p.subVectors(l,f),d.cross(p),u[i]=d.x,u[i+1]=d.y,u[i+2]=d.z,u[i+3]=d.x,u[i+4]=d.y,u[i+5]=d.z,u[i+6]=d.x,u[i+7]=d.y,u[i+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,c=Math.min(a.length,i.length-s),u=0,l=s;u<c;u++,l++)i[l]=a[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Et.x=e.getX(t),Et.y=e.getY(t),Et.z=e.getZ(t),Et.normalize(),e.setXYZ(t,Et.x,Et.y,Et.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),o=0,a=0,s=0,c=t.length;s<c;s++){o=t[s]*r;for(var u=0;u<r;u++)i[a++]=n[o++]}return new ot(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Mt,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.setAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],c=a[i],u=0,l=c.length;u<l;u++){o=e(c[u],n);s.push(o)}t.morphAttributes[i]=s}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,h=(u=0,f.length);u<h;u++){var d=f[u];t.addGroup(d.start,d.count,d.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var o=(h=i[n]).toJSON();""!==h.name&&(o.name=h.name),e.data.attributes[n]=o}var a={},s=!1;for(var n in this.morphAttributes){for(var c=this.morphAttributes[n],u=[],l=0,f=c.length;l<f;l++){var h;o=(h=c[l]).toJSON();""!==h.name&&(o.name=h.name),u.push(o)}u.length>0&&(a[n]=u,s=!0)}s&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);var d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new Mt).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.setAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var c=[],u=s[t];for(n=0,r=u.length;n<r;n++)c.push(u[n].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=e.morphTargetsRelative;var l=e.groups;for(n=0,r=l.length;n<r;n++){var f=l[n];this.addGroup(f.start,f.count,f.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var St=new j,Tt=new Pe,kt=new Ee,Ct=new D,Ot=new D,At=new D,Pt=new D,Lt=new D,Dt=new D,It=new D,Rt=new D,Bt=new D,Nt=new x,Ut=new x,zt=new x,Ft=new D,jt=new D;function Wt(e,t){oe.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Mt,this.material=void 0!==t?t:new rt,this.updateMorphTargets()}function Ht(e,t,n,r,i,o,a,s){if(null===(1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s)))return null;jt.copy(s),jt.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(jt);return c<n.near||c>n.far?null:{distance:c,point:jt.clone(),object:e}}function Vt(e,t,n,r,i,o,a,s,c,u,l,f){Ct.fromBufferAttribute(i,u),Ot.fromBufferAttribute(i,l),At.fromBufferAttribute(i,f);var h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){It.set(0,0,0),Rt.set(0,0,0),Bt.set(0,0,0);for(var d=0,p=o.length;d<p;d++){var m=h[d],g=o[d];0!==m&&(Pt.fromBufferAttribute(g,u),Lt.fromBufferAttribute(g,l),Dt.fromBufferAttribute(g,f),a?(It.addScaledVector(Pt,m),Rt.addScaledVector(Lt,m),Bt.addScaledVector(Dt,m)):(It.addScaledVector(Pt.sub(Ct),m),Rt.addScaledVector(Lt.sub(Ot),m),Bt.addScaledVector(Dt.sub(At),m)))}Ct.add(It),Ot.add(Rt),At.add(Bt)}var _=Ht(e,t,n,r,Ct,Ot,At,Ft);if(_){s&&(Nt.fromBufferAttribute(s,u),Ut.fromBufferAttribute(s,l),zt.fromBufferAttribute(s,f),_.uv=Ge.getUV(Ft,Ct,Ot,At,Nt,Ut,zt,new x)),c&&(Nt.fromBufferAttribute(c,u),Ut.fromBufferAttribute(c,l),zt.fromBufferAttribute(c,f),_.uv2=Ge.getUV(Ft,Ct,Ot,At,Nt,Ut,zt,new x));var v=new et(u,l,f);Ge.getNormal(Ct,Ot,At,v.normal),_.face=v}return _}Wt.prototype=Object.assign(Object.create(oe.prototype),{constructor:Wt,isMesh:!0,copy:function(e){return oe.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),kt.copy(r.boundingSphere),kt.applyMatrix4(o),!1!==e.ray.intersectsSphere(kt)&&(St.getInverse(o),Tt.copy(e.ray).applyMatrix4(St),null===r.boundingBox||!1!==Tt.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,s,c,u,l,f,h,d,p,m=r.index,g=r.attributes.position,_=r.morphAttributes.position,v=r.morphTargetsRelative,y=r.attributes.uv,b=r.attributes.uv2,w=r.groups,E=r.drawRange;if(null!==m)if(Array.isArray(i))for(u=0,f=w.length;u<f;u++)for(p=i[(d=w[u]).materialIndex],l=Math.max(d.start,E.start),h=Math.min(d.start+d.count,E.start+E.count);l<h;l+=3)a=m.getX(l),s=m.getX(l+1),c=m.getX(l+2),(n=Vt(this,p,e,Tt,g,_,v,y,b,a,s,c))&&(n.faceIndex=Math.floor(l/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(u=Math.max(0,E.start),f=Math.min(m.count,E.start+E.count);u<f;u+=3)a=m.getX(u),s=m.getX(u+1),c=m.getX(u+2),(n=Vt(this,i,e,Tt,g,_,v,y,b,a,s,c))&&(n.faceIndex=Math.floor(u/3),t.push(n));else if(void 0!==g)if(Array.isArray(i))for(u=0,f=w.length;u<f;u++)for(p=i[(d=w[u]).materialIndex],l=Math.max(d.start,E.start),h=Math.min(d.start+d.count,E.start+E.count);l<h;l+=3)(n=Vt(this,p,e,Tt,g,_,v,y,b,a=l,s=l+1,c=l+2))&&(n.faceIndex=Math.floor(l/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(u=Math.max(0,E.start),f=Math.min(g.count,E.start+E.count);u<f;u+=3)(n=Vt(this,i,e,Tt,g,_,v,y,b,a=u,s=u+1,c=u+2))&&(n.faceIndex=Math.floor(u/3),t.push(n))}else if(r.isGeometry){var M,S,T,k,C=Array.isArray(i),O=r.vertices,A=r.faces,P=r.faceVertexUvs[0];P.length>0&&(k=P);for(var L=0,D=A.length;L<D;L++){var I=A[L],R=C?i[I.materialIndex]:i;if(void 0!==R&&(M=O[I.a],S=O[I.b],T=O[I.c],n=Ht(this,R,e,Tt,M,S,T,Ft))){if(k&&k[L]){var B=k[L];Nt.copy(B[0]),Ut.copy(B[1]),zt.copy(B[2]),n.uv=Ge.getUV(Ft,M,S,T,Nt,Ut,zt,new x)}n.face=I,n.faceIndex=L,t.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Kt=0,Gt=new j,qt=new oe,Yt=new D;function Xt(){Object.defineProperty(this,"id",{value:Kt+=2}),this.uuid=w.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Xt.prototype=Object.assign(Object.create(_.prototype),{constructor:Xt,isGeometry:!0,applyMatrix4:function(e){for(var t=(new E).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Gt.makeRotationX(e),this.applyMatrix4(Gt),this},rotateY:function(e){return Gt.makeRotationY(e),this.applyMatrix4(Gt),this},rotateZ:function(e){return Gt.makeRotationZ(e),this.applyMatrix4(Gt),this},translate:function(e,t,n){return Gt.makeTranslation(e,t,n),this.applyMatrix4(Gt),this},scale:function(e,t,n){return Gt.makeScale(e,t,n),this.applyMatrix4(Gt),this},lookAt:function(e){return qt.lookAt(e),qt.updateMatrix(),this.applyMatrix4(qt.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,c=void 0!==r.uv2?r.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var u=0;u<i.length;u+=3)t.vertices.push((new D).fromArray(i,u)),void 0!==a&&t.colors.push((new Ze).fromArray(a,u));function l(e,n,r,i){var u=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],l=new et(e,n,r,void 0===o?[]:[(new D).fromArray(o,3*e),(new D).fromArray(o,3*n),(new D).fromArray(o,3*r)],u,i);t.faces.push(l),void 0!==s&&t.faceVertexUvs[0].push([(new x).fromArray(s,2*e),(new x).fromArray(s,2*n),(new x).fromArray(s,2*r)]),void 0!==c&&t.faceVertexUvs[1].push([(new x).fromArray(c,2*e),(new x).fromArray(c,2*n),(new x).fromArray(c,2*r)])}var f=e.groups;if(f.length>0)for(u=0;u<f.length;u++)for(var h=f[u],d=h.start,p=d,m=d+h.count;p<m;p+=3)void 0!==n?l(n[p],n[p+1],n[p+2],h.materialIndex):l(p,p+1,p+2,h.materialIndex);else if(void 0!==n)for(u=0;u<n.length;u+=3)l(n[u],n[u+1],n[u+2]);else for(u=0;u<i.length/3;u+=3)l(u,u+1,u+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yt).negate(),this.translate(Yt.x,Yt.y,Yt.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new j;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new D,t=new D,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new D;if(e){var s,c,u,l=new D,f=new D;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],u=this.vertices[o.c],l.subVectors(u,c),f.subVectors(s,c),l.cross(f),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(o=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(a[o.a]),h[1].copy(a[o.b]),h[2].copy(a[o.c])):(h[0]=a[o.a].clone(),h[1]=a[o.b].clone(),h[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new Xt;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new D,u={a:new D,b:new D,c:new D},a.push(c),s.push(u)}var c,u,l=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=l.faceNormals[n],u=l.vertexNormals[n],c.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new be),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ee),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,u=this.colors,l=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new E).getNormalMatrix(t));for(var f=0,h=a.length;f<h;f++){var d=a[f].clone();void 0!==t&&d.applyMatrix4(t),o.push(d)}for(f=0,h=l.length;f<h;f++)u.push(l[f].clone());for(f=0,h=c.length;f<h;f++){var p,m,g,_=c[f],v=_.vertexNormals,y=_.vertexColors;(p=new et(_.a+i,_.b+i,_.c+i)).normal.copy(_.normal),void 0!==r&&p.normal.applyMatrix3(r).normalize();for(var b=0,w=v.length;b<w;b++)m=v[b].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),p.vertexNormals.push(m);p.color.copy(_.color);for(b=0,w=y.length;b<w;b++)g=y[b],p.vertexColors.push(g.clone());p.materialIndex=_.materialIndex+n,s.push(p)}for(f=0,h=e.faceVertexUvs.length;f<h;f++){var x=e.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);for(b=0,w=x.length;b<w;b++){for(var M=x[b],S=[],T=0,k=M.length;T<k;T++)S.push(M[T].clone());this.faceVertexUvs[f].push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,c={},u=[],l=[],f=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===c[t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f)]?(c[t]=n,u.push(this.vertices[n]),l[n]=u.length-1):l[n]=l[c[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new D(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],c={},u=[],l={},f=[],h={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,_=1!==d.color.r||1!==d.color.g||1!==d.color.b,v=d.vertexColors.length>0,y=0;if(y=E(y,0,0),y=E(y,1,!0),y=E(y,2,!1),y=E(y,3,p),y=E(y,4,m),y=E(y,5,g),y=E(y,6,_),y=E(y,7,v),a.push(y),a.push(d.a,d.b,d.c),a.push(d.materialIndex),p){var b=this.faceVertexUvs[0][i];a.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&a.push(M(d.normal)),g){var w=d.vertexNormals;a.push(M(w[0]),M(w[1]),M(w[2]))}if(_&&a.push(S(d.color)),v){var x=d.vertexColors;a.push(S(x[0]),S(x[1]),S(x[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function M(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=s.length/3,s.push(e.x,e.y,e.z),c[t])}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==l[t]?l[t]:(l[t]=u.length,u.push(e.getHex()),l[t])}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=r,e.data.normals=s,u.length>0&&(e.data.colors=u),f.length>0&&(e.data.uvs=[f]),e.data.faces=a,e},clone:function(){return(new Xt).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var u=e.faces;for(t=0,n=u.length;t<n;t++)this.faces.push(u[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var l=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=l.length;r<i;r++){var f=l[r],h=[];for(o=0,a=f.length;o<a;o++){var d=f[o];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var _={};if(void 0!==g[t].vertexNormals)for(_.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var v=g[t].vertexNormals[r],y={};y.a=v.a.clone(),y.b=v.b.clone(),y.c=v.c.clone(),_.vertexNormals.push(y)}if(void 0!==g[t].faceNormals)for(_.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)_.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(_)}var b=e.skinWeights;for(t=0,n=b.length;t<n;t++)this.skinWeights.push(b[t].clone());var w=e.skinIndices;for(t=0,n=w.length;t<n;t++)this.skinIndices.push(w[t].clone());var x=e.lineDistances;for(t=0,n=x.length;t<n;t++)this.lineDistances.push(x[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=e.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Zt=function(e){function t(e,n,r,i,o,u){var l;return Object(a.a)(this,t),(l=Object(s.a)(this,Object(c.a)(t).call(this))).type="BoxGeometry",l.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:u},l.fromBufferGeometry(new Jt(e,n,r,i,o,u)),l.mergeVertices(),l}return Object(u.a)(t,e),t}(Xt),Jt=function(e){function t(e,n,r,i,u,l){var f;Object(a.a)(this,t),(f=Object(s.a)(this,Object(c.a)(t).call(this))).type="BoxBufferGeometry",f.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:u,depthSegments:l};var h=Object(o.a)(f);e=e||1,n=n||1,r=r||1,i=Math.floor(i)||1,u=Math.floor(u)||1,l=Math.floor(l)||1;var d=[],p=[],m=[],g=[],_=0,v=0;function y(e,t,n,r,i,o,a,s,c,u,l){var f,y,b=o/c,w=a/u,x=o/2,E=a/2,M=s/2,S=c+1,T=u+1,k=0,C=0,O=new D;for(y=0;y<T;y++){var A=y*w-E;for(f=0;f<S;f++){var P=f*b-x;O[e]=P*r,O[t]=A*i,O[n]=M,p.push(O.x,O.y,O.z),O[e]=0,O[t]=0,O[n]=s>0?1:-1,m.push(O.x,O.y,O.z),g.push(f/c),g.push(1-y/u),k+=1}}for(y=0;y<u;y++)for(f=0;f<c;f++){var L=_+f+S*y,I=_+f+S*(y+1),R=_+(f+1)+S*(y+1),B=_+(f+1)+S*y;d.push(L,I,B),d.push(I,R,B),C+=6}h.addGroup(v,C,l),v+=C,_+=k}return(y("z","y","x",-1,-1,r,n,e,l,u,0),y("z","y","x",1,-1,r,n,-e,l,u,1),y("x","z","y",1,1,e,r,n,i,l,2),y("x","z","y",1,-1,e,r,-n,i,l,3),y("x","y","z",1,-1,e,n,r,i,u,4),y("x","y","z",-1,-1,e,n,-r,i,u,5),f.setIndex(d),f.setAttribute("position",new dt(p,3)),f.setAttribute("normal",new dt(m,3)),f.setAttribute("uv",new dt(g,2)),f)}return Object(u.a)(t,e),t}(Mt);function $t(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Qt(e){for(var t={},n=0;n<e.length;n++){var r=$t(e[n]);for(var i in r)t[i]=r[i]}return t}var en={clone:$t,merge:Qt};function tn(e){nt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function nn(){oe.call(this),this.type="Camera",this.matrixWorldInverse=new j,this.projectionMatrix=new j,this.projectionMatrixInverse=new j}function rn(e,t,n,r){nn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}tn.prototype=Object.create(nt.prototype),tn.prototype.constructor=tn,tn.prototype.isShaderMaterial=!0,tn.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$t(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},tn.prototype.toJSON=function(e){var t=nt.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},nn.prototype=Object.assign(Object.create(oe.prototype),{constructor:nn,isCamera:!0,copy:function(e,t){return oe.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new D),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){oe.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){oe.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),rn.prototype=Object.assign(Object.create(nn.prototype),{constructor:rn,isPerspectiveCamera:!0,copy:function(e,t){return nn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*w.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*w.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*w.RAD2DEG*Math.atan(Math.tan(.5*w.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*w.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=oe.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function on(e,t,n,r){oe.call(this),this.type="CubeCamera";var i=new rn(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new D(1,0,0)),this.add(i);var o=new rn(90,1,e,t);o.up.set(0,-1,0),o.lookAt(new D(-1,0,0)),this.add(o);var a=new rn(90,1,e,t);a.up.set(0,0,1),a.lookAt(new D(0,1,0)),this.add(a);var s=new rn(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new D(0,-1,0)),this.add(s);var c=new rn(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new D(0,0,1)),this.add(c);var u=new rn(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new D(0,0,-1)),this.add(u),r=r||{format:1022,magFilter:1006,minFilter:1006},this.renderTarget=new an(n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,l=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=l,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(o,a),e.clear(t,n,r);e.setRenderTarget(i)}}function an(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),C.call(this,e,e,t)}function sn(e,t,n,r,i,o,a,s,c,u,l,f){T.call(this,null,o,a,s,c,u,r,i,l,f),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==u?u:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}on.prototype=Object.create(oe.prototype),on.prototype.constructor=on,an.prototype=Object.create(C.prototype),an.prototype.constructor=an,an.prototype.isWebGLCubeRenderTarget=!0,an.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new ae,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new tn({type:"CubemapFromEquirect",uniforms:$t(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;var o=new Wt(new Jt(5,5,5),i);n.add(o);var a=new on(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(e,n),o.geometry.dispose(),o.material.dispose(),this},sn.prototype=Object.create(T.prototype),sn.prototype.constructor=sn,sn.prototype.isDataTexture=!0;var cn=new Ee,un=new D;function ln(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Re,void 0!==t?t:new Re,void 0!==n?n:new Re,void 0!==r?r:new Re,void 0!==i?i:new Re,void 0!==o?o:new Re]}Object.assign(ln.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],u=n[6],l=n[7],f=n[8],h=n[9],d=n[10],p=n[11],m=n[12],g=n[13],_=n[14],v=n[15];return t[0].setComponents(a-r,l-s,p-f,v-m).normalize(),t[1].setComponents(a+r,l+s,p+f,v+m).normalize(),t[2].setComponents(a+i,l+c,p+h,v+g).normalize(),t[3].setComponents(a-i,l-c,p-h,v-g).normalize(),t[4].setComponents(a-o,l-u,p-d,v-_).normalize(),t[5].setComponents(a+o,l+u,p+d,v+_).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),cn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(cn)},intersectsSprite:function(e){return cn.center.set(0,0,0),cn.radius=.7071067811865476,cn.applyMatrix4(e.matrixWorld),this.intersectsSphere(cn)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(un.x=r.normal.x>0?e.max.x:e.min.x,un.y=r.normal.y>0?e.max.y:e.min.y,un.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(un)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var fn={common:{diffuse:{value:new Ze(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new E},uv2Transform:{value:new E},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new x(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Ze(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new E}},sprite:{diffuse:{value:new Ze(15658734)},opacity:{value:1},center:{value:new x(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new E}}};function hn(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function dn(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,n){var r=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,t,i),o.version=t.version)}}}function pn(e,t,n,r){Xt.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new mn(e,t,n,r)),this.mergeVertices()}function mn(e,t,n,r){Mt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(n)||1,u=Math.floor(r)||1,l=c+1,f=u+1,h=e/c,d=t/u,p=[],m=[],g=[],_=[];for(o=0;o<f;o++){var v=o*d-s;for(i=0;i<l;i++){var y=i*h-a;m.push(y,-v,0),g.push(0,0,1),_.push(i/c),_.push(1-o/u)}}for(o=0;o<u;o++)for(i=0;i<c;i++){var b=i+l*o,w=i+l*(o+1),x=i+1+l*(o+1),E=i+1+l*o;p.push(b,w,E),p.push(w,x,E)}this.setIndex(p),this.setAttribute("position",new dt(m,3)),this.setAttribute("normal",new dt(g,3)),this.setAttribute("uv",new dt(_,2))}pn.prototype=Object.create(Xt.prototype),pn.prototype.constructor=pn,mn.prototype=Object.create(Mt.prototype),mn.prototype.constructor=mn;var gn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},_n={basic:{uniforms:Qt([fn.common,fn.specularmap,fn.envmap,fn.aomap,fn.lightmap,fn.fog]),vertexShader:gn.meshbasic_vert,fragmentShader:gn.meshbasic_frag},lambert:{uniforms:Qt([fn.common,fn.specularmap,fn.envmap,fn.aomap,fn.lightmap,fn.emissivemap,fn.fog,fn.lights,{emissive:{value:new Ze(0)}}]),vertexShader:gn.meshlambert_vert,fragmentShader:gn.meshlambert_frag},phong:{uniforms:Qt([fn.common,fn.specularmap,fn.envmap,fn.aomap,fn.lightmap,fn.emissivemap,fn.bumpmap,fn.normalmap,fn.displacementmap,fn.fog,fn.lights,{emissive:{value:new Ze(0)},specular:{value:new Ze(1118481)},shininess:{value:30}}]),vertexShader:gn.meshphong_vert,fragmentShader:gn.meshphong_frag},standard:{uniforms:Qt([fn.common,fn.envmap,fn.aomap,fn.lightmap,fn.emissivemap,fn.bumpmap,fn.normalmap,fn.displacementmap,fn.roughnessmap,fn.metalnessmap,fn.fog,fn.lights,{emissive:{value:new Ze(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},toon:{uniforms:Qt([fn.common,fn.specularmap,fn.aomap,fn.lightmap,fn.emissivemap,fn.bumpmap,fn.normalmap,fn.displacementmap,fn.gradientmap,fn.fog,fn.lights,{emissive:{value:new Ze(0)},specular:{value:new Ze(1118481)},shininess:{value:30}}]),vertexShader:gn.meshtoon_vert,fragmentShader:gn.meshtoon_frag},matcap:{uniforms:Qt([fn.common,fn.bumpmap,fn.normalmap,fn.displacementmap,fn.fog,{matcap:{value:null}}]),vertexShader:gn.meshmatcap_vert,fragmentShader:gn.meshmatcap_frag},points:{uniforms:Qt([fn.points,fn.fog]),vertexShader:gn.points_vert,fragmentShader:gn.points_frag},dashed:{uniforms:Qt([fn.common,fn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gn.linedashed_vert,fragmentShader:gn.linedashed_frag},depth:{uniforms:Qt([fn.common,fn.displacementmap]),vertexShader:gn.depth_vert,fragmentShader:gn.depth_frag},normal:{uniforms:Qt([fn.common,fn.bumpmap,fn.normalmap,fn.displacementmap,{opacity:{value:1}}]),vertexShader:gn.normal_vert,fragmentShader:gn.normal_frag},sprite:{uniforms:Qt([fn.sprite,fn.fog]),vertexShader:gn.sprite_vert,fragmentShader:gn.sprite_frag},background:{uniforms:{uvTransform:{value:new E},t2D:{value:null}},vertexShader:gn.background_vert,fragmentShader:gn.background_frag},cube:{uniforms:Qt([fn.envmap,{opacity:{value:1}}]),vertexShader:gn.cube_vert,fragmentShader:gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gn.equirect_vert,fragmentShader:gn.equirect_frag},distanceRGBA:{uniforms:Qt([fn.common,fn.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gn.distanceRGBA_vert,fragmentShader:gn.distanceRGBA_frag},shadow:{uniforms:Qt([fn.lights,fn.fog,{color:{value:new Ze(0)},opacity:{value:1}}]),vertexShader:gn.shadow_vert,fragmentShader:gn.shadow_frag}};function vn(e,t,n,r){var i,o,a=new Ze(0),s=0,c=null,u=0,l=null;function f(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),f(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){f(a,s=e)},render:function(t,r,h,d){var p=r.background,m=e.xr,g=m.getSession&&m.getSession();if(g&&"additive"===g.environmentBlendMode&&(p=null),null===p?f(a,s):p&&p.isColor&&(f(p,1),d=!0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||306===p.mapping)){void 0===o&&((o=new Wt(new Jt(1,1,1),new tn({type:"BackgroundCubeMaterial",uniforms:$t(_n.cube.uniforms),vertexShader:_n.cube.vertexShader,fragmentShader:_n.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o));var _=p.isWebGLCubeRenderTarget?p.texture:p;o.material.uniforms.envMap.value=_,o.material.uniforms.flipEnvMap.value=_.isCubeTexture?-1:1,c===p&&u===_.version&&l===e.toneMapping||(o.material.needsUpdate=!0,c=p,u=_.version,l=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null)}else p&&p.isTexture&&(void 0===i&&((i=new Wt(new mn(2,2),new tn({type:"BackgroundMaterial",uniforms:$t(_n.background.uniforms),vertexShader:_n.background.vertexShader,fragmentShader:_n.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),i.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&u===p.version&&l===e.toneMapping||(i.material.needsUpdate=!0,c=p,u=p.version,l=e.toneMapping),t.unshift(i,i.geometry,i.material,0,0,null))}}}function yn(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(r,a,s,c){if(0!==c){var u,l;if(o)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,a,s,c),n.update(s,i,c)}}}function bn(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),l=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),d=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),_=l>0,v=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:l,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:_,floatFragmentTextures:v,floatVertexTextures:_&&v,maxSamples:o?e.getParameter(36183):0}}function wn(){var e=this,t=null,n=0,r=!1,i=!1,o=new Re,a=new E,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(t,n,r,i){var c=null!==t?t.length:0,u=null;if(0!==c){if(u=s.value,!0!==i||null===u){var l=r+4*c,f=n.matrixWorldInverse;a.getNormalMatrix(f),(null===u||u.length<l)&&(u=new Float32Array(l));for(var h=0,d=r;h!==c;++h,d+=4)o.copy(t[h]).applyMatrix4(f,a),o.normal.toArray(u,d),u[d+3]=o.constant}s.value=u,s.needsUpdate=!0}return e.numPlanes=c,u}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=u(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,l,f,h){if(!r||null===e||0===e.length||i&&!a)i?u(null):c();else{var d=i?0:n,p=4*d,m=f.clippingState||null;s.value=m,m=u(e,l,p,h);for(var g=0;g!==p;++g)m[g]=t[g];f.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function xn(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function En(e,t,n){var r=new WeakMap,i=new WeakMap;function o(e){var a=e.target,s=r.get(a);for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);a.removeEventListener("dispose",o),r.delete(a);var u=i.get(s);u&&(t.remove(u),i.delete(s)),n.memory.geometries--}function a(e){var n=[],r=e.index,o=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var c=0,u=s.length;c<u;c+=3){var l=s[c+0],f=s[c+1],h=s[c+2];n.push(l,f,f,h,h,l)}}else{s=o.array;a=o.version;for(c=0,u=s.length/3-1;c<u;c+=3){l=c+0,f=c+1,h=c+2;n.push(l,f,f,h,h,l)}}var d=new(gt(n)>65535?ht:lt)(n,1);d.version=a,t.update(d,34963);var p=i.get(e);p&&t.remove(p),i.set(e,d)}return{get:function(e,t){var i=r.get(t);return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Mt).setFromObject(e)),i=t._bufferGeometry),r.set(t,i),n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,c=a.length;s<c;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return i.get(e)}}}function Mn(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(r,c,u,l){if(0!==l){var f,h;if(s)f=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(f=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[h](i,u,o,c*a,l),n.update(u,i,l)}}}function Sn(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Tn(e,t){return Math.abs(t[1])-Math.abs(e[1])}function kn(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,c=void 0===s?0:s.length,u=t[i.id];if(void 0===u){u=[];for(var l=0;l<c;l++)u[l]=[l,0];t[i.id]=u}var f=o.morphTargets&&i.morphAttributes.position,h=o.morphNormals&&i.morphAttributes.normal;for(l=0;l<c;l++){0!==(p=u[l])[1]&&(f&&i.deleteAttribute("morphTarget"+l),h&&i.deleteAttribute("morphNormal"+l))}for(l=0;l<c;l++){(p=u[l])[0]=l,p[1]=s[l]}u.sort(Tn);var d=0;for(l=0;l<8;l++){var p;if(p=u[l]){var m=p[0],g=p[1];if(g){f&&i.setAttribute("morphTarget"+l,f[m]),h&&i.setAttribute("morphNormal"+l,h[m]),n[l]=g,d+=g;continue}}n[l]=0}var _=i.morphTargetsRelative?1:1-d;a.getUniforms().setValue(e,"morphTargetBaseInfluence",_),a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function Cn(e,t,n,r){var i={};return{update:function(e){var o=r.render.frame,a=e.geometry,s=t.get(e,a);return i[s.id]!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i[s.id]=o),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s},dispose:function(){i={}}}}function On(e,t,n,r,i,o,a,s,c,u){e=void 0!==e?e:[],t=void 0!==t?t:301,a=void 0!==a?a:1022,T.call(this,e,t,n,r,i,o,a,s,c,u),this.flipY=!1}function An(e,t,n,r){T.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=m,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Pn(e,t,n,r){T.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=m,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}_n.physical={uniforms:Qt([_n.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Ze(0)},clearcoatNormalScale:{value:new x(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},On.prototype=Object.create(T.prototype),On.prototype.constructor=On,On.prototype.isCubeTexture=!0,Object.defineProperty(On.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),An.prototype=Object.create(T.prototype),An.prototype.constructor=An,An.prototype.isDataTexture2DArray=!0,Pn.prototype=Object.create(T.prototype),Pn.prototype.constructor=Pn,Pn.prototype.isDataTexture3D=!0;var Ln=new T,Dn=new An,In=new Pn,Rn=new On,Bn=[],Nn=[],Un=new Float32Array(16),zn=new Float32Array(9),Fn=new Float32Array(4);function jn(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=Bn[i];if(void 0===o&&(o=new Float32Array(i),Bn[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Wn(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Hn(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Vn(e,t){var n=Nn[t];void 0===n&&(n=new Int32Array(t),Nn[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Kn(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Gn(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wn(n,t))return;e.uniform2fv(this.addr,t),Hn(n,t)}}function qn(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Wn(n,t))return;e.uniform3fv(this.addr,t),Hn(n,t)}}function Yn(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wn(n,t))return;e.uniform4fv(this.addr,t),Hn(n,t)}}function Xn(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Wn(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Hn(n,t)}else{if(Wn(n,r))return;Fn.set(r),e.uniformMatrix2fv(this.addr,!1,Fn),Hn(n,r)}}function Zn(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Wn(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Hn(n,t)}else{if(Wn(n,r))return;zn.set(r),e.uniformMatrix3fv(this.addr,!1,zn),Hn(n,r)}}function Jn(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Wn(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Hn(n,t)}else{if(Wn(n,r))return;Un.set(r),e.uniformMatrix4fv(this.addr,!1,Un),Hn(n,r)}}function $n(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Ln,i)}function Qn(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Dn,i)}function er(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||In,i)}function tr(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||Rn,i)}function nr(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function rr(e,t){var n=this.cache;Wn(n,t)||(e.uniform2iv(this.addr,t),Hn(n,t))}function ir(e,t){var n=this.cache;Wn(n,t)||(e.uniform3iv(this.addr,t),Hn(n,t))}function or(e,t){var n=this.cache;Wn(n,t)||(e.uniform4iv(this.addr,t),Hn(n,t))}function ar(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function sr(e,t){e.uniform1fv(this.addr,t)}function cr(e,t){e.uniform1iv(this.addr,t)}function ur(e,t){e.uniform2iv(this.addr,t)}function lr(e,t){e.uniform3iv(this.addr,t)}function fr(e,t){e.uniform4iv(this.addr,t)}function hr(e,t){var n=jn(t,this.size,2);e.uniform2fv(this.addr,n)}function dr(e,t){var n=jn(t,this.size,3);e.uniform3fv(this.addr,n)}function pr(e,t){var n=jn(t,this.size,4);e.uniform4fv(this.addr,n)}function mr(e,t){var n=jn(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function gr(e,t){var n=jn(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function _r(e,t){var n=jn(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function vr(e,t,n){var r=t.length,i=Vn(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||Ln,i[o])}function yr(e,t,n){var r=t.length,i=Vn(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||Rn,i[o])}function br(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Kn;case 35664:return Gn;case 35665:return qn;case 35666:return Yn;case 35674:return Xn;case 35675:return Zn;case 35676:return Jn;case 5124:case 35670:return nr;case 35667:case 35671:return rr;case 35668:case 35672:return ir;case 35669:case 35673:return or;case 5125:return ar;case 35678:case 36198:case 36298:case 36306:case 35682:return $n;case 35679:case 36299:case 36307:return er;case 35680:case 36300:case 36308:case 36293:return tr;case 36289:case 36303:case 36311:case 36292:return Qn}}(t.type)}function wr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return sr;case 35664:return hr;case 35665:return dr;case 35666:return pr;case 35674:return mr;case 35675:return gr;case 35676:return _r;case 5124:case 35670:return cr;case 35667:case 35671:return ur;case 35668:case 35672:return lr;case 35669:case 35673:return fr;case 35678:case 36198:case 36298:case 36306:case 35682:return vr;case 35680:case 36300:case 36308:case 36293:return yr}}(t.type)}function xr(e){this.id=e,this.seq=[],this.map={}}wr.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Hn(t,e)},xr.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var Er=/([\w\d_]+)(\])?(\[|\.)?/g;function Mr(e,t){e.seq.push(t),e.map[t.id]=t}function Sr(e,t,n){var r=e.name,i=r.length;for(Er.lastIndex=0;;){var o=Er.exec(r),a=Er.lastIndex,s=o[1],c="]"===o[2],u=o[3];if(c&&(s|=0),void 0===u||"["===u&&a+2===i){Mr(n,void 0===u?new br(s,e,t):new wr(s,e,t));break}var l=n.map[s];void 0===l&&Mr(n,l=new xr(s)),n=l}}function Tr(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);Sr(i,e.getUniformLocation(t,i.name),this)}}function kr(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Tr.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Tr.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Tr.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},Tr.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var Cr=0;function Or(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function Ar(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Pr(e,t){var n=Or(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Lr(e,t){var n=Or(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Dr(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ir(e){return""!==e}function Rr(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Br(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Nr=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ur(e){return e.replace(Nr,zr)}function zr(e,t){var n=gn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Ur(n)}var Fr=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function jr(e){return e.replace(Fr,Wr)}function Wr(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function Hr(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Vr(e,t,n){var r,i,o=e.getContext(),a=n.defines,s=n.vertexShader,c=n.fragmentShader,u=function(e){var t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),l=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 304:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),d=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ir).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),g=o.createProgram(),_=n.numMultiviewViews;if(n.isRawShaderMaterial?((r=[m].filter(Ir).join("\n")).length>0&&(r+="\n"),(i=[p,m].filter(Ir).join("\n")).length>0&&(i+="\n")):(r=[Hr(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ir).join("\n"),i=[p,Hr(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+l:"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?gn.tonemapping_pars_fragment:"",0!==n.toneMapping?Dr("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.outputEncoding||n.mapEncoding||n.matcapEncoding||n.envMapEncoding||n.emissiveMapEncoding||n.lightMapEncoding?gn.encodings_pars_fragment:"",n.mapEncoding?Pr("mapTexelToLinear",n.mapEncoding):"",n.matcapEncoding?Pr("matcapTexelToLinear",n.matcapEncoding):"",n.envMapEncoding?Pr("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?Pr("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMapEncoding?Pr("lightMapTexelToLinear",n.lightMapEncoding):"",n.outputEncoding?Lr("linearToOutputTexel",n.outputEncoding):"",n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ir).join("\n")),s=Br(s=Rr(s=Ur(s),n),n),c=Br(c=Rr(c=Ur(c),n),n),s=jr(s),c=jr(c),n.isWebGL2&&!n.isRawShaderMaterial){var v=!1,y=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==s.match(y)&&null!==c.match(y)&&(v=!0,s=s.replace(y,""),c=c.replace(y,"")),r=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,i=["#version 300 es\n","#define varying in",v?"":"out highp vec4 pc_fragColor;",v?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+i,_>0&&(r=(r=r.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+_+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+_+"];","uniform mat4 projectionMatrices["+_+"];","uniform mat4 viewMatrices["+_+"];","uniform mat3 normalMatrices["+_+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),i=(i=i.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+_+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var b,w,x=i+c,E=kr(o,35633,r+s),M=kr(o,35632,x);if(o.attachShader(g,E),o.attachShader(g,M),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var S=o.getProgramInfoLog(g).trim(),T=o.getShaderInfoLog(E).trim(),k=o.getShaderInfoLog(M).trim(),C=!0,O=!0;if(!1===o.getProgramParameter(g,35714)){C=!1;var A=Ar(o,E,"vertex"),P=Ar(o,M,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",S,A,P)}else""!==S?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",S):""!==T&&""!==k||(O=!1);O&&(this.diagnostics={runnable:C,programLog:S,vertexShader:{log:T,prefix:r},fragmentShader:{log:k,prefix:i}})}return o.deleteShader(E),o.deleteShader(M),this.getUniforms=function(){return void 0===b&&(b=new Tr(o,g)),b},this.getAttributes=function(){return void 0===w&&(w=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(o,g)),w},this.destroy=function(){o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Cr++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=E,this.fragmentShader=M,this.numMultiviewViews=_,this}function Kr(e,t,n){var r=[],i=n.isWebGL2,o=n.logarithmicDepthBuffer,a=n.floatVertexTextures,s=n.precision,c=n.maxVertexUniforms,u=n.vertexTextures,l={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","numMultiviewViews","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function h(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=3e3,t}this.getParameters=function(r,f,d,p,m,g,_){var v=p.fog,y=r.isMeshStandardMaterial?p.environment:null,b=r.envMap||y,w=l[r.type],x=_.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(a)return 1024;var n=c,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(_):0;null!==r.precision&&(s=n.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",s,"instead.");var E=function(e,t){var n;if(t){var r=_n[t];n={name:e.type,uniforms:en.clone(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}}else n={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return n}(r,w);r.onBeforeCompile(E,e);var M=e.getRenderTarget(),S=M&&M.isWebGLMultiviewRenderTarget?M.numViews:0;return{isWebGL2:i,shaderID:w,shaderName:E.name,uniforms:E.uniforms,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,defines:r.defines,isRawShaderMaterial:r.isRawShaderMaterial,isShaderMaterial:r.isShaderMaterial,precision:s,instancing:!0===_.isInstancedMesh,supportsVertexTextures:u,numMultiviewViews:S,outputEncoding:null!==M?h(M.texture):e.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!b,envMapMode:b&&b.mapping,envMapEncoding:h(b),envMapCubeUV:!!b&&(306===b.mapping||307===b.mapping),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatNormalMap||!!r.displacementMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap)&&!!r.displacementMap,fog:!!v,useFog:r.fog,fogExp2:v&&v.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:o,skinning:r.skinning&&x>0,maxBones:x,useVertexTexture:a,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numRectAreaLights:f.rectArea.length,numHemiLights:f.hemi.length,numDirLightShadows:f.directionalShadowMap.length,numPointLightShadows:f.pointShadowMap.length,numSpotLightShadows:f.spotShadowMap.length,numClippingPlanes:m,numClipIntersection:g,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.frawbuffers,extensionDrawbuffers:r.extensions&&r.extensions.drawbuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:i||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:i||null!==t.get("EXT_shader_texture_lod"),onBeforeCompile:r.onBeforeCompile}},this.getProgramCacheKey=function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(void 0===t.isRawShaderMaterial){for(var i=0;i<f.length;i++)n.push(t[f[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.onBeforeCompile.toString()),n.join()},this.acquireProgram=function(t,n){for(var i,o=0,a=r.length;o<a;o++){var s=r[o];if(s.cacheKey===n){++(i=s).usedTimes;break}}return void 0===i&&(i=new Vr(e,n,t),r.push(i)),i},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Gr(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function qr(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Yr(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Xr(){var e=[],t=0,n=[],r=[],i={id:-1};function o(n,r,o,a,s,c){var u=e[t];return void 0===u?(u={id:n.id,object:n,geometry:r,material:o,program:o.program||i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:c},e[t]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=o,u.program=o.program||i,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=s,u.group=c),t++,u}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,a,s,c){var u=o(e,t,i,a,s,c);(!0===i.transparent?r:n).push(u)},unshift:function(e,t,i,a,s,c){var u=o(e,t,i,a,s,c);(!0===i.transparent?r:n).unshift(u)},sort:function(e,t){n.length>1&&n.sort(e||qr),r.length>1&&r.sort(t||Yr)}}}function Zr(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i,o=e.get(n);return void 0===o?(i=new Xr,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):void 0===(i=o.get(r))&&(i=new Xr,o.set(r,i)),i},dispose:function(){e=new WeakMap}}}function Jr(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new D,color:new Ze,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new x};break;case"SpotLight":n={position:new D,direction:new D,color:new Ze,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new x};break;case"PointLight":n={position:new D,color:new Ze,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new x,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new D,skyColor:new Ze,groundColor:new Ze};break;case"RectAreaLight":n={color:new Ze,position:new D,halfWidth:new D,halfHeight:new D}}return e[t.id]=n,n}}}var $r=0;function Qr(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ei(){for(var e=new Jr,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new D);var r=new D,i=new j,o=new j;return{setup:function(n,a,s){for(var c=0,u=0,l=0,f=0;f<9;f++)t.probe[f].set(0,0,0);var h=0,d=0,p=0,m=0,g=0,_=0,v=0,y=0,b=s.matrixWorldInverse;n.sort(Qr),f=0;for(var w=n.length;f<w;f++){var x=n[f],E=x.color,M=x.intensity,S=x.distance,T=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)c+=E.r*M,u+=E.g*M,l+=E.b*M;else if(x.isLightProbe)for(var k=0;k<9;k++)t.probe[k].addScaledVector(x.sh.coefficients[k],M);else if(x.isDirectionalLight){if((O=e.get(x)).color.copy(x.color).multiplyScalar(x.intensity),O.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),O.direction.sub(r),O.direction.transformDirection(b),O.shadow=x.castShadow,x.castShadow){var C=x.shadow;O.shadowBias=C.bias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,t.directionalShadowMap[h]=T,t.directionalShadowMatrix[h]=x.shadow.matrix,_++}t.directional[h]=O,h++}else if(x.isSpotLight){if((O=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),O.position.applyMatrix4(b),O.color.copy(E).multiplyScalar(M),O.distance=S,O.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),O.direction.sub(r),O.direction.transformDirection(b),O.coneCos=Math.cos(x.angle),O.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),O.decay=x.decay,O.shadow=x.castShadow,x.castShadow){C=x.shadow;O.shadowBias=C.bias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,t.spotShadowMap[p]=T,t.spotShadowMatrix[p]=x.shadow.matrix,y++}t.spot[p]=O,p++}else if(x.isRectAreaLight){(O=e.get(x)).color.copy(E).multiplyScalar(M),O.position.setFromMatrixPosition(x.matrixWorld),O.position.applyMatrix4(b),o.identity(),i.copy(x.matrixWorld),i.premultiply(b),o.extractRotation(i),O.halfWidth.set(.5*x.width,0,0),O.halfHeight.set(0,.5*x.height,0),O.halfWidth.applyMatrix4(o),O.halfHeight.applyMatrix4(o),t.rectArea[m]=O,m++}else if(x.isPointLight){if((O=e.get(x)).position.setFromMatrixPosition(x.matrixWorld),O.position.applyMatrix4(b),O.color.copy(x.color).multiplyScalar(x.intensity),O.distance=x.distance,O.decay=x.decay,O.shadow=x.castShadow,x.castShadow){C=x.shadow;O.shadowBias=C.bias,O.shadowRadius=C.radius,O.shadowMapSize=C.mapSize,O.shadowCameraNear=C.camera.near,O.shadowCameraFar=C.camera.far,t.pointShadowMap[d]=T,t.pointShadowMatrix[d]=x.shadow.matrix,v++}t.point[d]=O,d++}else if(x.isHemisphereLight){var O;(O=e.get(x)).direction.setFromMatrixPosition(x.matrixWorld),O.direction.transformDirection(b),O.direction.normalize(),O.skyColor.copy(x.color).multiplyScalar(M),O.groundColor.copy(x.groundColor).multiplyScalar(M),t.hemi[g]=O,g++}}t.ambient[0]=c,t.ambient[1]=u,t.ambient[2]=l;var A=t.hash;A.directionalLength===h&&A.pointLength===d&&A.spotLength===p&&A.rectAreaLength===m&&A.hemiLength===g&&A.numDirectionalShadows===_&&A.numPointShadows===v&&A.numSpotShadows===y||(t.directional.length=h,t.spot.length=p,t.rectArea.length=m,t.point.length=d,t.hemi.length=g,t.directionalShadowMap.length=_,t.pointShadowMap.length=v,t.spotShadowMap.length=y,t.directionalShadowMatrix.length=_,t.pointShadowMatrix.length=v,t.spotShadowMatrix.length=y,A.directionalLength=h,A.pointLength=d,A.spotLength=p,A.rectAreaLength=m,A.hemiLength=g,A.numDirectionalShadows=_,A.numPointShadows=v,A.numSpotShadows=y,t.version=$r++)},state:t}}function ti(){var e=new ei,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function ni(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new ti,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new ti,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function ri(e){nt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function ii(e){nt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}ri.prototype=Object.create(nt.prototype),ri.prototype.constructor=ri,ri.prototype.isMeshDepthMaterial=!0,ri.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ii.prototype=Object.create(nt.prototype),ii.prototype.constructor=ii,ii.prototype.isMeshDistanceMaterial=!0,ii.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function oi(e,t,n){var r=new ln,i=new x,o=new x,a=new k,s=[],c=[],u={},l={0:1,1:0,2:2},f=new tn({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new x},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=f.clone();h.defines.HORIZONAL_PASS=1;var d=new Mt;d.setAttribute("position",new ot(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new Wt(d,f),m=this;function g(n,r){var i=t.update(p);f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,f,p,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,p,null)}function _(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new ri({depthPacking:3201,morphTargets:e,skinning:t}),s[r]=i),i}function v(e,t,n){var r=e<<0|t<<1|n<<2,i=c[r];return void 0===i&&(i=new ii({morphTargets:e,skinning:t}),c[r]=i),i}function y(t,n,r,i,o,a){var s=t.geometry,c=null,f=_,h=t.customDepthMaterial;if(!0===r.isPointLight&&(f=v,h=t.customDistanceMaterial),void 0===h){var d=!1;!0===n.morphTargets&&(!0===s.isBufferGeometry?d=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:!0===s.isGeometry&&(d=s.morphTargets&&s.morphTargets.length>0));var p=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),c=f(d,p,!0===t.isInstancedMesh)}else c=h;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var m=c.uuid,g=n.uuid,y=u[m];void 0===y&&(y={},u[m]=y);var b=y[g];void 0===b&&(b=c.clone(),y[g]=b),c=b}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=3===a?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:l[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=o),c}function b(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=t.update(n),u=n.material;if(Array.isArray(u))for(var l=c.groups,f=0,h=l.length;f<h;f++){var d=l[f],p=u[d.materialIndex];if(p&&p.visible){var m=y(n,p,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,m,n,d)}}else if(u.visible){m=y(n,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,m,n,null)}}for(var g=n.children,_=0,v=g.length;_<v;_++)b(g[_],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,s,c){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),l=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var _=t[d],v=_.shadow;if(void 0!==v){i.copy(v.mapSize);var y=v.getFrameExtents();if(i.multiply(y),o.copy(v.mapSize),(i.x>n||i.y>n)&&(console.warn("THREE.WebGLShadowMap:",_,"has shadow exceeding max texture size, reducing"),i.x>n&&(o.x=Math.floor(n/y.x),i.x=o.x*y.x,v.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/y.y),i.y=o.y*y.y,v.mapSize.y=o.y)),null===v.map&&!v.isPointLightShadow&&3===this.type){var w={minFilter:1006,magFilter:1006,format:1023};v.map=new C(i.x,i.y,w),v.map.texture.name=_.name+".shadowMap",v.mapPass=new C(i.x,i.y,w),v.camera.updateProjectionMatrix()}if(null===v.map){w={minFilter:1003,magFilter:1003,format:1023};v.map=new C(i.x,i.y,w),v.map.texture.name=_.name+".shadowMap",v.camera.updateProjectionMatrix()}e.setRenderTarget(v.map),e.clear();for(var x=v.getViewportCount(),E=0;E<x;E++){var M=v.getViewport(E);a.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),h.viewport(a),v.updateMatrices(_,E),r=v.getFrustum(),b(s,c,v.camera,_,this.type)}v.isPointLightShadow||3!==this.type||g(v,c)}else console.warn("THREE.WebGLShadowMap:",_,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,l,f)}}}function ai(e,t,n){var r,o,a=n.isWebGL2;var s=new function(){var t=!1,n=new k,r=null,i=new k(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},c=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?W(2929):H(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null;return{setTest:function(e){t||(e?W(2960):H(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&c===r||(e.stencilOp(t,n,r),a=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,u=null}}},l=e.getParameter(34921),f=new Uint8Array(l),h=new Uint8Array(l),d=new Uint8Array(l),p={},m=null,g=null,_=null,v=null,y=null,b=null,w=null,x=null,E=null,M=!1,S=null,T=null,C=null,O=null,A=null,P=e.getParameter(35661),L=!1,D=0,I=e.getParameter(7938);-1!==I.indexOf("WebGL")?(D=parseFloat(/^WebGL\ ([0-9])/.exec(I)[1]),L=D>=1):-1!==I.indexOf("OpenGL ES")&&(D=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(I)[1]),L=D>=2);var R=null,B={},N=new k,U=new k;function z(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var F={};function j(n,r){(f[n]=1,0===h[n]&&(e.enableVertexAttribArray(n),h[n]=1),d[n]!==r)&&((a?e:t.get("ANGLE_instanced_arrays"))[a?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),d[n]=r)}function W(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function H(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}F[3553]=z(3553,3553,1),F[34067]=z(34067,34069,6),s.setClear(0,0,0,1),c.setClear(1),u.setClear(0),W(2929),c.setFunc(3),Y(!1),X(1),W(2884),q(0);var V=(r={},Object(i.a)(r,100,32774),Object(i.a)(r,101,32778),Object(i.a)(r,102,32779),r);if(a)V[103]=32775,V[104]=32776;else{var K=t.get("EXT_blend_minmax");null!==K&&(V[103]=K.MIN_EXT,V[104]=K.MAX_EXT)}var G=(o={},Object(i.a)(o,200,0),Object(i.a)(o,201,1),Object(i.a)(o,202,768),Object(i.a)(o,204,770),Object(i.a)(o,210,776),Object(i.a)(o,208,774),Object(i.a)(o,206,772),Object(i.a)(o,203,769),Object(i.a)(o,205,771),Object(i.a)(o,209,775),Object(i.a)(o,207,773),o);function q(t,n,r,i,o,a,s,c){if(0!==t){if(g||(W(3042),g=!0),5===t)o=o||n,a=a||r,s=s||i,n===v&&o===w||(e.blendEquationSeparate(V[n],V[o]),v=n,w=o),r===y&&i===b&&a===x&&s===E||(e.blendFuncSeparate(G[r],G[i],G[a],G[s]),y=r,b=i,x=a,E=s),_=t,M=null;else if(t!==_||c!==M){if(100===v&&100===w||(e.blendEquation(32774),v=100,w=100),c)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,b=null,x=null,E=null,_=t,M=c}}else g&&(H(3042),g=!1)}function Y(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function X(t){0!==t?(W(2884),t!==T&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):H(2884),T=t}function Z(t,n,r){t?(W(32823),O===n&&A===r||(e.polygonOffset(n,r),O=n,A=r)):H(32823)}function J(t){void 0===t&&(t=33984+P-1),R!==t&&(e.activeTexture(t),R=t)}return{buffers:{color:s,depth:c,stencil:u},initAttributes:function(){for(var e=0,t=f.length;e<t;e++)f[e]=0},enableAttribute:function(e){j(e,0)},enableAttributeAndDivisor:j,disableUnusedAttributes:function(){for(var t=0,n=h.length;t!==n;++t)h[t]!==f[t]&&(e.disableVertexAttribArray(t),h[t]=0)},enable:W,disable:H,useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:q,setMaterial:function(e,t){2===e.side?H(2884):W(2884);var n=1===e.side;t&&(n=!n),Y(n),1===e.blending&&!1===e.transparent?q(0):q(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),c.setFunc(e.depthFunc),c.setTest(e.depthTest),c.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Z(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Y,setCullFace:X,setLineWidth:function(t){t!==C&&(L&&e.lineWidth(t),C=t)},setPolygonOffset:Z,setScissorTest:function(e){e?W(3089):H(3089)},activeTexture:J,bindTexture:function(t,n){null===R&&J();var r=B[R];void 0===r&&(r={type:void 0,texture:void 0},B[R]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||F[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=B[R];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===U.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),U.copy(t))},reset:function(){for(var t=0;t<h.length;t++)1===h[t]&&(e.disableVertexAttribArray(t),h[t]=0);p={},R=null,B={},m=null,_=null,S=null,T=null,s.reset(),c.reset(),u.reset()}}}function si(e,t,n,r,o,a,s){var c,u,l,f=o.isWebGL2,h=o.maxTextures,d=o.maxCubemapSize,_=o.maxTextureSize,v=o.maxSamples,y=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(G){}function x(e,t){return b?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function E(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?w.floorPowerOfTwo:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===l&&(l=x(a,s));var c=n?x(a,s):l;return c.width=a,c.height=s,c.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),c}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function M(e){return w.isPowerOfTwo(e.width)&&w.isPowerOfTwo(e.height)}function S(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function T(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function k(n,r,i){if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325===o||33326===o||34842===o||34836===o?t.get("EXT_color_buffer_float"):34843!==o&&34837!==o||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),o}function C(e){return 1003===e||1004===e||1005===e?9728:9729}function O(t){var n=t.target;n.removeEventListener("dispose",O),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&y.delete(n),s.memory.textures--}function A(t){var n=t.target;n.removeEventListener("dispose",A),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(n.__webglColorTexture),e.deleteTexture(n.__webglDepthStencilTexture),s.memory.textures-=2;o=0;for(var a=n.__webglViewFramebuffers.length;o<a;o++)e.deleteFramebuffer(n.__webglViewFramebuffers[o])}r.remove(t.texture),r.remove(t)}(n),s.memory.textures--}var P=0;function L(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=s.render.frame;y.get(e)!==t&&(y.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void z(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function D(t,i){if(6===t.image.length){var o=r.get(t);if(t.version>0&&o.__version!==t.version){U(o,t),n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),c=t.image[0]&&t.image[0].isDataTexture,u=[],l=0;l<6;l++)u[l]=s||c?c?t.image[l].image:t.image[l]:E(t.image[l],!1,!0,d);var h,p=u[0],m=M(p)||f,g=a.convert(t.format),_=a.convert(t.type),v=k(t.internalFormat,g,_);if(N(34067,t,m),s){for(l=0;l<6;l++){h=u[l].mipmaps;for(var y=0;y<h.length;y++){var b=h[y];1023!==t.format&&1022!==t.format?null!==g?n.compressedTexImage2D(34069+l,y,v,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+l,y,v,b.width,b.height,0,g,_,b.data)}}o.__maxMipLevel=h.length-1}else{h=t.mipmaps;for(l=0;l<6;l++)if(c){n.texImage2D(34069+l,0,v,u[l].width,u[l].height,0,g,_,u[l].data);for(y=0;y<h.length;y++){var w=(b=h[y]).image[l].image;n.texImage2D(34069+l,y+1,v,w.width,w.height,0,g,_,w.data)}}else{n.texImage2D(34069+l,0,v,g,_,u[l]);for(y=0;y<h.length;y++){b=h[y];n.texImage2D(34069+l,y+1,v,g,_,b.image[l])}}o.__maxMipLevel=h.length}S(t,m)&&T(34067,t,p.width,p.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture)}}function I(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}var R=(c={},Object(i.a)(c,p,10497),Object(i.a)(c,m,33071),Object(i.a)(c,g,33648),c),B=(u={},Object(i.a)(u,1003,9728),Object(i.a)(u,1004,9984),Object(i.a)(u,1005,9986),Object(i.a)(u,1006,9729),Object(i.a)(u,1007,9985),Object(i.a)(u,1008,9987),u);function N(n,i,a){a?(e.texParameteri(n,10242,R[i.wrapS]),e.texParameteri(n,10243,R[i.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,R[i.wrapR]),e.texParameteri(n,10240,B[i.magFilter]),e.texParameteri(n,10241,B[i.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),i.wrapS===m&&i.wrapT===m||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,C(i.magFilter)),e.texParameteri(n,10241,C(i.minFilter)),1003!==i.minFilter&&1006!==i.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(1015===i.type&&null===t.get("OES_texture_float_linear"))return;if(1016===i.type&&null===(f||t.get("OES_texture_half_float_linear")))return;(i.anisotropy>1||r.get(i).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,o.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy)}}function U(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",O),t.__webglTexture=e.createTexture(),s.memory.textures++)}function z(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),U(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s=function(e){return!f&&(e.wrapS!==m||e.wrapT!==m||1003!==e.minFilter&&1006!==e.minFilter)}(r)&&!1===M(r.image),c=E(r.image,s,!1,_),u=M(c)||f,l=a.convert(r.format),h=a.convert(r.type),d=k(r.internalFormat,l,h);N(o,r,u);var p,g=r.mipmaps;if(r.isDepthTexture){if(d=6402,1015===r.type){if(!1===f)throw new Error("Float Depth Texture only supported in WebGL2.0");d=36012}else f&&(d=33189);1026===r.format&&6402===d&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,h=a.convert(r.type)),1027===r.format&&(d=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,h=a.convert(r.type))),n.texImage2D(3553,0,d,c.width,c.height,0,l,h,null)}else if(r.isDataTexture)if(g.length>0&&u){for(var v=0,y=g.length;v<y;v++)p=g[v],n.texImage2D(3553,v,d,p.width,p.height,0,l,h,p.data);r.generateMipmaps=!1,t.__maxMipLevel=g.length-1}else n.texImage2D(3553,0,d,c.width,c.height,0,l,h,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(v=0,y=g.length;v<y;v++)p=g[v],1023!==r.format&&1022!==r.format?null!==l?n.compressedTexImage2D(3553,v,d,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,v,d,p.width,p.height,0,l,h,p.data);t.__maxMipLevel=g.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,d,c.width,c.height,c.depth,0,l,h,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,d,c.width,c.height,c.depth,0,l,h,c.data),t.__maxMipLevel=0;else if(g.length>0&&u){for(v=0,y=g.length;v<y;v++)p=g[v],n.texImage2D(3553,v,d,l,h,p);r.generateMipmaps=!1,t.__maxMipLevel=g.length-1}else n.texImage2D(3553,0,d,l,h,c),t.__maxMipLevel=0;S(r,u)&&T(o,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function F(t,i,o,s){var c=a.convert(i.texture.format),u=a.convert(i.texture.type),l=k(i.texture.internalFormat,c,u);n.texImage2D(s,0,l,i.width,i.height,0,c,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function j(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=H(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=H(n);e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=a.convert(n.texture.format),s=a.convert(n.texture.type),c=k(n.texture.internalFormat,o,s);if(r){i=H(n);e.renderbufferStorageMultisample(36161,i,c,n.width,n.height)}else e.renderbufferStorage(36161,c,n.width,n.height)}e.bindRenderbuffer(36161,null)}function W(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),L(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),j(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),j(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function H(e){return f&&e.isWebGLMultisampleRenderTarget?Math.min(v,e.samples):0}var V=!1,K=!1;this.allocateTextureUnit=function(){var e=P;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=L,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?z(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=D,this.setTextureCubeDynamic=I,this.setupRenderTarget=function(i){var o=r.get(i),c=r.get(i.texture);i.addEventListener("dispose",A),c.__webglTexture=e.createTexture(),s.memory.textures++;var u=!0===i.isWebGLCubeRenderTarget,l=!0===i.isWebGLMultisampleRenderTarget,h=!0===i.isWebGLMultiviewRenderTarget,d=M(i)||f;if(u){o.__webglFramebuffer=[];for(var p=0;p<6;p++)o.__webglFramebuffer[p]=e.createFramebuffer()}else if(o.__webglFramebuffer=e.createFramebuffer(),l)if(f){o.__webglMultisampledFramebuffer=e.createFramebuffer(),o.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,o.__webglColorRenderbuffer);var m=a.convert(i.texture.format),g=a.convert(i.texture.type),_=k(i.texture.internalFormat,m,g),v=H(i);e.renderbufferStorageMultisample(36161,v,_,i.width,i.height),e.bindFramebuffer(36160,o.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,o.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),i.depthBuffer&&(o.__webglDepthRenderbuffer=e.createRenderbuffer(),j(o.__webglDepthRenderbuffer,i,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(h){var y=i.width,b=i.height,w=i.numViews;e.bindFramebuffer(36160,o.__webglFramebuffer);var x=t.get("OVR_multiview2");s.memory.textures+=2;var E=e.createTexture();e.bindTexture(35866,E),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,y,b,w,0,6408,5121,null),x.framebufferTextureMultiviewOVR(36160,36064,E,0,0,w);var C=e.createTexture();e.bindTexture(35866,C),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,y,b,w,0,34041,34042,null),x.framebufferTextureMultiviewOVR(36160,33306,C,0,0,w);var O=new Array(w);for(p=0;p<w;++p)O[p]=e.createFramebuffer(),e.bindFramebuffer(36160,O[p]),e.framebufferTextureLayer(36160,36064,E,0,p);o.__webglColorTexture=E,o.__webglDepthStencilTexture=C,o.__webglViewFramebuffers=O,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(u){n.bindTexture(34067,c.__webglTexture),N(34067,i.texture,d);for(p=0;p<6;p++)F(o.__webglFramebuffer[p],i,36064,34069+p);S(i.texture,d)&&T(34067,i.texture,i.width,i.height),n.bindTexture(34067,null)}else h||(n.bindTexture(3553,c.__webglTexture),N(3553,i.texture,d),F(o.__webglFramebuffer,i,36064,3553),S(i.texture,d)&&T(3553,i.texture,i.width,i.height),n.bindTexture(3553,null));i.depthBuffer&&W(i)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(S(t,M(e)||f)){var i=e.isWebGLCubeRenderTarget?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),T(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(f){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===V&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),V=!0),e=e.texture),L(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===K&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),K=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?D(e,t):I(e,t)}}function ci(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}return 36196===e?null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null:37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:1020===e?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function ui(e,t,n,r){C.call(this,e,t,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function li(e,t){var n,r,i,o,a,s,c,u=e.extensions,l=e.properties,f=0;function h(e){return e.isArrayCamera?e.cameras:(a[0]=e,a)}this.isAvailable=function(){if(void 0===c){var e=u.get("OVR_multiview2");if(c=null!==e&&!1===t.getContextAttributes().antialias){f=t.getParameter(e.MAX_VIEWS_OVR),n=new ui(0,0,2),s=new x,o=[],i=[],a=[];for(var r=0;r<f;r++)o[r]=new j,i[r]=new E}}return c},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>f)return!1;for(var n=1,r=t.length;n<r;n++)if(t[0].viewport.z!==t[n].viewport.z||t[0].viewport.w!==t[n].viewport.w)return!1;return!0}(t)&&(r=e.getRenderTarget(),function(t){if(r?s.set(r.width,r.height):e.getDrawingBufferSize(s),t.isArrayCamera){var i=t.cameras[0].viewport;n.setSize(i.z,i.w),n.setNumViews(t.cameras.length)}else n.setSize(s.x,s.y),n.setNumViews(2)}(t),e.setRenderTarget(n))},this.detachCamera=function(i){n===e.getRenderTarget()&&(e.setRenderTarget(r),function(e){var r=n,i=r.numViews,o=l.get(r).__webglViewFramebuffers,a=r.width,c=r.height;if(e.isArrayCamera)for(var u=0;u<i;u++){var f=e.cameras[u].viewport,h=f.x,d=f.y,p=h+f.z,m=d+f.w;t.bindFramebuffer(36008,o[u]),t.blitFramebuffer(0,0,a,c,h,d,p,m,16384,9728)}else t.bindFramebuffer(36008,o[0]),t.blitFramebuffer(0,0,a,c,0,0,s.x,s.y,16384,9728)}(i))},this.updateCameraProjectionMatricesUniform=function(e,n){for(var r=h(e),i=0;i<r.length;i++)o[i].copy(r[i].projectionMatrix);n.setValue(t,"projectionMatrices",o)},this.updateCameraViewMatricesUniform=function(e,n){for(var r=h(e),i=0;i<r.length;i++)o[i].copy(r[i].matrixWorldInverse);n.setValue(t,"viewMatrices",o)},this.updateObjectMatricesUniforms=function(e,n,r){for(var a=h(n),s=0;s<a.length;s++)o[s].multiplyMatrices(a[s].matrixWorldInverse,e.matrixWorld),i[s].getNormalMatrix(o[s]);r.setValue(t,"modelViewMatrices",o),r.setValue(t,"normalMatrices",i)}}function fi(e){rn.call(this),this.cameras=e||[]}function hi(){oe.call(this),this.type="Group"}function di(e,t){var n=this,r=null,i=null,o="local-floor",a=null,s=[],c=new Map,u=new rn;u.layers.enable(1),u.viewport=new k;var l=new rn;l.layers.enable(2),l.viewport=new k;var f=new fi([u,l]);f.layers.enable(1),f.layers.enable(2);var h=null,d=null;function p(e){var t=c.get(e.inputSource);t&&(t.targetRay&&t.targetRay.dispatchEvent({type:e.type}),t.grip&&t.grip.dispatchEvent({type:e.type}))}function m(){c.forEach((function(e,t){e.targetRay&&(e.targetRay.dispatchEvent({type:"disconnected",data:t}),e.targetRay.visible=!1),e.grip&&(e.grip.dispatchEvent({type:"disconnected",data:t}),e.grip.visible=!1)})),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),x.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function g(e){i=e,x.setContext(r),x.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function _(e){for(var t=r.inputSources,n=0;n<s.length;n++)c.set(t[n],s[n]);for(n=0;n<e.removed.length;n++){var i=e.removed[n];(o=c.get(i))&&(o.targetRay&&o.targetRay.dispatchEvent({type:"disconnected",data:i}),o.grip&&o.grip.dispatchEvent({type:"disconnected",data:i}),c.delete(i))}for(n=0;n<e.added.length;n++){var o;i=e.added[n];(o=c.get(i))&&(o.targetRay&&o.targetRay.dispatchEvent({type:"connected",data:i}),o.grip&&o.grip.dispatchEvent({type:"connected",data:i}))}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=s[e];return void 0===t&&(t={},s[e]=t),void 0===t.targetRay&&(t.targetRay=new hi,t.targetRay.matrixAutoUpdate=!1,t.targetRay.visible=!1),t.targetRay},this.getControllerGrip=function(e){var t=s[e];return void 0===t&&(t={},s[e]=t),void 0===t.grip&&(t.grip=new hi,t.grip.matrixAutoUpdate=!1,t.grip.visible=!1),t.grip},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){o=e},this.getReferenceSpace=function(){return i},this.getSession=function(){return r},this.setSession=function(e){if(null!==(r=e)){r.addEventListener("select",p),r.addEventListener("selectstart",p),r.addEventListener("selectend",p),r.addEventListener("squeeze",p),r.addEventListener("squeezestart",p),r.addEventListener("squeezeend",p),r.addEventListener("end",m);var n=t.getContextAttributes(),i={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil},a=new XRWebGLLayer(r,t,i);r.updateRenderState({baseLayer:a}),r.requestReferenceSpace(o).then(g),r.addEventListener("inputsourceschange",_)}};var v=new D,y=new D;function b(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){f.near=l.near=u.near=e.near,f.far=l.far=u.far=e.far,h===f.near&&d===f.far||(r.updateRenderState({depthNear:f.near,depthFar:f.far}),h=f.near,d=f.far);var t=e.parent,n=f.cameras;b(f,t);for(var i=0;i<n.length;i++)b(n[i],t);e.matrixWorld.copy(f.matrixWorld);for(var o=e.children,a=(i=0,o.length);i<a;i++)o[i].updateMatrixWorld(!0);return function(e,t,n){v.setFromMatrixPosition(t.matrixWorld),y.setFromMatrixPosition(n.matrixWorld);var r=v.distanceTo(y),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],u=(i[9]-1)/i[5],l=(i[8]-1)/i[0],f=(o[8]+1)/o[0],h=a*l,d=a*f,p=r/(-l+f),m=p*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=a+p,_=s+p,b=h-m,w=d+(r-m),x=c*s/_*g,E=u*s/_*g;e.projectionMatrix.makePerspective(b,w,x,E,g,_)}(f,u,l),f};var w=null;var x=new hn;x.setAnimationLoop((function(t,n){if(null!==(a=n.getViewerPose(i))){var o=a.views,c=r.renderState.baseLayer;e.setFramebuffer(c.framebuffer);for(var u=0;u<o.length;u++){var l=o[u],h=c.getViewport(l),d=f.cameras[u];d.matrix.fromArray(l.transform.matrix),d.projectionMatrix.fromArray(l.projectionMatrix),d.viewport.set(h.x,h.y,h.width,h.height),0===u&&f.matrix.copy(d.matrix)}}var p=r.inputSources;for(u=0;u<s.length;u++){var m=s[u],g=p[u],_=null,v=null;g&&(m.targetRay&&null!==(_=n.getPose(g.targetRaySpace,i))&&(m.targetRay.matrix.fromArray(_.transform.matrix),m.targetRay.matrix.decompose(m.targetRay.position,m.targetRay.rotation,m.targetRay.scale)),m.grip&&g.gripSpace&&null!==(v=n.getPose(g.gripSpace,i))&&(m.grip.matrix.fromArray(v.transform.matrix),m.grip.matrix.decompose(m.grip.position,m.grip.rotation,m.grip.scale))),m.targetRay&&(m.targetRay.visible=null!==_),m.grip&&(m.grip.visible=null!==v)}w&&w(t,n)})),this.setAnimationLoop=function(e){w=e},this.dispose=function(){}}function pi(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",l=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,m,g,_,v,y,b,E,M,S,T,C,O,A,P,L,I,R=this,B=!1,N=null,U=0,z=0,F=null,W=null,H=-1,V={geometry:null,program:null,wireframe:!1},K=null,G=null,q=new k,Y=new k,X=null,Z=t.width,J=t.height,$=1,Q=null,ee=null,te=new k(0,0,Z,J),ne=new k(0,0,Z,J),re=!1,ie=new ln,oe=new wn,se=!1,ce=!1,ue=new j,le=new D;function fe(){return null===F?$:1}try{var he={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:l,xrCompatible:!0};if(t.addEventListener("webglcontextlost",_e,!1),t.addEventListener("webglcontextrestored",ve,!1),null===(d=n||t.getContext("webgl",he)||t.getContext("experimental-webgl",he)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Pe){throw console.error("THREE.WebGLRenderer: "+Pe.message),Pe}function de(){p=new xn(d),!1===(m=new bn(d,p,e)).isWebGL2&&(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),I=new ci(d,p,m),(g=new ai(d,p,m)).scissor(Y.copy(ne).multiplyScalar($).floor()),g.viewport(q.copy(te).multiplyScalar($).floor()),_=new Sn(d),v=new Gr,y=new si(d,p,g,v,m,I,_),b=new dn(d,m),E=new En(d,b,_),M=new Cn(d,E,b,_),A=new kn(d),S=new Kr(R,p,m),T=new Zr,C=new ni,O=new vn(R,g,M,s),P=new yn(d,p,_,m),L=new Mn(d,p,_,m),_.programs=S.programs,R.capabilities=m,R.extensions=p,R.properties=v,R.renderLists=T,R.state=g,R.info=_}de();var pe=new di(R,d);this.xr=pe;var me=new li(R,d),ge=new oi(R,M,m.maxTextureSize);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1,de()}function ye(e){var t=e.target;t.removeEventListener("dispose",ye),function(e){be(e),v.remove(e)}(t)}function be(e){var t=v.get(e).program;e.program=void 0,void 0!==t&&S.releaseProgram(t)}this.shadowMap=ge,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(e){void 0!==e&&($=e,this.setSize(Z,J,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new x),e.set(Z,J)},this.setSize=function(e,n,r){pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Z=e,J=n,t.width=Math.floor(e*$),t.height=Math.floor(n*$),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new x),e.set(Z*$,J*$).floor()},this.setDrawingBufferSize=function(e,n,r){Z=e,J=n,$=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new k),e.copy(q)},this.getViewport=function(e){return e.copy(te)},this.setViewport=function(e,t,n,r){e.isVector4?te.set(e.x,e.y,e.z,e.w):te.set(e,t,n,r),g.viewport(q.copy(te).multiplyScalar($).floor())},this.getScissor=function(e){return e.copy(ne)},this.setScissor=function(e,t,n,r){e.isVector4?ne.set(e.x,e.y,e.z,e.w):ne.set(e,t,n,r),g.scissor(Y.copy(ne).multiplyScalar($).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(e){g.setScissorTest(re=e)},this.setOpaqueSort=function(e){Q=e},this.setTransparentSort=function(e){ee=e},this.getClearColor=function(){return O.getClearColor()},this.setClearColor=function(){O.setClearColor.apply(O,arguments)},this.getClearAlpha=function(){return O.getClearAlpha()},this.setClearAlpha=function(){O.setClearAlpha.apply(O,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",_e,!1),t.removeEventListener("webglcontextrestored",ve,!1),T.dispose(),C.dispose(),v.dispose(),M.dispose(),pe.dispose(),Ee.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=v.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var r=t.getAttributes();e.hasPositions&&(d.bindBuffer(34962,n.position),d.bufferData(34962,e.positionArray,35048),g.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(d.bindBuffer(34962,n.normal),d.bufferData(34962,e.normalArray,35048),g.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(d.bindBuffer(34962,n.uv),d.bufferData(34962,e.uvArray,35048),g.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(d.bindBuffer(34962,n.color),d.bufferData(34962,e.colorArray,35048),g.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),d.drawArrays(4,0,e.count),e.count=0};var we=new ae;this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=we);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=Ce(e,t,r,i);g.setMaterial(r,a);var c=!1;V.geometry===n.id&&V.program===s.id&&V.wireframe===(!0===r.wireframe)||(V.geometry=n.id,V.program=s.id,V.wireframe=!0===r.wireframe,c=!0),(r.morphTargets||r.morphNormals)&&(A.update(i,n,r,s),c=!0);var u=n.index,l=n.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var f,h=1;!0===r.wireframe&&(u=E.getWireframeAttribute(n),h=2);var _=P;null!==u&&(f=b.get(u),(_=L).setIndex(f)),c&&(!function(e,t,n,r){if(!1===m.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===p.get("ANGLE_instanced_arrays"))return;g.initAttributes();var i=t.attributes,o=r.getAttributes(),a=n.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var u=i[s];if(void 0!==u){var l=u.normalized,f=u.itemSize;if(void 0===(E=b.get(u)))continue;var h=E.buffer,_=E.type,v=E.bytesPerElement;if(u.isInterleavedBufferAttribute){var y=u.data,w=y.stride,x=u.offset;y&&y.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(c,y.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=y.meshPerAttribute*y.count)):g.enableAttribute(c),d.bindBuffer(34962,h),d.vertexAttribPointer(c,f,_,l,w*v,x*v)}else u.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(c,u.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=u.meshPerAttribute*u.count)):g.enableAttribute(c),d.bindBuffer(34962,h),d.vertexAttribPointer(c,f,_,l,0,0)}else if("instanceMatrix"===s){var E;if(void 0===(E=b.get(e.instanceMatrix)))continue;h=E.buffer,_=E.type;g.enableAttributeAndDivisor(c+0,1),g.enableAttributeAndDivisor(c+1,1),g.enableAttributeAndDivisor(c+2,1),g.enableAttributeAndDivisor(c+3,1),d.bindBuffer(34962,h),d.vertexAttribPointer(c+0,4,_,!1,64,0),d.vertexAttribPointer(c+1,4,_,!1,64,16),d.vertexAttribPointer(c+2,4,_,!1,64,32),d.vertexAttribPointer(c+3,4,_,!1,64,48)}else if(void 0!==a){var M=a[s];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(c,M);break;case 3:d.vertexAttrib3fv(c,M);break;case 4:d.vertexAttrib4fv(c,M);break;default:d.vertexAttrib1fv(c,M)}}}}g.disableUnusedAttributes()}(i,n,r,s),null!==u&&d.bindBuffer(34963,f.buffer));var v=null!==u?u.count:l.count,y=n.drawRange.start*h,w=n.drawRange.count*h,x=null!==o?o.start*h:0,M=null!==o?o.count*h:1/0,S=Math.max(y,x),T=Math.min(v,y+w,x+M)-1,k=Math.max(0,T-S+1);if(0!==k){if(i.isMesh)!0===r.wireframe?(g.setLineWidth(r.wireframeLinewidth*fe()),_.setMode(1)):_.setMode(4);else if(i.isLine){var C=r.linewidth;void 0===C&&(C=1),g.setLineWidth(C*fe()),i.isLineSegments?_.setMode(1):i.isLineLoop?_.setMode(2):_.setMode(3)}else i.isPoints?_.setMode(0):i.isSprite&&_.setMode(4);i.isInstancedMesh?_.renderInstances(n,S,k,i.count):n.isInstancedBufferGeometry?_.renderInstances(n,S,k,n.maxInstancedCount):_.render(S,k)}},this.compile=function(e,t){(h=C.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t);var n={};e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var r=0;r<t.material.length;r++)t.material[r].uuid in n===!1&&(ke(t.material[r],e,t),n[t.material[r].uuid]=!0);else t.material.uuid in n===!1&&(ke(t.material,e,t),n[t.material.uuid]=!0)}))};var xe=null;var Ee=new hn;function Me(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||ie.intersectsSprite(e)){r&&le.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ue);var i=M.update(e);(o=e.material).visible&&f.push(e,i,o,n,le.z,null)}}else if(e.isImmediateRenderObject)r&&le.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ue),f.push(e,null,e.material,n,le.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==_.render.frame&&(e.skeleton.update(),e.skeleton.frame=_.render.frame),!e.frustumCulled||ie.intersectsObject(e))){r&&le.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ue);i=M.update(e);var o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,c=a.length;s<c;s++){var u=a[s],l=o[u.materialIndex];l&&l.visible&&f.push(e,i,l,n,le.z,u)}else o.visible&&f.push(e,i,o,n,le.z,null)}var d=e.children;for(s=0,c=d.length;s<c;s++)Me(d[s],t,n,r)}}function Se(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,u=void 0===r?a.material:r,l=a.group;if(n.isArrayCamera)if(G=n,pe.enabled&&me.isAvailable())Te(s,t,n,c,u,l);else for(var f=n.cameras,d=0,p=f.length;d<p;d++){var m=f[d];s.layers.test(m.layers)&&(g.viewport(q.copy(m.viewport)),h.setupLights(m),Te(s,t,m,c,u,l))}else G=null,Te(s,t,n,c,u,l)}}function Te(e,t,n,r,i,o){if(e.onBeforeRender(R,t,n,r,i,o),h=C.get(t,G||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var a=Ce(n,t,i,e);g.setMaterial(i),V.geometry=null,V.program=null,V.wireframe=!1,function(e,t){e.render((function(e){R.renderBufferImmediate(e,t)}))}(e,a)}else R.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(R,t,n,r,i,o),h=C.get(t,G||n)}function ke(e,t,n){var r=v.get(e),i=h.state.lights,o=h.state.shadowsArray,a=i.state.version,s=S.getParameters(e,i.state,o,t,oe.numPlanes,oe.numIntersection,n),c=S.getProgramCacheKey(s),u=r.program,l=!0;if(void 0===u)e.addEventListener("dispose",ye);else if(u.cacheKey!==c)be(e);else if(r.lightsStateVersion!==a)r.lightsStateVersion=a,l=!1;else{if(void 0!==s.shaderID)return;l=!1}l&&(u=S.acquireProgram(s,c),r.program=u,r.uniforms=s.uniforms,r.environment=e.isMeshStandardMaterial?t.environment:null,r.outputEncoding=R.outputEncoding,e.program=u);var f=u.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<R.maxMorphTargets;d++)f["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(d=0;d<R.maxMorphNormals;d++)f["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var p=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=oe.numPlanes,r.numIntersection=oe.numIntersection,p.clippingPlanes=oe.uniform),r.fog=t.fog,r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.spotLights.value=i.state.spot,p.rectAreaLights.value=i.state.rectArea,p.pointLights.value=i.state.point,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=r.program.getUniforms(),g=Tr.seqWithValue(m.seq,p);r.uniformsList=g}function Ce(e,t,n,r){y.resetTextureUnits();var i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,a=v.get(n),s=h.state.lights;if(se&&(ce||e!==K)){var c=e===K&&n.id===H;oe.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,a,c)}n.version===a.__version?void 0===a.program?ke(n,t,r):n.fog&&a.fog!==i?ke(n,t,r):a.environment!==o?ke(n,t,r):a.needsLights&&a.lightsStateVersion!==s.state.version?ke(n,t,r):void 0===a.numClippingPlanes||a.numClippingPlanes===oe.numPlanes&&a.numIntersection===oe.numIntersection?a.outputEncoding!==R.outputEncoding&&ke(n,t,r):ke(n,t,r):(ke(n,t,r),a.__version=n.version);var u,l,f=!1,p=!1,_=!1,b=a.program,x=b.getUniforms(),E=a.uniforms;if(g.useProgram(b.program)&&(f=!0,p=!0,_=!0),n.id!==H&&(H=n.id,p=!0),f||K!==e){if(b.numMultiviewViews>0?me.updateCameraProjectionMatricesUniform(e,x):x.setValue(d,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&x.setValue(d,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),K!==e&&(K=e,p=!0,_=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var M=x.map.cameraPosition;void 0!==M&&M.setValue(d,le.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&x.setValue(d,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(b.numMultiviewViews>0?me.updateCameraViewMatricesUniform(e,x):x.setValue(d,"viewMatrix",e.matrixWorldInverse))}if(n.skinning){x.setOptional(d,r,"bindMatrix"),x.setOptional(d,r,"bindMatrixInverse");var S=r.skeleton;if(S){var T=S.bones;if(m.floatVertexTextures){if(void 0===S.boneTexture){var k=Math.sqrt(4*T.length);k=w.ceilPowerOfTwo(k),k=Math.max(k,4);var C=new Float32Array(k*k*4);C.set(S.boneMatrices);var O=new sn(C,k,k,1023,1015);S.boneMatrices=C,S.boneTexture=O,S.boneTextureSize=k}x.setValue(d,"boneTexture",S.boneTexture,y),x.setValue(d,"boneTextureSize",S.boneTextureSize)}else x.setOptional(d,S,"boneMatrices")}}return(p||a.receiveShadow!==r.receiveShadow)&&(a.receiveShadow=r.receiveShadow,x.setValue(d,"receiveShadow",r.receiveShadow)),p&&(x.setValue(d,"toneMappingExposure",R.toneMappingExposure),x.setValue(d,"toneMappingWhitePoint",R.toneMappingWhitePoint),a.needsLights&&(l=_,(u=E).ambientLightColor.needsUpdate=l,u.lightProbe.needsUpdate=l,u.directionalLights.needsUpdate=l,u.pointLights.needsUpdate=l,u.spotLights.needsUpdate=l,u.rectAreaLights.needsUpdate=l,u.hemisphereLights.needsUpdate=l),i&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(E,i),n.isMeshBasicMaterial?Oe(E,n):n.isMeshLambertMaterial?(Oe(E,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(E,n)):n.isMeshToonMaterial?(Oe(E,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshPhongMaterial?(Oe(E,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshStandardMaterial?(Oe(E,n,o),n.isMeshPhysicalMaterial?function(e,t,n){Ae(e,t,n),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(E,n,o):Ae(E,n,o)):n.isMeshMatcapMaterial?(Oe(E,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshDepthMaterial?(Oe(E,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isMeshDistanceMaterial?(Oe(E,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(E,n)):n.isMeshNormalMaterial?(Oe(E,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(E,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(E,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(E,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*$,e.scale.value=.5*J,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(E,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(E,n):n.isShadowMaterial&&(E.color.value.copy(n.color),E.opacity.value=n.opacity),void 0!==E.ltc_1&&(E.ltc_1.value=fn.LTC_1),void 0!==E.ltc_2&&(E.ltc_2.value=fn.LTC_2),Tr.upload(d,a.uniformsList,E,y),n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Tr.upload(d,a.uniformsList,E,y),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&x.setValue(d,"center",r.center),b.numMultiviewViews>0?me.updateObjectMatricesUniforms(r,e,x):(x.setValue(d,"modelViewMatrix",r.modelViewMatrix),x.setValue(d,"normalMatrix",r.normalMatrix)),x.setValue(d,"modelMatrix",r.matrixWorld),b}function Oe(e,t,n){e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap);var r,i,o=t.envMap||n;o&&(e.envMap.value=o,e.flipEnvMap.value=o.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=v.get(o).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?r=t.map:t.specularMap?r=t.specularMap:t.displacementMap?r=t.displacementMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.roughnessMap?r=t.roughnessMap:t.metalnessMap?r=t.metalnessMap:t.alphaMap?r=t.alphaMap:t.emissiveMap&&(r=t.emissiveMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),t.aoMap?i=t.aoMap:t.lightMap&&(i=t.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uv2Transform.value.copy(i.matrix))}function Ae(e,t,n){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||n)&&(e.envMapIntensity.value=t.envMapIntensity)}Ee.setAnimationLoop((function(e){pe.isPresenting||xe&&xe(e)})),"undefined"!==typeof window&&Ee.setContext(window),this.setAnimationLoop=function(e){xe=e,pe.setAnimationLoop(e),Ee.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!B){V.geometry=null,V.program=null,V.wireframe=!1,H=-1,K=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),pe.enabled&&pe.isPresenting&&(t=pe.getCamera(t)),(h=C.get(e,t)).init(),e.onBeforeRender(R,e,t,n||F),ue.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ie.setFromProjectionMatrix(ue),ce=this.localClippingEnabled,se=oe.init(this.clippingPlanes,ce,t),(f=T.get(e,t)).init(),Me(e,t,0,R.sortObjects),!0===R.sortObjects&&f.sort(Q,ee),se&&oe.beginShadows();var i=h.state.shadowsArray;ge.render(i,e,t),h.setupLights(t),se&&oe.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),pe.enabled&&me.isAvailable()&&me.attachCamera(t),O.render(f,e,t,r);var o=f.opaque,a=f.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&Se(o,e,t,s),a.length&&Se(a,e,t,s)}else o.length&&Se(o,e,t),a.length&&Se(a,e,t);e.onAfterRender(R,e,t),null!==F&&(y.updateRenderTargetMipmap(F),y.updateMultisampleRenderTarget(F)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),pe.enabled&&me.isAvailable()&&me.detachCamera(t),f=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){N!==e&&null===F&&d.bindFramebuffer(36160,e),N=e},this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return F},this.setRenderTarget=function(e,t,n){F=e,U=t,z=n,e&&void 0===v.get(e).__webglFramebuffer&&y.setupRenderTarget(e);var r=N,i=!1;if(e){var o=v.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=o[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?v.get(e).__webglMultisampledFramebuffer:o,q.copy(e.viewport),Y.copy(e.scissor),X=e.scissorTest}else q.copy(te).multiplyScalar($).floor(),Y.copy(ne).multiplyScalar($).floor(),X=re;if(W!==r&&(d.bindFramebuffer(36160,r),W=r),g.viewport(q),g.scissor(Y),g.setScissorTest(X),i){var a=v.get(e.texture);d.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=v.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){var c=!1;s!==W&&(d.bindFramebuffer(36160,s),c=!0);try{var u=e.texture,l=u.format,f=u.type;if(1023!==l&&I.convert(l)!==d.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(1009!==f&&I.convert(f)!==d.getParameter(35738)&&(1015!==f||!(m.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float")))&&(1016!==f||(m.isWebGL2?!p.get("EXT_color_buffer_float"):!p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===d.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&d.readPixels(t,n,r,i,I.convert(l),I.convert(f),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&d.bindFramebuffer(36160,W)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),a=I.convert(t.format);y.setTexture2D(t,0),d.copyTexImage2D(3553,n,a,e.x,e.y,i,o,0),g.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=I.convert(n.format),s=I.convert(n.type);y.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):d.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image),g.unbindTexture()},this.initTexture=function(e){y.setTexture2D(e,0),g.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function mi(e,t){this.name="",this.color=new Ze(e),this.density=void 0!==t?t:25e-5}function gi(e,t,n){this.name="",this.color=new Ze(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function _i(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}ui.prototype=Object.assign(Object.create(C.prototype),{constructor:ui,isWebGLMultiviewRenderTarget:!0,copy:function(e){return C.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),fi.prototype=Object.assign(Object.create(rn.prototype),{constructor:fi,isArrayCamera:!0}),hi.prototype=Object.assign(Object.create(oe.prototype),{constructor:hi,isGroup:!0}),Object.assign(di.prototype,_.prototype),Object.assign(mi.prototype,{isFogExp2:!0,clone:function(){return new mi(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(gi.prototype,{isFog:!0,clone:function(){return new gi(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(_i.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(_i.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var vi,yi=new D;function bi(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function wi(e){nt.call(this),this.type="SpriteMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(bi.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(bi.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)yi.x=this.getX(t),yi.y=this.getY(t),yi.z=this.getZ(t),yi.applyMatrix4(e),this.setXYZ(t,yi.x,yi.y,yi.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),wi.prototype=Object.create(nt.prototype),wi.prototype.constructor=wi,wi.prototype.isSpriteMaterial=!0,wi.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var xi=new D,Ei=new D,Mi=new D,Si=new x,Ti=new x,ki=new j,Ci=new D,Oi=new D,Ai=new D,Pi=new x,Li=new x,Di=new x;function Ii(e){if(oe.call(this),this.type="Sprite",void 0===vi){vi=new Mt;var t=new _i(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);vi.setIndex([0,1,2,0,2,3]),vi.setAttribute("position",new bi(t,3,0,!1)),vi.setAttribute("uv",new bi(t,2,3,!1))}this.geometry=vi,this.material=void 0!==e?e:new wi,this.center=new x(.5,.5)}function Ri(e,t,n,r,i,o){Si.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Ti.x=o*Si.x-i*Si.y,Ti.y=i*Si.x+o*Si.y):Ti.copy(Si),e.copy(t),e.x+=Ti.x,e.y+=Ti.y,e.applyMatrix4(ki)}Ii.prototype=Object.assign(Object.create(oe.prototype),{constructor:Ii,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ei.setFromMatrixScale(this.matrixWorld),ki.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Mi.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ei.multiplyScalar(-Mi.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;Ri(Ci.set(-.5,-.5,0),Mi,o,Ei,n,r),Ri(Oi.set(.5,-.5,0),Mi,o,Ei,n,r),Ri(Ai.set(.5,.5,0),Mi,o,Ei,n,r),Pi.set(0,0),Li.set(1,0),Di.set(1,1);var a=e.ray.intersectTriangle(Ci,Oi,Ai,!1,xi);if(null!==a||(Ri(Oi.set(-.5,.5,0),Mi,o,Ei,n,r),Li.set(0,1),null!==(a=e.ray.intersectTriangle(Ci,Ai,Oi,!1,xi)))){var s=e.ray.origin.distanceTo(xi);s<e.near||s>e.far||t.push({distance:s,point:xi.clone(),uv:Ge.getUV(xi,Ci,Oi,Ai,Pi,Li,Di,new x),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return oe.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Bi=new D,Ni=new D;function Ui(){oe.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function zi(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Wt.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new j,this.bindMatrixInverse=new j}Ui.prototype=Object.assign(Object.create(oe.prototype),{constructor:Ui,isLOD:!0,copy:function(e){oe.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Bi.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Bi);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){Bi.setFromMatrixPosition(e.matrixWorld),Ni.setFromMatrixPosition(this.matrixWorld);var n=Bi.distanceTo(Ni);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=oe.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),zi.prototype=Object.assign(Object.create(Wt.prototype),{constructor:zi,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new k,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Wt.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Fi=new j,ji=new j;function Wi(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new j)}}function Hi(){oe.call(this),this.type="Bone"}Object.assign(Wi.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new j;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:ji;Fi.multiplyMatrices(a,t[i]),Fi.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Wi(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Hi.prototype=Object.assign(Object.create(oe.prototype),{constructor:Hi,isBone:!0});var Vi=new j,Ki=new j,Gi=[],qi=new Wt;function Yi(e,t,n){Wt.call(this,e,t),this.instanceMatrix=new ot(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function Xi(e){nt.call(this),this.type="LineBasicMaterial",this.color=new Ze(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}Yi.prototype=Object.assign(Object.create(Wt.prototype),{constructor:Yi,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(qi.geometry=this.geometry,qi.material=this.material,void 0!==qi.material)for(var i=0;i<r;i++)this.getMatrixAt(i,Vi),Ki.multiplyMatrices(n,Vi),qi.matrixWorld=Ki,qi.raycast(e,Gi),Gi.length>0&&(Gi[0].instanceId=i,Gi[0].object=this,t.push(Gi[0]),Gi.length=0)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Xi.prototype=Object.create(nt.prototype),Xi.prototype.constructor=Xi,Xi.prototype.isLineBasicMaterial=!0,Xi.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var Zi=new D,Ji=new D,$i=new j,Qi=new Pe,eo=new Ee;function to(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),oe.call(this),this.type="Line",this.geometry=void 0!==e?e:new Mt,this.material=void 0!==t?t:new Xi}to.prototype=Object.assign(Object.create(oe.prototype),{constructor:to,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Zi.fromBufferAttribute(t,r-1),Ji.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Zi.distanceTo(Ji);e.setAttribute("lineDistance",new dt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;(n=e.lineDistances)[0]=0;for(r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),eo.copy(r.boundingSphere),eo.applyMatrix4(i),eo.radius+=n,!1!==e.ray.intersectsSphere(eo)){$i.getInverse(i),Qi.copy(e.ray).applyMatrix4($i);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new D,c=new D,u=new D,l=new D,f=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var h=r.index,d=r.attributes.position.array;if(null!==h)for(var p=h.array,m=0,g=p.length-1;m<g;m+=f){var _=p[m],v=p[m+1];if(s.fromArray(d,3*_),c.fromArray(d,3*v),!(Qi.distanceSqToSegment(s,c,l,u)>a))l.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(l))<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}else for(m=0,g=d.length/3-1;m<g;m+=f){if(s.fromArray(d,3*m),c.fromArray(d,3*m+3),!(Qi.distanceSqToSegment(s,c,l,u)>a))l.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(l))<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else if(r.isGeometry){var y=r.vertices,b=y.length;for(m=0;m<b-1;m+=f){var w;if(!(Qi.distanceSqToSegment(y[m],y[m+1],l,u)>a))l.applyMatrix4(this.matrixWorld),(w=e.ray.origin.distanceTo(l))<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var no=new D,ro=new D;function io(e,t){to.call(this,e,t),this.type="LineSegments"}function oo(e,t){to.call(this,e,t),this.type="LineLoop"}function ao(e){nt.call(this),this.type="PointsMaterial",this.color=new Ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}io.prototype=Object.assign(Object.create(to.prototype),{constructor:io,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)no.fromBufferAttribute(t,r),ro.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+no.distanceTo(ro);e.setAttribute("lineDistance",new dt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for(n=e.lineDistances,r=0,i=o.length;r<i;r+=2)no.copy(o[r]),ro.copy(o[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+no.distanceTo(ro)}return this}}),oo.prototype=Object.assign(Object.create(to.prototype),{constructor:oo,isLineLoop:!0}),ao.prototype=Object.create(nt.prototype),ao.prototype.constructor=ao,ao.prototype.isPointsMaterial=!0,ao.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var so=new j,co=new Pe,uo=new Ee,lo=new D;function fo(e,t){oe.call(this),this.type="Points",this.geometry=void 0!==e?e:new Mt,this.material=void 0!==t?t:new ao,this.updateMorphTargets()}function ho(e,t,n,r,i,o,a){var s=co.distanceSqToPoint(e);if(s<n){var c=new D;co.closestPointToPoint(e,c),c.applyMatrix4(r);var u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:a})}}function po(e,t,n,r,i,o,a,s,c){T.call(this,e,t,n,r,i,o,a,s,c),this.format=void 0!==a?a:1022,this.minFilter=void 0!==o?o:1006,this.magFilter=void 0!==i?i:1006,this.generateMipmaps=!1}function mo(e,t,n,r,i,o,a,s,c,u,l,f){T.call(this,null,o,a,s,c,u,r,i,l,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function go(e,t,n,r,i,o,a,s,c){T.call(this,e,t,n,r,i,o,a,s,c),this.needsUpdate=!0}function _o(e,t,n,r,i,o,a,s,c,u){if(1026!==(u=void 0!==u?u:1026)&&1027!==u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===u&&(n=1012),void 0===n&&1027===u&&(n=1020),T.call(this,null,r,i,o,a,s,u,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}function vo(e){Mt.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,c,u,l,f=[],h=[0,0],d={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var g=m[t];for(n=0;n<3;n++)s=g[p[n]],c=g[p[(n+1)%3]],h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===d[u=h[0]+","+h[1]]&&(d[u]={index1:h[0],index2:h[1]})}for(u in d)a=d[u],l=e.vertices[a.index1],f.push(l.x,l.y,l.z),l=e.vertices[a.index2],f.push(l.x,l.y,l.z)}else if(e&&e.isBufferGeometry){var _,v,y,b,w,x,E;if(l=new D,null!==e.index){for(_=e.attributes.position,v=e.index,0===(y=e.groups).length&&(y=[{start:0,count:v.count,materialIndex:0}]),i=0,o=y.length;i<o;++i)for(t=w=(b=y[i]).start,r=w+b.count;t<r;t+=3)for(n=0;n<3;n++)s=v.getX(t+n),c=v.getX(t+(n+1)%3),h[0]=Math.min(s,c),h[1]=Math.max(s,c),void 0===d[u=h[0]+","+h[1]]&&(d[u]={index1:h[0],index2:h[1]});for(u in d)a=d[u],l.fromBufferAttribute(_,a.index1),f.push(l.x,l.y,l.z),l.fromBufferAttribute(_,a.index2),f.push(l.x,l.y,l.z)}else for(t=0,r=(_=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)x=3*t+n,l.fromBufferAttribute(_,x),f.push(l.x,l.y,l.z),E=3*t+(n+1)%3,l.fromBufferAttribute(_,E),f.push(l.x,l.y,l.z)}this.setAttribute("position",new dt(f,3))}function yo(e,t,n){Xt.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new bo(e,t,n)),this.mergeVertices()}function bo(e,t,n){Mt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],c=[],u=new D,l=new D,f=new D,h=new D,d=new D;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=t+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=t;i++){var g=i/t;e(g,m,l),a.push(l.x,l.y,l.z),g-1e-5>=0?(e(g-1e-5,m,f),h.subVectors(l,f)):(e(g+1e-5,m,f),h.subVectors(f,l)),m-1e-5>=0?(e(g,m-1e-5,f),d.subVectors(l,f)):(e(g,m+1e-5,f),d.subVectors(f,l)),u.crossVectors(h,d).normalize(),s.push(u.x,u.y,u.z),c.push(g,m)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var _=r*p+i,v=r*p+i+1,y=(r+1)*p+i+1,b=(r+1)*p+i;o.push(_,v,b),o.push(v,y,b)}this.setIndex(o),this.setAttribute("position",new dt(a,3)),this.setAttribute("normal",new dt(s,3)),this.setAttribute("uv",new dt(c,2))}function wo(e,t,n,r){Xt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new xo(e,t,n,r)),this.mergeVertices()}function xo(e,t,n,r){Mt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),c=[];for(i=0;i<=a;i++){c[i]=[];var u=e.clone().lerp(n,i/a),l=t.clone().lerp(n,i/a),f=a-i;for(o=0;o<=f;o++)c[i][o]=0===o&&i===a?u:u.clone().lerp(l,o/f)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2===0?(s(c[i][h+1]),s(c[i+1][h]),s(c[i][h])):(s(c[i][h+1]),s(c[i+1][h+1]),s(c[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function l(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new D,r=new D,i=new D,o=0;o<t.length;o+=3)c(t[o+0],n),c(t[o+1],r),c(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new D,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new D,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=l(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new D,t=new D,n=new D,r=new D,a=new x,s=new x,c=new x,f=0,h=0;f<i.length;f+=9,h+=6){e.set(i[f+0],i[f+1],i[f+2]),t.set(i[f+3],i[f+4],i[f+5]),n.set(i[f+6],i[f+7],i[f+8]),a.set(o[h+0],o[h+1]),s.set(o[h+2],o[h+3]),c.set(o[h+4],o[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=l(r);u(a,h+0,e,d),u(s,h+2,t,d),u(c,h+4,n,d)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new dt(i,3)),this.setAttribute("normal",new dt(i.slice(),3)),this.setAttribute("uv",new dt(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Eo(e,t){Xt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Mo(e,t)),this.mergeVertices()}function Mo(e,t){xo.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function So(e,t){Xt.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new To(e,t)),this.mergeVertices()}function To(e,t){xo.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function ko(e,t){Xt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Co(e,t)),this.mergeVertices()}function Co(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];xo.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Oo(e,t){Xt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ao(e,t)),this.mergeVertices()}function Ao(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];xo.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Po(e,t,n,r,i,o){Xt.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Lo(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Lo(e,t,n,r,i){Mt.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new D,u=new D,l=new x,f=new D,h=[],d=[],p=[],m=[];function g(i){f=e.getPointAt(i/t,f);var a=o.normals[i],l=o.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),g=-Math.cos(p);u.x=g*a.x+m*l.x,u.y=g*a.y+m*l.y,u.z=g*a.z+m*l.z,u.normalize(),d.push(u.x,u.y,u.z),c.x=f.x+n*u.x,c.y=f.y+n*u.y,c.z=f.z+n*u.z,h.push(c.x,c.y,c.z)}}!function(){for(a=0;a<t;a++)g(a);g(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)l.x=a/t,l.y=s/r,p.push(l.x,l.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;m.push(e,n,o),m.push(n,i,o)}}()}(),this.setIndex(m),this.setAttribute("position",new dt(h,3)),this.setAttribute("normal",new dt(d,3)),this.setAttribute("uv",new dt(p,2))}function Do(e,t,n,r,i,o,a){Xt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Io(e,t,n,r,i,o)),this.mergeVertices()}function Io(e,t,n,r,i,o){Mt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,c=[],u=[],l=[],f=[],h=new D,d=new D,p=new D,m=new D,g=new D,_=new D,v=new D;for(a=0;a<=n;++a){var y=a/n*i*Math.PI*2;for(k(y,i,o,e,p),k(y+.01,i,o,e,m),_.subVectors(m,p),v.addVectors(m,p),g.crossVectors(_,v),v.crossVectors(g,_),g.normalize(),v.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-t*Math.cos(b),x=t*Math.sin(b);h.x=p.x+(w*v.x+x*g.x),h.y=p.y+(w*v.y+x*g.y),h.z=p.z+(w*v.z+x*g.z),u.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),l.push(d.x,d.y,d.z),f.push(a/n),f.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var E=(r+1)*(s-1)+(a-1),M=(r+1)*s+(a-1),S=(r+1)*s+a,T=(r+1)*(s-1)+a;c.push(E,M,T),c.push(M,S,T)}function k(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(c),this.setAttribute("position",new dt(u,3)),this.setAttribute("normal",new dt(l,3)),this.setAttribute("uv",new dt(f,2))}function Ro(e,t,n,r,i){Xt.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Bo(e,t,n,r,i)),this.mergeVertices()}function Bo(e,t,n,r,i){Mt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],c=[],u=[],l=[],f=new D,h=new D,d=new D;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var p=a/r*i,m=o/n*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),c.push(h.x,h.y,h.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),d.subVectors(h,f).normalize(),u.push(d.x,d.y,d.z),l.push(a/r),l.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,_=(r+1)*(o-1)+a-1,v=(r+1)*(o-1)+a,y=(r+1)*o+a;s.push(g,_,y),s.push(_,v,y)}this.setIndex(s),this.setAttribute("position",new dt(c,3)),this.setAttribute("normal",new dt(u,3)),this.setAttribute("uv",new dt(l,2))}fo.prototype=Object.assign(Object.create(oe.prototype),{constructor:fo,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),uo.copy(n.boundingSphere),uo.applyMatrix4(r),uo.radius+=i,!1!==e.ray.intersectsSphere(uo)){so.getInverse(r),co.copy(e.ray).applyMatrix4(so);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,c=n.attributes.position.array;if(null!==s)for(var u=s.array,l=0,f=u.length;l<f;l++){var h=u[l];lo.fromArray(c,3*h),ho(lo,h,a,r,e,t,this)}else{l=0;for(var d=c.length/3;l<d;l++)lo.fromArray(c,3*l),ho(lo,l,a,r,e,t,this)}}else{var p=n.vertices;for(l=0,d=p.length;l<d;l++)ho(p[l],l,a,r,e,t,this)}}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),po.prototype=Object.assign(Object.create(T.prototype),{constructor:po,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),mo.prototype=Object.create(T.prototype),mo.prototype.constructor=mo,mo.prototype.isCompressedTexture=!0,go.prototype=Object.create(T.prototype),go.prototype.constructor=go,go.prototype.isCanvasTexture=!0,_o.prototype=Object.create(T.prototype),_o.prototype.constructor=_o,_o.prototype.isDepthTexture=!0,vo.prototype=Object.create(Mt.prototype),vo.prototype.constructor=vo,yo.prototype=Object.create(Xt.prototype),yo.prototype.constructor=yo,bo.prototype=Object.create(Mt.prototype),bo.prototype.constructor=bo,wo.prototype=Object.create(Xt.prototype),wo.prototype.constructor=wo,xo.prototype=Object.create(Mt.prototype),xo.prototype.constructor=xo,Eo.prototype=Object.create(Xt.prototype),Eo.prototype.constructor=Eo,Mo.prototype=Object.create(xo.prototype),Mo.prototype.constructor=Mo,So.prototype=Object.create(Xt.prototype),So.prototype.constructor=So,To.prototype=Object.create(xo.prototype),To.prototype.constructor=To,ko.prototype=Object.create(Xt.prototype),ko.prototype.constructor=ko,Co.prototype=Object.create(xo.prototype),Co.prototype.constructor=Co,Oo.prototype=Object.create(Xt.prototype),Oo.prototype.constructor=Oo,Ao.prototype=Object.create(xo.prototype),Ao.prototype.constructor=Ao,Po.prototype=Object.create(Xt.prototype),Po.prototype.constructor=Po,Lo.prototype=Object.create(Mt.prototype),Lo.prototype.constructor=Lo,Lo.prototype.toJSON=function(){var e=Mt.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Do.prototype=Object.create(Xt.prototype),Do.prototype.constructor=Do,Io.prototype=Object.create(Mt.prototype),Io.prototype.constructor=Io,Ro.prototype=Object.create(Xt.prototype),Ro.prototype.constructor=Ro,Bo.prototype=Object.create(Mt.prototype),Bo.prototype.constructor=Bo;var No=function(e,t,n){n=n||2;var r,i,o,a,s,c,u,l=t&&t.length,f=l?t[0]*n:e.length,h=Uo(e,0,f,n,!0),d=[];if(!h||h.next===h.prev)return d;if(l&&(h=function(e,t,n,r){var i,o,a,s,c,u=[];for(i=0,o=t.length;i<o;i++)a=t[i]*r,s=i<o-1?t[i+1]*r:e.length,(c=Uo(e,a,s,r,!1))===c.next&&(c.steiner=!0),u.push(Yo(c));for(u.sort(Ko),i=0;i<u.length;i++)Go(u[i],n),n=zo(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(c=e[p+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Fo(h,d,n,r,i,u),d};function Uo(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=na(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=na(o,e[o],e[o+1],a);return a&&$o(a,a.next)&&(ra(a),a=a.next),a}function zo(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!$o(r,r.next)&&0!==Jo(r.prev,r,r.next))r=r.next;else{if(ra(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Fo(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=qo(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,c,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(c=u;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,c,u=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?Wo(e,r,i,o):jo(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),ra(e),e=c.next,u=c.next;else if((e=c)===u){a?1===a?Fo(e=Ho(e,t,n),t,n,r,i,o,2):2===a&&Vo(e,t,n,r,i,o):Fo(zo(e),t,n,r,i,o,1);break}}}function jo(e){var t=e.prev,n=e,r=e.next;if(Jo(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Xo(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Jo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Wo(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Jo(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=qo(s,c,t,n,r),h=qo(u,l,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=f&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&Xo(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Jo(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Xo(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Jo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&Xo(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Jo(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Xo(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Jo(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ho(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!$o(i,o)&&Qo(i,r,r.next,o)&&ea(i,o)&&ea(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),ra(r),ra(r.next),r=e=o),r=r.next}while(r!==e);return r}function Vo(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Zo(a,s)){var c=ta(a,s);return a=zo(a,a.next),c=zo(c,c.next),Fo(a,t,n,r,i,o),void Fo(c,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function Ko(e,t){return e.x-t.x}function Go(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var c,u=n,l=n.x,f=n.y,h=1/0;r=n.next;for(;r!==u;)i>=r.x&&r.x>=l&&i!==r.x&&Xo(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(i-r.x))<h||c===h&&r.x>n.x)&&ea(r,e)&&(n=r,h=c),r=r.next;return n}(e,t)){var n=ta(t,e);zo(n,n.next)}}function qo(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Yo(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Xo(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Zo(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Qo(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&ea(e,t)&&ea(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Jo(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function $o(e,t){return e.x===t.x&&e.y===t.y}function Qo(e,t,n,r){return!!($o(e,n)&&$o(t,r)||$o(e,r)&&$o(n,t))||Jo(e,t,n)>0!==Jo(e,t,r)>0&&Jo(n,r,e)>0!==Jo(n,r,t)>0}function ea(e,t){return Jo(e.prev,e,e.next)<0?Jo(e,t,e.next)>=0&&Jo(e,e.prev,t)>=0:Jo(e,t,e.prev)<0||Jo(e,e.next,t)<0}function ta(e,t){var n=new ia(e.i,e.x,e.y),r=new ia(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function na(e,t,n,r){var i=new ia(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ra(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ia(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var oa={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return oa.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];aa(e),sa(n,e);var o=e.length;t.forEach(aa);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,sa(n,t[a]);var s=No(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function aa(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function sa(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function ca(e,t){Xt.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new ua(e,t)),this.mergeVertices()}function ua(e,t){Mt.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,u=void 0===t.bevelEnabled||t.bevelEnabled,l=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:l-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:la;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var g,_,v,y,b,w,E,M,S=!1;p&&(g=p.getSpacedPoints(s),S=!0,u=!1,_=p.computeFrenetFrames(s,!1),v=new D,y=new D,b=new D),u||(d=0,l=0,f=0,h=0);var T=e.extractPoints(a),k=T.shape,C=T.holes;if(!oa.isClockWise(k))for(k=k.reverse(),E=0,M=C.length;E<M;E++)w=C[E],oa.isClockWise(w)&&(C[E]=w.reverse());var O=oa.triangulateShape(k,C),A=k;for(E=0,M=C.length;E<M;E++)w=C[E],k=k.concat(w);function P(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L,I,R,B,N,U,z=k.length,F=O.length;function j(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,c=n.x-e.x,u=n.y-e.y,l=a*a+s*s,f=a*u-s*c;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(l),d=Math.sqrt(c*c+u*u),p=t.x-s/h,m=t.y+a/h,g=((n.x-u/d-p)*u-(n.y+c/d-m)*c)/(a*u-s*c),_=(r=p+a*g-e.x)*r+(i=m+s*g-e.y)*i;if(_<=2)return new x(r,i);o=Math.sqrt(_/2)}else{var v=!1;a>Number.EPSILON?c>Number.EPSILON&&(v=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(u)&&(v=!0),v?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new x(r/o,i/o)}for(var W=[],H=0,V=A.length,K=V-1,G=H+1;H<V;H++,K++,G++)K===V&&(K=0),G===V&&(G=0),W[H]=j(A[H],A[K],A[G]);var q,Y,X=[],Z=W.concat();for(E=0,M=C.length;E<M;E++){for(w=C[E],q=[],H=0,K=(V=w.length)-1,G=H+1;H<V;H++,K++,G++)K===V&&(K=0),G===V&&(G=0),q[H]=j(w[H],w[K],w[G]);X.push(q),Z=Z.concat(q)}for(L=0;L<d;L++){for(R=L/d,B=l*Math.cos(R*Math.PI/2),I=f*Math.sin(R*Math.PI/2)+h,H=0,V=A.length;H<V;H++)$((N=P(A[H],W[H],I)).x,N.y,-B);for(E=0,M=C.length;E<M;E++)for(w=C[E],q=X[E],H=0,V=w.length;H<V;H++)$((N=P(w[H],q[H],I)).x,N.y,-B)}for(I=f+h,H=0;H<z;H++)N=u?P(k[H],Z[H],I):k[H],S?(y.copy(_.normals[0]).multiplyScalar(N.x),v.copy(_.binormals[0]).multiplyScalar(N.y),b.copy(g[0]).add(y).add(v),$(b.x,b.y,b.z)):$(N.x,N.y,0);for(Y=1;Y<=s;Y++)for(H=0;H<z;H++)N=u?P(k[H],Z[H],I):k[H],S?(y.copy(_.normals[Y]).multiplyScalar(N.x),v.copy(_.binormals[Y]).multiplyScalar(N.y),b.copy(g[Y]).add(y).add(v),$(b.x,b.y,b.z)):$(N.x,N.y,c/s*Y);for(L=d-1;L>=0;L--){for(R=L/d,B=l*Math.cos(R*Math.PI/2),I=f*Math.sin(R*Math.PI/2)+h,H=0,V=A.length;H<V;H++)$((N=P(A[H],W[H],I)).x,N.y,c+B);for(E=0,M=C.length;E<M;E++)for(w=C[E],q=X[E],H=0,V=w.length;H<V;H++)N=P(w[H],q[H],I),S?$(N.x,N.y+g[s-1].y,g[s-1].x+B):$(N.x,N.y,c+B)}function J(e,t){var n,r;for(H=e.length;--H>=0;){n=H,(r=H-1)<0&&(r=e.length-1);var i=0,o=s+2*d;for(i=0;i<o;i++){var a=z*i,c=z*(i+1);ee(t+n+a,t+r+a,t+r+c,t+n+c)}}}function $(e,t,n){o.push(e),o.push(t),o.push(n)}function Q(e,t,i){te(e),te(t),te(i);var o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);ne(a[0]),ne(a[1]),ne(a[2])}function ee(e,t,i,o){te(e),te(t),te(o),te(t),te(i),te(o);var a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);ne(s[0]),ne(s[1]),ne(s[3]),ne(s[1]),ne(s[2]),ne(s[3])}function te(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function ne(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(u){var t=0,i=z*t;for(H=0;H<F;H++)Q((U=O[H])[2]+i,U[1]+i,U[0]+i);for(i=z*(t=s+2*d),H=0;H<F;H++)Q((U=O[H])[0]+i,U[1]+i,U[2]+i)}else{for(H=0;H<F;H++)Q((U=O[H])[2],U[1],U[0]);for(H=0;H<F;H++)Q((U=O[H])[0]+z*s,U[1]+z*s,U[2]+z*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(J(A,t),t+=A.length,E=0,M=C.length;E<M;E++)J(w=C[E],t),t+=w.length;n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new dt(r,3)),this.setAttribute("uv",new dt(i,2)),this.computeVertexNormals()}ca.prototype=Object.create(Xt.prototype),ca.prototype.constructor=ca,ca.prototype.toJSON=function(){var e=Xt.prototype.toJSON.call(this);return fa(this.parameters.shapes,this.parameters.options,e)},ua.prototype=Object.create(Mt.prototype),ua.prototype.constructor=ua,ua.prototype.toJSON=function(){var e=Mt.prototype.toJSON.call(this);return fa(this.parameters.shapes,this.parameters.options,e)};var la={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],c=t[3*r+1],u=t[3*i],l=t[3*i+1];return[new x(o,a),new x(s,c),new x(u,l)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],c=t[3*n+2],u=t[3*r],l=t[3*r+1],f=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*o],g=t[3*o+1],_=t[3*o+2];return Math.abs(s-l)<.01?[new x(a,1-c),new x(u,1-f),new x(h,1-p),new x(m,1-_)]:[new x(s,1-c),new x(l,1-f),new x(d,1-p),new x(g,1-_)]}};function fa(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function ha(e,t){Xt.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new da(e,t)),this.mergeVertices()}function da(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Xt;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),ua.call(this,r,t),this.type="TextBufferGeometry"}function pa(e,t,n,r,i,o,a){Xt.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new ma(e,t,n,r,i,o,a)),this.mergeVertices()}function ma(e,t,n,r,i,o,a){Mt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,c,u=Math.min(o+a,Math.PI),l=0,f=[],h=new D,d=new D,p=[],m=[],g=[],_=[];for(c=0;c<=n;c++){var v=[],y=c/n,b=0;for(0==c&&0==o?b=.5/t:c==n&&u==Math.PI&&(b=-.5/t),s=0;s<=t;s++){var w=s/t;h.x=-e*Math.cos(r+w*i)*Math.sin(o+y*a),h.y=e*Math.cos(o+y*a),h.z=e*Math.sin(r+w*i)*Math.sin(o+y*a),m.push(h.x,h.y,h.z),d.copy(h).normalize(),g.push(d.x,d.y,d.z),_.push(w+b,1-y),v.push(l++)}f.push(v)}for(c=0;c<n;c++)for(s=0;s<t;s++){var x=f[c][s+1],E=f[c][s],M=f[c+1][s],S=f[c+1][s+1];(0!==c||o>0)&&p.push(x,E,S),(c!==n-1||u<Math.PI)&&p.push(E,M,S)}this.setIndex(p),this.setAttribute("position",new dt(m,3)),this.setAttribute("normal",new dt(g,3)),this.setAttribute("uv",new dt(_,2))}function ga(e,t,n,r,i,o){Xt.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new _a(e,t,n,r,i,o)),this.mergeVertices()}function _a(e,t,n,r,i,o){Mt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,c,u=[],l=[],f=[],h=[],d=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new D,g=new x;for(s=0;s<=r;s++){for(c=0;c<=n;c++)a=i+c/n*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),l.push(m.x,m.y,m.z),f.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,h.push(g.x,g.y);d+=p}for(s=0;s<r;s++){var _=s*(n+1);for(c=0;c<n;c++){var v=a=c+_,y=a+n+1,b=a+n+2,w=a+1;u.push(v,y,w),u.push(y,b,w)}}this.setIndex(u),this.setAttribute("position",new dt(l,3)),this.setAttribute("normal",new dt(f,3)),this.setAttribute("uv",new dt(h,2))}function va(e,t,n,r){Xt.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new ya(e,t,n,r)),this.mergeVertices()}function ya(e,t,n,r){Mt.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=w.clamp(r,0,2*Math.PI);var i,o,a,s=[],c=[],u=[],l=1/t,f=new D,h=new x;for(o=0;o<=t;o++){var d=n+o*l*r,p=Math.sin(d),m=Math.cos(d);for(a=0;a<=e.length-1;a++)f.x=e[a].x*p,f.y=e[a].y,f.z=e[a].x*m,c.push(f.x,f.y,f.z),h.x=o/t,h.y=a/(e.length-1),u.push(h.x,h.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var g=i=a+o*e.length,_=i+e.length,v=i+e.length+1,y=i+1;s.push(g,_,y),s.push(_,v,y)}if(this.setIndex(s),this.setAttribute("position",new dt(c,3)),this.setAttribute("uv",new dt(u,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,E=new D,M=new D,S=new D;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)E.x=b[a+0],E.y=b[a+1],E.z=b[a+2],M.x=b[i+a+0],M.y=b[i+a+1],M.z=b[i+a+2],S.addVectors(E,M).normalize(),b[a+0]=b[i+a+0]=S.x,b[a+1]=b[i+a+1]=S.y,b[a+2]=b[i+a+2]=S.z}}function ba(e,t){Xt.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new wa(e,t)),this.mergeVertices()}function wa(e,t){Mt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))u(e);else for(var c=0;c<e.length;c++)u(e[c]),this.addGroup(a,s,c),a+=s,s=0;function u(e){var a,c,u,l=r.length/3,f=e.extractPoints(t),h=f.shape,d=f.holes;for(!1===oa.isClockWise(h)&&(h=h.reverse()),a=0,c=d.length;a<c;a++)u=d[a],!0===oa.isClockWise(u)&&(d[a]=u.reverse());var p=oa.triangulateShape(h,d);for(a=0,c=d.length;a<c;a++)u=d[a],h=h.concat(u);for(a=0,c=h.length;a<c;a++){var m=h[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=p.length;a<c;a++){var g=p[a],_=g[0]+l,v=g[1]+l,y=g[2]+l;n.push(_,v,y),s+=3}}this.setIndex(n),this.setAttribute("position",new dt(r,3)),this.setAttribute("normal",new dt(i,3)),this.setAttribute("uv",new dt(o,2))}function xa(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function Ea(e,t){Mt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(w.DEG2RAD*t),c=[0,0],u={},l=["a","b","c"];e.isBufferGeometry?(o=new Xt).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var f=o.vertices,h=o.faces,d=0,p=h.length;d<p;d++)for(var m=h[d],g=0;g<3;g++)n=m[l[g]],r=m[l[(g+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),void 0===u[i=c[0]+","+c[1]]?u[i]={index1:c[0],index2:c[1],face1:d,face2:void 0}:u[i].face2=d;for(i in u){var _=u[i];if(void 0===_.face2||h[_.face1].normal.dot(h[_.face2].normal)<=s){var v=f[_.index1];a.push(v.x,v.y,v.z),v=f[_.index2],a.push(v.x,v.y,v.z)}}this.setAttribute("position",new dt(a,3))}function Ma(e,t,n,r,i,o,a,s){Xt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Sa(e,t,n,r,i,o,a,s)),this.mergeVertices()}function Sa(e,t,n,r,i,o,a,s){Mt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var u=[],l=[],f=[],h=[],d=0,p=[],m=n/2,g=0;function _(n){var i,o,p,_=new x,v=new D,y=0,b=!0===n?e:t,w=!0===n?1:-1;for(o=d,i=1;i<=r;i++)l.push(0,m*w,0),f.push(0,w,0),h.push(.5,.5),d++;for(p=d,i=0;i<=r;i++){var E=i/r*s+a,M=Math.cos(E),S=Math.sin(E);v.x=b*S,v.y=m*w,v.z=b*M,l.push(v.x,v.y,v.z),f.push(0,w,0),_.x=.5*M+.5,_.y=.5*S*w+.5,h.push(_.x,_.y),d++}for(i=0;i<r;i++){var T=o+i,k=p+i;!0===n?u.push(k,k+1,T):u.push(k+1,k,T),y+=3}c.addGroup(g,y,!0===n?1:2),g+=y}!function(){var o,_,v=new D,y=new D,b=0,w=(t-e)/n;for(_=0;_<=i;_++){var x=[],E=_/i,M=E*(t-e)+e;for(o=0;o<=r;o++){var S=o/r,T=S*s+a,k=Math.sin(T),C=Math.cos(T);y.x=M*k,y.y=-E*n+m,y.z=M*C,l.push(y.x,y.y,y.z),v.set(k,w,C).normalize(),f.push(v.x,v.y,v.z),h.push(S,1-E),x.push(d++)}p.push(x)}for(o=0;o<r;o++)for(_=0;_<i;_++){var O=p[_][o],A=p[_+1][o],P=p[_+1][o+1],L=p[_][o+1];u.push(O,A,L),u.push(A,P,L),b+=6}c.addGroup(g,b,0),g+=b}(),!1===o&&(e>0&&_(!0),t>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new dt(l,3)),this.setAttribute("normal",new dt(f,3)),this.setAttribute("uv",new dt(h,2))}function Ta(e,t,n,r,i,o,a){Ma.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function ka(e,t,n,r,i,o,a){Sa.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function Ca(e,t,n,r){Xt.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Oa(e,t,n,r)),this.mergeVertices()}function Oa(e,t,n,r){Mt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],c=[],u=[],l=new D,f=new x;for(s.push(0,0,0),c.push(0,0,1),u.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var h=n+o/t*r;l.x=e*Math.cos(h),l.y=e*Math.sin(h),s.push(l.x,l.y,l.z),c.push(0,0,1),f.x=(s[i]/e+1)/2,f.y=(s[i+1]/e+1)/2,u.push(f.x,f.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.setAttribute("position",new dt(s,3)),this.setAttribute("normal",new dt(c,3)),this.setAttribute("uv",new dt(u,2))}ha.prototype=Object.create(Xt.prototype),ha.prototype.constructor=ha,da.prototype=Object.create(ua.prototype),da.prototype.constructor=da,pa.prototype=Object.create(Xt.prototype),pa.prototype.constructor=pa,ma.prototype=Object.create(Mt.prototype),ma.prototype.constructor=ma,ga.prototype=Object.create(Xt.prototype),ga.prototype.constructor=ga,_a.prototype=Object.create(Mt.prototype),_a.prototype.constructor=_a,va.prototype=Object.create(Xt.prototype),va.prototype.constructor=va,ya.prototype=Object.create(Mt.prototype),ya.prototype.constructor=ya,ba.prototype=Object.create(Xt.prototype),ba.prototype.constructor=ba,ba.prototype.toJSON=function(){var e=Xt.prototype.toJSON.call(this);return xa(this.parameters.shapes,e)},wa.prototype=Object.create(Mt.prototype),wa.prototype.constructor=wa,wa.prototype.toJSON=function(){var e=Mt.prototype.toJSON.call(this);return xa(this.parameters.shapes,e)},Ea.prototype=Object.create(Mt.prototype),Ea.prototype.constructor=Ea,Ma.prototype=Object.create(Xt.prototype),Ma.prototype.constructor=Ma,Sa.prototype=Object.create(Mt.prototype),Sa.prototype.constructor=Sa,Ta.prototype=Object.create(Ma.prototype),Ta.prototype.constructor=Ta,ka.prototype=Object.create(Sa.prototype),ka.prototype.constructor=ka,Ca.prototype=Object.create(Xt.prototype),Ca.prototype.constructor=Ca,Oa.prototype=Object.create(Mt.prototype),Oa.prototype.constructor=Oa;var Aa=Object.freeze({__proto__:null,WireframeGeometry:vo,ParametricGeometry:yo,ParametricBufferGeometry:bo,TetrahedronGeometry:Eo,TetrahedronBufferGeometry:Mo,OctahedronGeometry:So,OctahedronBufferGeometry:To,IcosahedronGeometry:ko,IcosahedronBufferGeometry:Co,DodecahedronGeometry:Oo,DodecahedronBufferGeometry:Ao,PolyhedronGeometry:wo,PolyhedronBufferGeometry:xo,TubeGeometry:Po,TubeBufferGeometry:Lo,TorusKnotGeometry:Do,TorusKnotBufferGeometry:Io,TorusGeometry:Ro,TorusBufferGeometry:Bo,TextGeometry:ha,TextBufferGeometry:da,SphereGeometry:pa,SphereBufferGeometry:ma,RingGeometry:ga,RingBufferGeometry:_a,PlaneGeometry:pn,PlaneBufferGeometry:mn,LatheGeometry:va,LatheBufferGeometry:ya,ShapeGeometry:ba,ShapeBufferGeometry:wa,ExtrudeGeometry:ca,ExtrudeBufferGeometry:ua,EdgesGeometry:Ea,ConeGeometry:Ta,ConeBufferGeometry:ka,CylinderGeometry:Ma,CylinderBufferGeometry:Sa,CircleGeometry:Ca,CircleBufferGeometry:Oa,BoxGeometry:Zt,BoxBufferGeometry:Jt});function Pa(e){nt.call(this),this.type="ShadowMaterial",this.color=new Ze(0),this.transparent=!0,this.setValues(e)}function La(e){tn.call(this,e),this.type="RawShaderMaterial"}function Da(e){nt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new x(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ia(e){Da.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new x(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function Ra(e){nt.call(this),this.type="MeshPhongMaterial",this.color=new Ze(16777215),this.specular=new Ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new x(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ba(e){nt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ze(16777215),this.specular=new Ze(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new x(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Na(e){nt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new x(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ua(e){nt.call(this),this.type="MeshLambertMaterial",this.color=new Ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function za(e){nt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new x(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Fa(e){Xi.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Pa.prototype=Object.create(nt.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isShadowMaterial=!0,Pa.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this},La.prototype=Object.create(tn.prototype),La.prototype.constructor=La,La.prototype.isRawShaderMaterial=!0,Da.prototype=Object.create(nt.prototype),Da.prototype.constructor=Da,Da.prototype.isMeshStandardMaterial=!0,Da.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ia.prototype=Object.create(Da.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isMeshPhysicalMaterial=!0,Ia.prototype.copy=function(e){return Da.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new Ze).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},Ra.prototype=Object.create(nt.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isMeshPhongMaterial=!0,Ra.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ba.prototype=Object.create(nt.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isMeshToonMaterial=!0,Ba.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Na.prototype=Object.create(nt.prototype),Na.prototype.constructor=Na,Na.prototype.isMeshNormalMaterial=!0,Na.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ua.prototype=Object.create(nt.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isMeshLambertMaterial=!0,Ua.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},za.prototype=Object.create(nt.prototype),za.prototype.constructor=za,za.prototype.isMeshMatcapMaterial=!0,za.prototype.copy=function(e){return nt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Fa.prototype=Object.create(Xi.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineDashedMaterial=!0,Fa.prototype.copy=function(e){return Xi.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ja=Object.freeze({__proto__:null,ShadowMaterial:Pa,SpriteMaterial:wi,RawShaderMaterial:La,ShaderMaterial:tn,PointsMaterial:ao,MeshPhysicalMaterial:Ia,MeshStandardMaterial:Da,MeshPhongMaterial:Ra,MeshToonMaterial:Ba,MeshNormalMaterial:Na,MeshLambertMaterial:Ua,MeshDepthMaterial:ri,MeshDistanceMaterial:ii,MeshBasicMaterial:rt,MeshMatcapMaterial:za,LineDashedMaterial:Fa,LineBasicMaterial:Xi,Material:nt}),Wa={arraySlice:function(e,t,n){return Wa.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r,i){i=i||30;var o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var c=o.tracks[s],u=c.getValueSize(),l=[],f=[],h=0;h<c.times.length;++h){var d=c.times[h]*i;if(!(d<n||d>=r)){l.push(c.times[h]);for(var p=0;p<u;++p)f.push(c.values[h*u+p])}}0!==l.length&&(c.times=Wa.convertArray(l,c.times.constructor),c.values=Wa.convertArray(f,c.values.constructor),a.push(c))}o.tracks=a;var m=1/0;for(s=0;s<o.tracks.length;++s)m>o.tracks[s].times[0]&&(m=o.tracks[s].times[0]);for(s=0;s<o.tracks.length;++s)o.tracks[s].shift(-1*m);return o.resetDuration(),o}};function Ha(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Va(e,t,n,r){Ha.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ka(e,t,n,r){Ha.call(this,e,t,n,r)}function Ga(e,t,n,r){Ha.call(this,e,t,n,r)}function qa(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wa.convertArray(t,this.TimeBufferType),this.values=Wa.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ya(e,t,n){qa.call(this,e,t,n)}function Xa(e,t,n,r){qa.call(this,e,t,n,r)}function Za(e,t,n,r){qa.call(this,e,t,n,r)}function Ja(e,t,n,r){Ha.call(this,e,t,n,r)}function $a(e,t,n,r){qa.call(this,e,t,n,r)}function Qa(e,t,n,r){qa.call(this,e,t,n,r)}function es(e,t,n,r){qa.call(this,e,t,n,r)}function ts(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=w.generateUUID(),this.duration<0&&this.resetDuration()}function ns(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Za;case"vector":case"vector2":case"vector3":case"vector4":return es;case"color":return Xa;case"quaternion":return $a;case"bool":case"boolean":return Ya;case"string":return Qa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Wa.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Ha.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var c=n+o>>>1;e<t[c]?o=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ha.prototype,{beforeStart_:Ha.prototype.copySampleValue_,afterEnd_:Ha.prototype.copySampleValue_}),Va.prototype=Object.assign(Object.create(Ha.prototype),{constructor:Va,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-n;break;case 2402:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var c=.5*(n-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-n),this._offsetPrev=i*u,this._offsetNext=o*u},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,u=this._offsetPrev,l=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,g=-f*m+2*f*p-f*d,_=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,v=(-1-h)*m+(1.5+h)*p+.5*d,y=h*m-h*p,b=0;b!==a;++b)i[b]=g*o[u+b]+_*o[c+b]+v*o[s+b]+y*o[l+b];return i}}),Ka.prototype=Object.assign(Object.create(Ha.prototype),{constructor:Ka,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,u=(n-t)/(r-t),l=1-u,f=0;f!==a;++f)i[f]=o[c+f]*l+o[s+f]*u;return i}}),Ga.prototype=Object.assign(Object.create(Ha.prototype),{constructor:Ga,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(qa,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Wa.convertArray(e.times,Array),values:Wa.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(qa.prototype,{constructor:qa,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Ga(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ka(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Va(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Wa.arraySlice(n,i,o),this.values=Wa.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Wa.isTypedArray(r)){a=0;for(var c=r.length;a!==c;++a){var u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}}return e},optimize:function(){for(var e=Wa.arraySlice(this.times),t=Wa.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,o=e.length-1,a=1;a<o;++a){var s=!1,c=e[a];if(c!==e[a+1]&&(1!==a||c!==c[0]))if(r)s=!0;else for(var u=a*n,l=u-n,f=u+n,h=0;h!==n;++h){var d=t[u+h];if(d!==t[l+h]||d!==t[f+h]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var p=a*n,m=i*n;for(h=0;h!==n;++h)t[m+h]=t[p+h]}++i}}if(o>0){e[i]=e[o];for(p=o*n,m=i*n,h=0;h!==n;++h)t[m+h]=t[p+h];++i}return i!==e.length?(this.times=Wa.arraySlice(e,0,i),this.values=Wa.arraySlice(t,0,i*n)):(this.times=e,this.values=t),this},clone:function(){var e=Wa.arraySlice(this.times,0),t=Wa.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ya.prototype=Object.assign(Object.create(qa.prototype),{constructor:Ya,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Xa.prototype=Object.assign(Object.create(qa.prototype),{constructor:Xa,ValueTypeName:"color"}),Za.prototype=Object.assign(Object.create(qa.prototype),{constructor:Za,ValueTypeName:"number"}),Ja.prototype=Object.assign(Object.create(Ha.prototype),{constructor:Ja,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=(n-t)/(r-t),u=s+a;s!==u;s+=4)A.slerpFlat(i,0,o,s-a,o,s,c);return i}}),$a.prototype=Object.assign(Object.create(qa.prototype),{constructor:$a,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Ja(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Qa.prototype=Object.assign(Object.create(qa.prototype),{constructor:Qa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),es.prototype=Object.assign(Object.create(qa.prototype),{constructor:es,ValueTypeName:"vector"}),Object.assign(ts,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(ns(n[i]).scale(r));return new ts(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(qa.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var u=Wa.getKeyframeOrder(s);s=Wa.sortedArray(s,1,u),c=Wa.sortedArray(c,1,u),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Za(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/n))}return new ts(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&c.length>1){var u=r[f=c[1]];u||(r[f]=u=[]),u.push(s)}}var l=[];for(var f in r)l.push(ts.CreateFromMorphTargetSequence(f,r[f],t,n));return l},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Wa.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var u=s[c].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var l={},f=0;f<u.length;f++)if(u[f].morphTargets)for(var h=0;h<u[f].morphTargets.length;h++)l[u[f].morphTargets[h]]=-1;for(var d in l){var p=[],m=[];for(h=0;h!==u[f].morphTargets.length;++h){var g=u[f];p.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Za(".morphTargetInfluence["+d+"]",p,m))}o=l.length*(a||1)}else{var _=".bones["+t[c].name+"]";n(es,_+".position",u,"pos",r),n($a,_+".quaternion",u,"rot",r),n(es,_+".scale",u,"scl",r)}}return 0===r.length?null:new ts(i,o,r)}}),Object.assign(ts.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new ts(this.name,this.duration,e)}});var rs={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function is(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var os=new is;function as(e){this.manager=void 0!==e?e:os,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(as.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var ss={};function cs(e){as.call(this,e)}function us(e){as.call(this,e)}function ls(e){as.call(this,e)}function fs(e){as.call(this,e)}function hs(e){as.call(this,e)}function ds(e){as.call(this,e)}function ps(e){as.call(this,e)}function ms(){this.type="Curve",this.arcLengthDivisions=200}function gs(e,t,n,r,i,o,a,s){ms.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function _s(e,t,n,r,i,o){gs.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function vs(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var c=(t-e)/o-(n-e)/(o+a)+(n-t)/a,u=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,c*=a,u*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}cs.prototype=Object.assign(Object.create(as.prototype),{constructor:cs,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=rs.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===ss[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],u=a[3];u=decodeURIComponent(u),c&&(u=atob(u));try{var l,f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":for(var h=new Uint8Array(u.length),d=0;d<u.length;d++)h[d]=u.charCodeAt(d);l="blob"===f?new Blob([h.buffer],{type:s}):h.buffer;break;case"document":var p=new DOMParser;l=p.parseFromString(u,s);break;case"json":l=JSON.parse(u);break;default:l=u}setTimeout((function(){t&&t(l),i.manager.itemEnd(e)}),0)}catch(_){setTimeout((function(){r&&r(_),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{ss[e]=[],ss[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response,r=ss[e];if(delete ss[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),rs.add(e,n);for(var o=0,a=r.length;o<a;o++){(s=r[o]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=ss[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=ss[e];delete ss[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=ss[e];delete ss[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}ss[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),us.prototype=Object.assign(Object.create(as.prototype),{constructor:us,load:function(e,t,n,r){var i=this,o=new cs(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=ts.parse(e[n]);t.push(r)}return t}}),ls.prototype=Object.assign(Object.create(as.prototype),{constructor:ls,load:function(e,t,n,r){var i=this,o=[],a=new mo;a.image=o;var s=new cs(this.manager);function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=1006),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,l=0,f=e.length;l<f;++l)c(l);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=1006),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}),fs.prototype=Object.assign(Object.create(as.prototype),{constructor:fs,load:function(e,t,n,r){var i=this,o=new sn,a=new cs(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:m,o.wrapT=void 0!==n.wrapT?n.wrapT:m,o.magFilter=void 0!==n.magFilter?n.magFilter:1006,o.minFilter=void 0!==n.minFilter?n.minFilter:1006,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=1008),1===n.mipmapCount&&(o.minFilter=1006),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),hs.prototype=Object.assign(Object.create(as.prototype),{constructor:hs,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=rs.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),rs.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),ds.prototype=Object.assign(Object.create(as.prototype),{constructor:ds,load:function(e,t,n,r){var i=new On,o=new hs(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var c=0;c<e.length;++c)s(c);return i}}),ps.prototype=Object.assign(Object.create(as.prototype),{constructor:ps,load:function(e,t,n,r){var i=new T,o=new hs(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?1022:1023,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(ms.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=r[i=Math.floor(s+(c-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(o-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new D,a=[],s=[],c=[],u=new D,l=new j;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new D,c[0]=new D;var f=Number.MAX_VALUE,h=Math.abs(a[0].x),d=Math.abs(a[0].y),p=Math.abs(a[0].z);for(h<=f&&(f=h,o.set(1,0,0)),d<=f&&(f=d,o.set(0,1,0)),p<=f&&o.set(0,0,1),u.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],u),c[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),u.crossVectors(a[n-1],a[n]),u.length()>Number.EPSILON&&(u.normalize(),i=Math.acos(w.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(l.makeRotationAxis(u,i))),c[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(w.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(u.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(l.makeRotationAxis(a[n],i*n)),c[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),gs.prototype=Object.create(ms.prototype),gs.prototype.constructor=gs,gs.prototype.isEllipseCurve=!0,gs.prototype.getPoint=function(e,t){for(var n=t||new x,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var u=Math.cos(this.aRotation),l=Math.sin(this.aRotation),f=s-this.aX,h=c-this.aY;s=f*u-h*l+this.aX,c=f*l+h*u+this.aY}return n.set(s,c)},gs.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},gs.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},gs.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},_s.prototype=Object.create(gs.prototype),_s.prototype.constructor=_s,_s.prototype.isArcCurve=!0;var ys=new D,bs=new vs,ws=new vs,xs=new vs;function Es(e,t,n,r){ms.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function Ms(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Ss(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Ts(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function ks(e,t,n,r){ms.call(this),this.type="CubicBezierCurve",this.v0=e||new x,this.v1=t||new x,this.v2=n||new x,this.v3=r||new x}function Cs(e,t,n,r){ms.call(this),this.type="CubicBezierCurve3",this.v0=e||new D,this.v1=t||new D,this.v2=n||new D,this.v3=r||new D}function Os(e,t){ms.call(this),this.type="LineCurve",this.v1=e||new x,this.v2=t||new x}function As(e,t){ms.call(this),this.type="LineCurve3",this.v1=e||new D,this.v2=t||new D}function Ps(e,t,n){ms.call(this),this.type="QuadraticBezierCurve",this.v0=e||new x,this.v1=t||new x,this.v2=n||new x}function Ls(e,t,n){ms.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new D,this.v1=t||new D,this.v2=n||new D}function Ds(e){ms.call(this),this.type="SplineCurve",this.points=e||[]}Es.prototype=Object.create(ms.prototype),Es.prototype.constructor=Es,Es.prototype.isCatmullRomCurve3=!0,Es.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new D,s=this.points,c=s.length,u=(c-(this.closed?0:1))*e,l=Math.floor(u),f=u-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/c)+1)*c:0===f&&l===c-1&&(l=c-2,f=1),this.closed||l>0?n=s[(l-1)%c]:(ys.subVectors(s[0],s[1]).add(s[0]),n=ys),r=s[l%c],i=s[(l+1)%c],this.closed||l+2<c?o=s[(l+2)%c]:(ys.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=ys),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(o),h);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),bs.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,d,p,m),ws.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,d,p,m),xs.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,d,p,m)}else"catmullrom"===this.curveType&&(bs.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),ws.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),xs.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(bs.calc(f),ws.calc(f),xs.calc(f)),a},Es.prototype.copy=function(e){ms.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Es.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},Es.prototype.fromJSON=function(e){ms.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new D).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},ks.prototype=Object.create(ms.prototype),ks.prototype.constructor=ks,ks.prototype.isCubicBezierCurve=!0,ks.prototype.getPoint=function(e,t){var n=t||new x,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ts(e,r.x,i.x,o.x,a.x),Ts(e,r.y,i.y,o.y,a.y)),n},ks.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},ks.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},ks.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Cs.prototype=Object.create(ms.prototype),Cs.prototype.constructor=Cs,Cs.prototype.isCubicBezierCurve3=!0,Cs.prototype.getPoint=function(e,t){var n=t||new D,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Ts(e,r.x,i.x,o.x,a.x),Ts(e,r.y,i.y,o.y,a.y),Ts(e,r.z,i.z,o.z,a.z)),n},Cs.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Cs.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Cs.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Os.prototype=Object.create(ms.prototype),Os.prototype.constructor=Os,Os.prototype.isLineCurve=!0,Os.prototype.getPoint=function(e,t){var n=t||new x;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Os.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Os.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Os.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Os.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Os.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},As.prototype=Object.create(ms.prototype),As.prototype.constructor=As,As.prototype.isLineCurve3=!0,As.prototype.getPoint=function(e,t){var n=t||new D;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},As.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},As.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},As.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},As.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ps.prototype=Object.create(ms.prototype),Ps.prototype.constructor=Ps,Ps.prototype.isQuadraticBezierCurve=!0,Ps.prototype.getPoint=function(e,t){var n=t||new x,r=this.v0,i=this.v1,o=this.v2;return n.set(Ss(e,r.x,i.x,o.x),Ss(e,r.y,i.y,o.y)),n},Ps.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ps.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ps.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ls.prototype=Object.create(ms.prototype),Ls.prototype.constructor=Ls,Ls.prototype.isQuadraticBezierCurve3=!0,Ls.prototype.getPoint=function(e,t){var n=t||new D,r=this.v0,i=this.v1,o=this.v2;return n.set(Ss(e,r.x,i.x,o.x),Ss(e,r.y,i.y,o.y),Ss(e,r.z,i.z,o.z)),n},Ls.prototype.copy=function(e){return ms.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ls.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ls.prototype.fromJSON=function(e){return ms.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ds.prototype=Object.create(ms.prototype),Ds.prototype.constructor=Ds,Ds.prototype.isSplineCurve=!0,Ds.prototype.getPoint=function(e,t){var n=t||new x,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],c=r[o],u=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(Ms(a,s.x,c.x,u.x,l.x),Ms(a,s.y,c.y,u.y,l.y)),n},Ds.prototype.copy=function(e){ms.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Ds.prototype.toJSON=function(){var e=ms.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Ds.prototype.fromJSON=function(e){ms.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new x).fromArray(r))}return this};var Is=Object.freeze({__proto__:null,ArcCurve:_s,CatmullRomCurve3:Es,CubicBezierCurve:ks,CubicBezierCurve3:Cs,EllipseCurve:gs,LineCurve:Os,LineCurve3:As,QuadraticBezierCurve:Ps,QuadraticBezierCurve3:Ls,SplineCurve:Ds});function Rs(){ms.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Bs(e){Rs.call(this),this.type="Path",this.currentPoint=new x,e&&this.setFromPoints(e)}function Ns(e){Bs.call(this,e),this.uuid=w.generateUUID(),this.type="Shape",this.holes=[]}function Us(e,t){oe.call(this),this.type="Light",this.color=new Ze(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function zs(e,t,n){Us.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(oe.DefaultUp),this.updateMatrix(),this.groundColor=new Ze(t)}function Fs(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new x(512,512),this.map=null,this.mapPass=null,this.matrix=new j,this._frustum=new ln,this._frameExtents=new x(1,1),this._viewportCount=1,this._viewports=[new k(0,0,1,1)]}function js(){Fs.call(this,new rn(50,1,.5,500))}function Ws(e,t,n,r,i,o){Us.call(this,e,t),this.type="SpotLight",this.position.copy(oe.DefaultUp),this.updateMatrix(),this.target=new oe,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new js}function Hs(){Fs.call(this,new rn(90,1,.5,500)),this._frameExtents=new x(4,2),this._viewportCount=6,this._viewports=[new k(2,1,1,1),new k(0,1,1,1),new k(3,1,1,1),new k(1,1,1,1),new k(3,0,1,1),new k(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}function Vs(e,t,n,r){Us.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Hs}function Ks(e,t,n,r,i,o){nn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Gs(){Fs.call(this,new Ks(-5,5,5,-5,.5,500))}function qs(e,t){Us.call(this,e,t),this.type="DirectionalLight",this.position.copy(oe.DefaultUp),this.updateMatrix(),this.target=new oe,this.shadow=new Gs}function Ys(e,t){Us.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Xs(e,t,n,r){Us.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Zs(e){as.call(this,e),this.textures={}}Rs.prototype=Object.assign(Object.create(ms.prototype),{constructor:Rs,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Os(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var u=s[c];t&&t.equals(u)||(n.push(u),t=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){ms.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=ms.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){ms.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Is[r.type]).fromJSON(r))}return this}}),Bs.prototype=Object.assign(Object.create(Rs.prototype),{constructor:Bs,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new Os(this.currentPoint.clone(),new x(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new Ps(this.currentPoint.clone(),new x(e,t),new x(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,o){var a=new ks(this.currentPoint.clone(),new x(e,t),new x(n,r),new x(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){var t=new Ds([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this},absarc:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this},ellipse:function(e,t,n,r,i,o,a,s){var c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,n,r,i,o,a,s),this},absellipse:function(e,t,n,r,i,o,a,s){var c=new gs(e,t,n,r,i,o,a,s);if(this.curves.length>0){var u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);var l=c.getPoint(1);return this.currentPoint.copy(l),this},copy:function(e){return Rs.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Rs.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Rs.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Ns.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Ns,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Bs.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Bs.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Bs.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Bs).fromJSON(r))}return this}}),Us.prototype=Object.assign(Object.create(oe.prototype),{constructor:Us,isLight:!0,copy:function(e){return oe.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=oe.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),zs.prototype=Object.assign(Object.create(Us.prototype),{constructor:zs,isHemisphereLight:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Fs.prototype,{_projScreenMatrix:new j,_lightPositionWorld:new D,_lookTarget:new D,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),js.prototype=Object.assign(Object.create(Fs.prototype),{constructor:js,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*w.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Fs.prototype.updateMatrices.call(this,e)}}),Ws.prototype=Object.assign(Object.create(Us.prototype),{constructor:Ws,isSpotLight:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Hs.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Hs,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Vs.prototype=Object.assign(Object.create(Us.prototype),{constructor:Vs,isPointLight:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Ks.prototype=Object.assign(Object.create(nn.prototype),{constructor:Ks,isOrthographicCamera:!0,copy:function(e,t){return nn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=c*this.view.offsetX)+c*this.view.width,s=(a-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=oe.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Gs.prototype=Object.assign(Object.create(Fs.prototype),{constructor:Gs,isDirectionalLightShadow:!0,updateMatrices:function(e){Fs.prototype.updateMatrices.call(this,e)}}),qs.prototype=Object.assign(Object.create(Us.prototype),{constructor:qs,isDirectionalLight:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ys.prototype=Object.assign(Object.create(Us.prototype),{constructor:Ys,isAmbientLight:!0}),Xs.prototype=Object.assign(Object.create(Us.prototype),{constructor:Xs,isRectAreaLight:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Us.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Zs.prototype=Object.assign(Object.create(as.prototype),{constructor:Zs,load:function(e,t,n,r){var i=this,o=new cs(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new ja[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Ze).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new Ze).setHex(o.value);break;case"v2":r.uniforms[i].value=(new x).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new D).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new k).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new E).fromArray(o.value);case"m4":r.uniforms[i].value=(new j).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new x).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new x).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var Js=function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function $s(){Mt.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Qs(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ot.call(this,e,t,n),this.meshPerAttribute=r||1}function ec(e){as.call(this,e)}$s.prototype=Object.assign(Object.create(Mt.prototype),{constructor:$s,isInstancedBufferGeometry:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Mt.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Qs.prototype=Object.assign(Object.create(ot.prototype),{constructor:Qs,isInstancedBufferAttribute:!0,copy:function(e){return ot.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=ot.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),ec.prototype=Object.assign(Object.create(as.prototype),{constructor:ec,load:function(e,t,n,r){var i=this,o=new cs(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new $s:new Mt,n=e.data.index;if(void 0!==n){var r=new tc[n.type](n.array);t.setIndex(new ot(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],s=(r=new tc[a.type](a.array),new(a.isInstancedBufferAttribute?Qs:ot)(r,a.itemSize,a.normalized));void 0!==a.name&&(s.name=a.name),t.setAttribute(o,s)}var c=e.data.morphAttributes;if(c)for(var o in c){for(var u=c[o],l=[],f=0,h=u.length;f<h;f++){a=u[f],s=new ot(r=new tc[a.type](a.array),a.itemSize,a.normalized);void 0!==a.name&&(s.name=a.name),l.push(s)}t.morphAttributes[o]=l}e.data.morphTargetsRelative&&(t.morphTargetsRelative=!0);var d=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==d){f=0;for(var p=d.length;f!==p;++f){var m=d[f];t.addGroup(m.start,m.count,m.materialIndex)}}var g=e.data.boundingSphere;if(void 0!==g){var _=new D;void 0!==g.center&&_.fromArray(g.center),t.boundingSphere=new Ee(_,g.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var tc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function nc(e){as.call(this,e)}nc.prototype=Object.assign(Object.create(as.prototype),{constructor:nc,load:function(e,t,n,r){var i=this,o=""===this.path?Js(e):this.path;this.resourcePath=this.resourcePath||o;var a=new cs(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Ns).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new ec,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Aa[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Aa[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Aa[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Aa[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Aa[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Aa[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new Aa[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Aa[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Aa[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Aa[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new Aa[s.type]((new Is[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Aa[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new Aa[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],u=0,l=s.shapes.length;u<l;u++){var f=t[s.shapes[u]];c.push(f)}a=new Aa[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],u=0,l=s.shapes.length;u<l;u++){f=t[s.shapes[u]];c.push(f)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new Is[h.type]).fromJSON(h)),a=new Aa[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Zs;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],u=0;u<s.materials.length;u++){var l=s.materials[u];void 0===n[l.uuid]&&(n[l.uuid]=i.parse(l)),c.push(n[l.uuid])}r[s.uuid]=c}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=ts.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new hs(new is(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var c=e[a],u=c.url;if(Array.isArray(u)){r[c.uuid]=[];for(var l=0,f=u.length;l<f;l++){var h=u[l],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:n.resourcePath+h;r[c.uuid].push(i(d))}}else{d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(d)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new On(t[s.image]):new T(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,ic)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],oc),a.wrapT=n(s.wrap[1],oc)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,ac)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,ac)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new ae,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Ze(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new gi(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new mi(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new rn(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Ks(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Ys(e.color,e.intensity);break;case"DirectionalLight":r=new qs(e.color,e.intensity);break;case"PointLight":r=new Vs(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Xs(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Ws(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new zs(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);r=a.bones&&a.bones.length>0?new zi(a,s):new Wt(a,s);break;case"InstancedMesh":a=i(e.geometry),s=o(e.material);var c=e.count,u=e.instanceMatrix;(r=new Yi(a,s,c)).instanceMatrix=new ot(new Float32Array(u.array),16);break;case"LOD":r=new Ui;break;case"Line":r=new to(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new oo(i(e.geometry),o(e.material));break;case"LineSegments":r=new io(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new fo(i(e.geometry),o(e.material));break;case"Sprite":r=new Ii(o(e.material));break;case"Group":r=new hi;break;default:r=new oe}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,f=0;f<l.length;f++)r.add(this.parseObject(l[f],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);for(var h=e.levels,d=0;d<h.length;d++){var p=h[d],m=r.getObjectByProperty("uuid",p.object);void 0!==m&&r.addLevel(m,p.distance)}}return r}});var rc,ic={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},oc={RepeatWrapping:p,ClampToEdgeWrapping:m,MirroredRepeatWrapping:g},ac={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};function sc(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),as.call(this,e),this.options=void 0}function cc(){this.type="ShapePath",this.color=new Ze,this.subPaths=[],this.currentPath=null}function uc(e){this.type="Font",this.data=e}function lc(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,u,l,f,h,d,p=new cc;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,_=m.length;g<_;){switch(m[g++]){case"m":a=m[g++]*t+n,s=m[g++]*t+r,p.moveTo(a,s);break;case"l":a=m[g++]*t+n,s=m[g++]*t+r,p.lineTo(a,s);break;case"q":c=m[g++]*t+n,u=m[g++]*t+r,l=m[g++]*t+n,f=m[g++]*t+r,p.quadraticCurveTo(l,f,c,u);break;case"b":c=m[g++]*t+n,u=m[g++]*t+r,l=m[g++]*t+n,f=m[g++]*t+r,h=m[g++]*t+n,d=m[g++]*t+r,p.bezierCurveTo(l,f,h,d,c,u)}}return{offsetX:o.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function fc(e){as.call(this,e)}sc.prototype=Object.assign(Object.create(as.prototype),{constructor:sc,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=rs.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(n){rs.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(cc.prototype,{moveTo:function(e,t){return this.currentPath=new Bs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Ns;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],c=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=t[o],c=-c,s=t[i],u=-u),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=u*(e.x-a.x)-c*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=oa.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,c,u=[];if(1===o.length)return s=o[0],(c=new Ns).curves=s.curves,u.push(c),u;var l=!i(o[0].getPoints());l=e?!l:l;var f,h,d=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];for(var _=0,v=o.length;_<v;_++)a=i(f=(s=o[_]).getPoints()),(a=e?!a:a)?(!l&&p[g]&&g++,p[g]={s:new Ns,p:f},p[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:f[0]});if(!p[0])return n(o);if(p.length>1){for(var y=!1,b=[],w=0,x=p.length;w<x;w++)d[w]=[];for(w=0,x=p.length;w<x;w++)for(var E=m[w],M=0;M<E.length;M++){for(var S=E[M],T=!0,k=0;k<p.length;k++)r(S.p,p[k].p)&&(w!==k&&b.push({froms:w,tos:k,hole:M}),T?(T=!1,d[k].push(S)):y=!0);T&&d[w].push(S)}b.length>0&&(y||(m=d))}_=0;for(var C=p.length;_<C;_++){c=p[_].s,u.push(c);for(var O=0,A=(h=m[_]).length;O<A;O++)c.holes.push(h[O].h)}return u}}),Object.assign(uc.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,c=0,u=0;u<r.length;u++){var l=r[u];if("\n"===l)s=0,c-=o;else{var f=lc(l,i,s,c,n);s+=f.offsetX,a.push(f.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),fc.prototype=Object.assign(Object.create(as.prototype),{constructor:fc,load:function(e,t,n,r){var i=this,o=new cs(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new uc(e)}});var hc=function(){return void 0===rc&&(rc=new(window.AudioContext||window.webkitAudioContext)),rc};function dc(e){as.call(this,e)}function pc(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new D)}function mc(e,t){Us.call(this,void 0,t),this.sh=void 0!==e?e:new pc}function gc(e,t,n){mc.call(this,void 0,n);var r=(new Ze).set(e),i=(new Ze).set(t),o=new D(r.r,r.g,r.b),a=new D(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function _c(e,t){mc.call(this,void 0,t);var n=(new Ze).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}dc.prototype=Object.assign(Object.create(as.prototype),{constructor:dc,load:function(e,t,n,r){var i=new cs(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);hc().decodeAudioData(n,(function(e){t(e)}))}),n,r)}}),Object.assign(pc.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScale(o[1],.488603*r),t.addScale(o[2],.488603*i),t.addScale(o[3],.488603*n),t.addScale(o[4],n*r*1.092548),t.addScale(o[5],r*i*1.092548),t.addScale(o[6],.315392*(3*i*i-1)),t.addScale(o[7],n*i*1.092548),t.addScale(o[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScale(o[1],1.023328*r),t.addScale(o[2],1.023328*i),t.addScale(o[3],1.023328*n),t.addScale(o[4],.858086*n*r),t.addScale(o[5],.858086*r*i),t.addScale(o[6],.743125*i*i-.247708),t.addScale(o[7],.858086*n*i),t.addScale(o[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(pc,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),mc.prototype=Object.assign(Object.create(Us.prototype),{constructor:mc,isLightProbe:!0,copy:function(e){return Us.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return Us.prototype.toJSON.call(this,e)}}),gc.prototype=Object.assign(Object.create(mc.prototype),{constructor:gc,isHemisphereLightProbe:!0,copy:function(e){return mc.prototype.copy.call(this,e),this},toJSON:function(e){return mc.prototype.toJSON.call(this,e)}}),_c.prototype=Object.assign(Object.create(mc.prototype),{constructor:_c,isAmbientLightProbe:!0,copy:function(e){return mc.prototype.copy.call(this,e),this},toJSON:function(e){return mc.prototype.toJSON.call(this,e)}});var vc=new j,yc=new j;function bc(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new rn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new rn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(w.DEG2RAD*t.fov*.5)/t.zoom;yc.elements[12]=-o,vc.elements[12]=o,n=-s*t.aspect+a,r=s*t.aspect+a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-a,r=s*t.aspect-a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yc),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vc)}}),Object.assign(bc.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var wc=new D,xc=new A,Ec=new D,Mc=new D;function Sc(){oe.call(this),this.type="AudioListener",this.context=hc(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new bc}function Tc(e){oe.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._pausedAt=0,this.filters=[]}Sc.prototype=Object.assign(Object.create(oe.prototype),{constructor:Sc,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){oe.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wc,xc,Ec),Mc.set(0,0,-1).applyQuaternion(xc),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wc.x,r),t.positionY.linearRampToValueAtTime(wc.y,r),t.positionZ.linearRampToValueAtTime(wc.z,r),t.forwardX.linearRampToValueAtTime(Mc.x,r),t.forwardY.linearRampToValueAtTime(Mc.y,r),t.forwardZ.linearRampToValueAtTime(Mc.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(wc.x,wc.y,wc.z),t.setOrientation(Mc.x,Mc.y,Mc.z,n.x,n.y,n.z)}}),Tc.prototype=Object.assign(Object.create(oe.prototype),{constructor:Tc,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._pausedAt+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._pausedAt=(this.context.currentTime-this._startedAt)*this.playbackRate,this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._pausedAt=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var kc=new D,Cc=new A,Oc=new D,Ac=new D;function Pc(e){Tc.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Lc(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Dc(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Pc.prototype=Object.assign(Object.create(Tc.prototype),{constructor:Pc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(oe.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(kc,Cc,Oc),Ac.set(0,0,1).applyQuaternion(Cc);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(kc.x,n),t.positionY.linearRampToValueAtTime(kc.y,n),t.positionZ.linearRampToValueAtTime(kc.z,n),t.orientationX.linearRampToValueAtTime(Ac.x,n),t.orientationY.linearRampToValueAtTime(Ac.y,n),t.orientationZ.linearRampToValueAtTime(Ac.z,n)}else t.setPosition(kc.x,kc.y,kc.z),t.setOrientation(Ac.x,Ac.y,Ac.z)}}}),Object.assign(Lc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Dc.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){A.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var Ic=new RegExp("[\\[\\]\\.:\\/]","g"),Rc="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Bc=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Nc=/(WCOD+)?/.source.replace("WCOD",Rc),Uc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),zc=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Fc=new RegExp("^"+Bc+Nc+Uc+zc+"$"),jc=["material","materials","bones"];function Wc(e,t,n){var r=n||Hc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Hc(e,t,n){this.path=t,this.parsedPath=n||Hc.parseTrackName(t),this.node=Hc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Vc(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:2400,endingEnd:2400},s=0;s!==i;++s){var c=r[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Kc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Gc(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function qc(e,t,n){_i.call(this,e,t),this.meshPerAttribute=n||1}function Yc(e,t){return e.distance-t.distance}function Xc(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)Xc(i[o],t,n,!0)}function Zc(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}Object.assign(Wc.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Hc,{Composite:Wc,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Hc.Composite(e,t,n):new Hc(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Ic,"")},parseTrackName:function(e){var t=Fc.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==jc.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}),Object.assign(Hc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Hc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][c]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Hc.prototype,{_getValue_unbound:Hc.prototype.getValue,_setValue_unbound:Hc.prototype.setValue}),Object.assign(function(){this.uuid=w.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,u=0,l=arguments.length;u!==l;++u){var f=arguments[u],h=f.uuid,d=r[h];if(void 0===d){d=t++,r[h]=d,e.push(f);for(var p=0,m=s;p!==m;++p)a[p].push(new Hc(f,i[p],o[p]))}else if(d<n){c=e[d];var g=--n,_=e[g];r[_.uuid]=d,e[d]=_,r[h]=g,e[g]=f;for(p=0,m=s;p!==m;++p){var v=a[p],y=v[g],b=v[d];v[d]=y,void 0===b&&(b=new Hc(f,i[p],o[p])),v[g]=b}}else e[d]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,u=n[c];if(void 0!==u&&u>=t){var l=t++,f=e[l];n[f.uuid]=u,e[u]=f,n[c]=l,e[l]=s;for(var h=0,d=i;h!==d;++h){var p=r[h],m=p[l],g=p[u];p[u]=m,p[l]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],u=c.uuid,l=r[u];if(void 0!==l)if(delete r[u],l<n){var f=--n,h=e[f],d=e[v=--t];r[h.uuid]=l,e[l]=h,r[d.uuid]=f,e[f]=d,e.pop();for(var p=0,m=o;p!==m;++p){var g=(y=i[p])[f],_=y[v];y[l]=g,y[f]=_,y.pop()}}else{var v;r[(d=e[v=--t]).uuid]=l,e[l]=d,e.pop();for(p=0,m=o;p!==m;++p){var y;(y=i[p])[l]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,u=this.nCachedObjects_,l=new Array(c);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var f=u,h=s.length;f!==h;++f){var d=s[f];l[f]=new Hc(d,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Vc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,u=this._propertyBindings,l=0,f=c.length;l!==f;++l)c[l].evaluate(a),u[l].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=2202===r;if(0===e)return-1===i?t:o&&1===(1&i)?n-t:t;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=t;if(o&&1===(1&i))return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Kc.prototype=Object.assign(Object.create(_.prototype),{constructor:Kc,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName,u=c[s];void 0===u&&(u={},c[s]=u);for(var l=0;l!==i;++l){var f=r[l],h=f.name,d=u[h];if(void 0!==d)o[l]=d;else{if(void 0!==(d=o[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[l].binding.parsedPath;++(d=new Dc(Hc.create(n,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),o[l]=d}a[l].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,s[u]=c,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Ka(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?ts.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var u=new Vc(this,i,t);return this._bindAction(u,s),this._addInactiveAction(u,o,r),u},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?ts.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var u=c._cacheIndex,l=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=u,t[u]=l,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Gc.prototype.clone=function(){return new Gc(void 0===this.value.clone?this.value:this.value.clone())},qc.prototype=Object.assign(Object.create(_i.prototype),{constructor:qc,isInstancedInterleavedBuffer:!0,copy:function(e){return _i.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(function(e,t,n,r){this.ray=new Pe(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Xc(e,this,r,t),r.sort(Yc),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)Xc(e[i],this,r,t);return r.sort(Yc),r}}),Object.assign(Zc.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(w.clamp(t/this.radius,-1,1))),this}}),Object.assign(function(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Jc=new x;function $c(e,t){this.min=void 0!==e?e:new x(1/0,1/0),this.max=void 0!==t?t:new x(-1/0,-1/0)}Object.assign($c.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Jc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new x),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new x),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new x),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new x),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Jc.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Qc=new D,eu=new D;function tu(e,t){this.start=void 0!==e?e:new D,this.end=void 0!==t?t:new D}function nu(e){oe.call(this),this.material=e,this.render=function(){}}Object.assign(tu.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new D),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new D),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new D),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Qc.subVectors(e,this.start),eu.subVectors(this.end,this.start);var n=eu.dot(eu),r=eu.dot(Qc)/n;return t&&(r=w.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new D),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),nu.prototype=Object.create(oe.prototype),nu.prototype.constructor=nu,nu.prototype.isImmediateRenderObject=!0;var ru=new D;function iu(e,t){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Mt,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new dt(r,3));var c=new Xi({fog:!1});this.cone=new io(n,c),this.add(this.cone),this.update()}iu.prototype=Object.create(oe.prototype),iu.prototype.constructor=iu,iu.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},iu.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),ru.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(ru),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var ou=new D,au=new j,su=new j;function cu(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new Mt,r=[],i=[],o=new Ze(0,0,1),a=new Ze(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new dt(r,3)),n.setAttribute("color",new dt(i,3));var u=new Xi({vertexColors:d,depthTest:!1,depthWrite:!1,transparent:!0});io.call(this,n,u),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function uu(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new ma(t,4,2),i=new rt({wireframe:!0,fog:!1});Wt.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}cu.prototype=Object.create(io.prototype),cu.prototype.constructor=cu,cu.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");su.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(au.multiplyMatrices(su,a.matrixWorld),ou.setFromMatrixPosition(au),r.setXYZ(o,ou.x,ou.y,ou.z),au.multiplyMatrices(su,a.parent.matrixWorld),ou.setFromMatrixPosition(au),r.setXYZ(o+1,ou.x,ou.y,ou.z),o+=2)}n.getAttribute("position").needsUpdate=!0,oe.prototype.updateMatrixWorld.call(this,e)},uu.prototype=Object.create(Wt.prototype),uu.prototype.constructor=uu,uu.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},uu.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var lu=new D,fu=new Ze,hu=new Ze;function du(e,t,n){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new To(t);r.rotateY(.5*Math.PI),this.material=new rt({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=d);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new ot(o,3)),this.add(new Wt(r,this.material)),this.update()}function pu(e,t,n,r){e=e||10,t=t||10,n=new Ze(void 0!==n?n:4473924),r=new Ze(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],u=0,l=0,f=-a;u<=t;u++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);var h=u===i?n:r;h.toArray(c,l),l+=3,h.toArray(c,l),l+=3,h.toArray(c,l),l+=3,h.toArray(c,l),l+=3}var p=new Mt;p.setAttribute("position",new dt(s,3)),p.setAttribute("color",new dt(c,3));var m=new Xi({vertexColors:d});io.call(this,p,m)}function mu(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new Ze(void 0!==i?i:4473924),o=new Ze(void 0!==o?o:8947848);var a,s,c,u,l,f,h,p=[],m=[];for(u=0;u<=t;u++)c=u/t*(2*Math.PI),a=Math.sin(c)*e,s=Math.cos(c)*e,p.push(0,0,0),p.push(a,0,s),h=1&u?i:o,m.push(h.r,h.g,h.b),m.push(h.r,h.g,h.b);for(u=0;u<=n;u++)for(h=1&u?i:o,f=e-e/n*u,l=0;l<r;l++)c=l/r*(2*Math.PI),a=Math.sin(c)*f,s=Math.cos(c)*f,p.push(a,0,s),m.push(h.r,h.g,h.b),c=(l+1)/r*(2*Math.PI),a=Math.sin(c)*f,s=Math.cos(c)*f,p.push(a,0,s),m.push(h.r,h.g,h.b);var g=new Mt;g.setAttribute("position",new dt(p,3)),g.setAttribute("color",new dt(m,3));var _=new Xi({vertexColors:d});io.call(this,g,_)}du.prototype=Object.create(oe.prototype),du.prototype.constructor=du,du.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},du.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");fu.copy(this.light.color),hu.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?fu:hu;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(lu.setFromMatrixPosition(this.light.matrixWorld).negate())},pu.prototype=Object.assign(Object.create(io.prototype),{constructor:pu,copy:function(e){return io.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),mu.prototype=Object.create(io.prototype),mu.prototype.constructor=mu;var gu=new D,_u=new D,vu=new D;function yu(e,t,n){oe.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Mt;r.setAttribute("position",new dt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Xi({fog:!1});this.lightPlane=new to(r,i),this.add(this.lightPlane),(r=new Mt).setAttribute("position",new dt([0,0,0,0,0,1],3)),this.targetLine=new to(r,i),this.add(this.targetLine),this.update()}yu.prototype=Object.create(oe.prototype),yu.prototype.constructor=yu,yu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},yu.prototype.update=function(){gu.setFromMatrixPosition(this.light.matrixWorld),_u.setFromMatrixPosition(this.light.target.matrixWorld),vu.subVectors(_u,gu),this.lightPlane.lookAt(_u),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_u),this.targetLine.scale.z=vu.length()};var bu=new D,wu=new nn;function xu(e){var t=new Mt,n=new Xi({color:16777215,vertexColors:h}),r=[],i=[],o={},a=new Ze(16755200),s=new Ze(16711680),c=new Ze(43775),u=new Ze(16777215),l=new Ze(3355443);function f(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}f("n1","n2",a),f("n2","n4",a),f("n4","n3",a),f("n3","n1",a),f("f1","f2",a),f("f2","f4",a),f("f4","f3",a),f("f3","f1",a),f("n1","f1",a),f("n2","f2",a),f("n3","f3",a),f("n4","f4",a),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",c),f("u2","u3",c),f("u3","u1",c),f("c","t",u),f("p","c",l),f("cn1","cn2",l),f("cn3","cn4",l),f("cf1","cf2",l),f("cf3","cf4",l),t.setAttribute("position",new dt(r,3)),t.setAttribute("color",new dt(i,3)),io.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Eu(e,t,n,r,i,o,a){bu.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var c=n.getAttribute("position"),u=0,l=s.length;u<l;u++)c.setXYZ(s[u],bu.x,bu.y,bu.z)}xu.prototype=Object.create(io.prototype),xu.prototype.constructor=xu,xu.prototype.update=function(){var e=this.geometry,t=this.pointMap;wu.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Eu("c",t,e,wu,0,0,-1),Eu("t",t,e,wu,0,0,1),Eu("n1",t,e,wu,-1,-1,-1),Eu("n2",t,e,wu,1,-1,-1),Eu("n3",t,e,wu,-1,1,-1),Eu("n4",t,e,wu,1,1,-1),Eu("f1",t,e,wu,-1,-1,1),Eu("f2",t,e,wu,1,-1,1),Eu("f3",t,e,wu,-1,1,1),Eu("f4",t,e,wu,1,1,1),Eu("u1",t,e,wu,.7,1.1,-1),Eu("u2",t,e,wu,-.7,1.1,-1),Eu("u3",t,e,wu,0,2,-1),Eu("cf1",t,e,wu,-1,0,1),Eu("cf2",t,e,wu,1,0,1),Eu("cf3",t,e,wu,0,-1,1),Eu("cf4",t,e,wu,0,1,1),Eu("cn1",t,e,wu,-1,0,-1),Eu("cn2",t,e,wu,1,0,-1),Eu("cn3",t,e,wu,0,-1,-1),Eu("cn4",t,e,wu,0,1,-1),e.getAttribute("position").needsUpdate=!0};var Mu=new be;function Su(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Mt;i.setIndex(new ot(n,1)),i.setAttribute("position",new ot(r,3)),io.call(this,i,new Xi({color:t})),this.matrixAutoUpdate=!1,this.update()}function Tu(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Mt;r.setIndex(new ot(n,1)),r.setAttribute("position",new dt([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),io.call(this,r,new Xi({color:t})),this.geometry.computeBoundingSphere()}function ku(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new Mt;i.setAttribute("position",new dt([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),to.call(this,i,new Xi({color:r}));var o=new Mt;o.setAttribute("position",new dt([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Wt(o,new rt({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}Su.prototype=Object.create(io.prototype),Su.prototype.constructor=Su,Su.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Mu.setFromObject(this.object),!Mu.isEmpty()){var t=Mu.min,n=Mu.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Su.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Su.prototype.copy=function(e){return io.prototype.copy.call(this,e),this.object=e.object,this},Su.prototype.clone=function(){return(new this.constructor).copy(this)},Tu.prototype=Object.create(io.prototype),Tu.prototype.constructor=Tu,Tu.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),oe.prototype.updateMatrixWorld.call(this,e))},ku.prototype=Object.create(to.prototype),ku.prototype.constructor=ku,ku.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),oe.prototype.updateMatrixWorld.call(this,e)};var Cu,Ou,Au=new D;function Pu(e,t,n,r,i,o){oe.call(this),void 0===e&&(e=new D(0,0,1)),void 0===t&&(t=new D(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Cu&&((Cu=new Mt).setAttribute("position",new dt([0,0,0,0,1,0],3)),(Ou=new Sa(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new to(Cu,new Xi({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wt(Ou,new rt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Lu(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Mt;n.setAttribute("position",new dt(t,3)),n.setAttribute("color",new dt([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Xi({vertexColors:d});io.call(this,n,r)}Pu.prototype=Object.create(oe.prototype),Pu.prototype.constructor=Pu,Pu.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Au.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Au,t)}},Pu.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Pu.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Pu.prototype.copy=function(e){return oe.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Pu.prototype.clone=function(){return(new this.constructor).copy(this)},Lu.prototype=Object.create(io.prototype),Lu.prototype.constructor=Lu;var Du=Math.pow(2,8),Iu=[.125,.215,.35,.446,.526,.582],Ru=5+Iu.length,Bu=(r={},Object(i.a)(r,3e3,0),Object(i.a)(r,3001,1),Object(i.a)(r,3002,2),Object(i.a)(r,3004,3),Object(i.a)(r,3005,4),Object(i.a)(r,3006,5),Object(i.a)(r,3007,6),r),Nu=new Ks,Uu=function(e){var t=new Float32Array(e),n=new D(0,1,0),r=new La({defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Bu[3e3]},outputEncoding:{value:Bu[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return r.type="SphericalGaussianBlur",r}(20),zu=null,Fu=null,ju=function(){for(var e=[],t=[],n=[],r=8,i=0;i<Ru;i++){var o=Math.pow(2,r);t.push(o);var a=1/o;i>4?a=Iu[i-8+4-1]:0==i&&(a=0),n.push(a);for(var s=1/(o-1),c=-s/2,u=1+s/2,l=[c,c,u,c,u,u,c,c,u,u,c,u],f=new Float32Array(108),h=new Float32Array(72),d=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,g=p>2?0:-1,_=[m,g,0,m+2/3,g,0,m+2/3,g+1,0,m,g,0,m+2/3,g+1,0,m,g+1,0];f.set(_,18*p),h.set(l,12*p);var v=[p,p,p,p,p,p];d.set(v,6*p)}var y=new Mt;y.setAttribute("position",new ot(f,3)),y.setAttribute("uv",new ot(h,2)),y.setAttribute("faceIndex",new ot(d,1)),e.push(y),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),Wu=ju._lodPlanes,Hu=ju._sizeLods,Vu=ju._sigmas,Ku=null,Gu=null,qu=null,Yu=(1+Math.sqrt(5))/2,Xu=1/Yu,Zu=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,Yu,Xu),new D(0,Yu,-Xu),new D(Xu,0,Yu),new D(-Xu,0,Yu),new D(Yu,Xu,0),new D(-Yu,Xu,0)];function Ju(e){Gu=e,tl(Uu)}function $u(e){var t={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:e?e.type:1009,format:e?e.format:1023,encoding:e?e.encoding:3002,depthBuffer:!1,stencilBuffer:!1},n=nl(t);return n.depthBuffer=!e,Ku=nl(t),n}function Qu(e){Ku.dispose(),Gu.setRenderTarget(qu),e.scissorTest=!1,e.setSize(e.width,e.height)}function el(e,t,n,r){var i=new rn(90,1,t,n),o=[1,1,1,1,-1,1],a=[1,1,-1,-1,-1,1],s=Gu.outputEncoding,c=Gu.toneMapping,u=Gu.toneMappingExposure,l=Gu.getClearColor(),f=Gu.getClearAlpha();Gu.toneMapping=1,Gu.toneMappingExposure=1,Gu.outputEncoding=3e3,e.scale.z*=-1;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var d=Math.max(h.r,h.g,h.b),p=Math.min(Math.max(Math.ceil(Math.log2(d)),-128),127);h=h.multiplyScalar(Math.pow(2,-p));var m=(p+128)/255;Gu.setClearColor(h,m),e.background=null}for(var g=0;g<6;g++){var _=g%3;0==_?(i.up.set(0,o[g],0),i.lookAt(a[g],0,0)):1==_?(i.up.set(0,0,o[g]),i.lookAt(0,a[g],0)):(i.up.set(0,o[g],0),i.lookAt(0,0,a[g])),rl(r,_*Du,g>2?Du:0,Du,Du),Gu.setRenderTarget(r),Gu.render(e,i)}Gu.toneMapping=c,Gu.toneMappingExposure=u,Gu.outputEncoding=s,Gu.setClearColor(l,f),e.scale.z*=-1}function tl(e){var t=new ae;t.add(new Wt(Wu[0],e)),Gu.compile(t,Nu)}function nl(e){var t=new C(3*Du,3*Du,e);return t.texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function rl(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function il(e){var t=Gu.autoClear;Gu.autoClear=!1;for(var n=1;n<Ru;n++){ol(e,n-1,n,Math.sqrt(Vu[n]*Vu[n]-Vu[n-1]*Vu[n-1]),Zu[(n-1)%Zu.length])}Gu.autoClear=t}function ol(e,t,n,r,i){al(e,Ku,t,n,r,"latitudinal",i),al(Ku,e,n,n,r,"longitudinal",i)}function al(e,t,n,r,i,o,a){"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var s=new ae;s.add(new Wt(Wu[r],Uu));var c=Uu.uniforms,u=Hu[n]-1,l=isFinite(i)?Math.PI/(2*u):2*Math.PI/39,f=i/l,h=isFinite(i)?1+Math.floor(3*f):20;h>20&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(h," samples when the maximum is set to ").concat(20));for(var d=[],p=0,m=0;m<20;++m){var g=m/f,_=Math.exp(-g*g/2);d.push(_),0==m?p+=_:m<h&&(p+=2*_)}for(m=0;m<d.length;m++)d[m]=d[m]/p;c.envMap.value=e.texture,c.samples.value=h,c.weights.value=d,c.latitudinal.value="latitudinal"===o,a&&(c.poleAxis.value=a),c.dTheta.value=l,c.mipInt.value=8-n,c.inputEncoding.value=Bu[e.texture.encoding],c.outputEncoding.value=Bu[e.texture.encoding];var v=Hu[r];rl(t,g=3*Math.max(0,Du-2*v),(0===r?0:2*Du)+2*v*(r>4?r-8+4:0),3*v,2*v),Gu.setRenderTarget(t),Gu.render(s,Nu)}function sl(){var e=new La({uniforms:{envMap:{value:null},texelSize:{value:new x(1,1)},inputEncoding:{value:Bu[3e3]},outputEncoding:{value:Bu[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return e.type="EquirectangularToCubeUV",e}function cl(){var e=new La({uniforms:{envMap:{value:null},inputEncoding:{value:Bu[3e3]},outputEncoding:{value:Bu[3e3]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:0,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}Ju.prototype={constructor:Ju,fromScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;qu=Gu.getRenderTarget();var i=$u();return el(e,n,r,i),t>0&&ol(i,0,0,t),il(i),Qu(i),i},fromEquirectangular:function(e){return e.magFilter=1003,e.minFilter=1003,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){qu=Gu.getRenderTarget();var t=$u(e);return function(e,t){var n=new ae;e.isCubeTexture?null==Fu&&(Fu=cl()):null==zu&&(zu=sl());var r=e.isCubeTexture?Fu:zu;n.add(new Wt(Wu[0],r));var i=r.uniforms;i.envMap.value=e,e.isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height);i.inputEncoding.value=Bu[e.encoding],i.outputEncoding.value=Bu[e.encoding],rl(t,0,0,3*Du,2*Du),Gu.setRenderTarget(t),Gu.render(n,Nu)}(e,t),il(t),Qu(t),t},compileCubemapShader:function(){null==Fu&&tl(Fu=cl())},compileEquirectangularShader:function(){null==zu&&tl(zu=sl())},dispose:function(){Uu.dispose(),null!=Fu&&Fu.dispose(),null!=zu&&zu.dispose();for(var e=0;e<Wu.length;e++)Wu[e].dispose()}};function ul(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function ll(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Es.call(this,e),this.type="catmullrom"}ms.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ms.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Rs.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Xt,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new D(i.x,i.y,i.z||0))}return t}}),Object.assign(Bs.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(Es.prototype),Object.create(Es.prototype),ll.prototype=Object.create(Es.prototype),Object.assign(ll.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),pu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},cu.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(as.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Js(e)}}),as.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(nc.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign($c.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(be.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),ln.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},tu.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(w,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),w.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),w.ceilPowerOfTwo(e)}}),Object.assign(E.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(j.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new D).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),Re.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},A.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Pe.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Ge.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Ge,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ge.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ge.getNormal(e,t,n,r)}}),Object.assign(Ns.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ca(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ba(this,e)}}),Object.assign(x.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(D.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(k.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Xt.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(oe.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(oe.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Wt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Wt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Ui.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Wi.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),zi.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(ms.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),rn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Us.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ot.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(ot.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Mt.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ot(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Mt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(_i.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(_i.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ua.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Gc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(nt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ze}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Ra.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(tn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(pi.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(pi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:3e3}}}),Object.defineProperties(oi.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(C.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Tc.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new dc).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Lc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},on.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};M.crossOrigin=void 0,M.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ps;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},M.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new ds;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},M.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},M.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"113"}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return r}))},function(module,exports,__webpack_require__){var factory;"undefined"!==typeof self&&self,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.js")}({"./src/bitstrings.js":function srcBitstringsJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBinaryLiteral", function() { return isBinaryLiteral; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compareBits", function() { return compareBits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeBitMaskFromString", function() { return makeBitMaskFromString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeBitMask", function() { return makeBitMask; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "padBitString", function() { return padBitString; });\nfunction isBinaryLiteral(str) {\n  return str[0] === "0" || str[0] === "1"; // Checking first char is enough for now\n}\n\nfunction compareBits(number, bitString, bitOffset) {\n  let shifted = (number >>> bitOffset) & makeBitMask(bitString.length);\n  let mask = makeBitMaskFromString(bitString);\n  return shifted === mask;\n}\n\nfunction makeBitMaskFromString(bitString) {\n  let mask = 0;\n  for (var i = 0; i < bitString.length; i++) {\n    let bit = bitString[i] === "1" ? 1 : 0;\n    mask <<= 1;\n    mask = mask | bit;\n  }\n  return mask;\n}\n\nfunction makeBitMask(len) {\n  if (len <= 0)\n    throw new Error(`makeBitMask cannot make mask of length ${len}`);\n\n  let mask = 1;\n  while (--len) {\n    mask <<= 1;\n    mask = mask | 1;\n  }\n  return mask;\n}\n\nfunction padBitString(str, minLen) {\n  while (str.length < minLen) {\n    str = "0" + str;\n  }\n  return str;\n}\n\n\n//# sourceURL=webpack://MIPSInst/./src/bitstrings.js?')},"./src/immediates.js":function srcImmediatesJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseImmediate", function() { return parseImmediate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatImmediate", function() { return formatImmediate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeInt16", function() { return makeInt16; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getImmFormatDetails", function() { return getImmFormatDetails; });\nfunction parseImmediate(immArr, maxBits, signed, shift) {\n  let [neg, base, num] = immArr;\n  base = base.toLowerCase();\n\n  let value;\n  if (base === "b")\n    value = parseInt(num, 2);\n  else if (base === "o")\n    value = parseInt(num, 8);\n  else if (base === "x")\n    value = parseInt(num, 16);\n  else\n    value = parseInt(num, 10);\n\n  if (isNaN(value)) {\n    return value; // Let the caller decide what to do with NaN.\n  }\n\n  if (shift) {\n    value >>>= shift;\n  }\n\n  if (maxBits === 16) {\n    if (signed) {\n      value = makeInt16(value);\n    }\n  }\n\n  if (neg)\n    value = -value;\n\n  return value;\n}\n\nfunction formatImmediate(value, maxBits) {\n  if (maxBits === 16) {\n    value = (new Uint16Array([value]))[0];\n  }\n\n  return value;\n}\n\nfunction makeInt16(value) {\n  return (new Int16Array([value]))[0];\n}\n\nfunction getImmFormatDetails(formatVal) {\n  // Remove optional indicator\n  if (formatVal[formatVal.length - 1] === "?")\n    formatVal = formatVal.substring(0, formatVal.length - 1);\n\n  if (formatVal.indexOf("int") === -1) {\n    if (formatVal.substr(0, 2) === "cc") {\n      return {\n        signed: false,\n        bits: 4,\n        shift: false,\n      };\n    }\n\n    return null; // Not an immediate\n  }\n\n  let shift = 0;\n  const shiftIndex = formatVal.indexOf("shift");\n  if (shiftIndex > 0)\n    shift = formatVal.substr(shiftIndex).match(/\\d+/g);\n\n  return {\n    signed: formatVal[0] !== "u",\n    bits: parseInt(formatVal.match(/\\d+/g)),\n    shift: shift,\n  };\n}\n\n\n//# sourceURL=webpack://MIPSInst/./src/immediates.js?')},"./src/index.js":function srcIndexJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse */ "./src/parse.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "parse", function() { return _parse__WEBPACK_IMPORTED_MODULE_0__["parse"]; });\n\n/* harmony import */ var _print__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./print */ "./src/print.js");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "print", function() { return _print__WEBPACK_IMPORTED_MODULE_1__["print"]; });\n\n\n\n\n\n\n//# sourceURL=webpack://MIPSInst/./src/index.js?')},"./src/opcodes.js":function srcOpcodesJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOpcodeDetails", function() { return getOpcodeDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getValueBitLength", function() { return getValueBitLength; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "findMatch", function() { return findMatch; });\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regs */ "./src/regs.js");\n/* harmony import */ var _bitstrings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bitstrings */ "./src/bitstrings.js");\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./immediates */ "./src/immediates.js");\n\n\n\n\nconst rs = "rs";\nconst rt = "rt";\nconst rd = "rd";\nconst fs = "fs";\nconst ft = "ft";\nconst fd = "fd";\nconst fr = "fr";\nconst sa = "uint5";\nconst uint5 = "uint5";\nconst uint10 = "uint10";\nconst int16 = "int16";\nconst uint16 = "uint16";\nconst uint20 = "uint20";\nconst uint26 = "uint26";\nconst uint26shift2 = "uint26shift2";\nconst cc = "cc";\nconst cond = "cond";\nconst fmt = "fmt";\nconst fmt3 = "fmt3";\n\nfunction getOpcodeDetails(opcode) {\n  return opcodeDetails[opcode.toLowerCase()];\n}\n\nconst _valueBitLengths = new Map();\n\nfunction getValueBitLength(str) {\n  if (_valueBitLengths.has(str)) {\n    return _valueBitLengths.get(str);\n  }\n\n  const calculated = computeValueBitLength(str);\n  _valueBitLengths.set(str, calculated);\n  return calculated;\n}\n\nfunction computeValueBitLength(str) {\n  if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["isBinaryLiteral"])(str))\n    return str.length;\n\n  str = str.replace("?", "");\n  switch (str) {\n    case "cc":\n    case "fmt3":\n      return 3;\n\n    case "cond":\n      return 4;\n\n    case "rs":\n    case "rt":\n    case "rd":\n    case "fs":\n    case "ft":\n    case "fd":\n    case "fr":\n    case "sa":\n    case "fmt":\n      return 5;\n  }\n\n  const immDetails = Object(_immediates__WEBPACK_IMPORTED_MODULE_2__["getImmFormatDetails"])(str);\n  if (immDetails) {\n    return immDetails.bits;\n  }\n\n  throw new Error(`Unrecongized format value: ${str}`);\n}\n\n// returns name\nfunction findMatch(inst) {\n  let bestMatch = "";\n  let bestMatchScore = 0;\n  for (let opName in opcodeDetails) {\n    const format = opcodeDetails[opName].format;\n    const fmts = opcodeDetails[opName].fmts;\n    const score = formatMatches(inst, format, fmts);\n    if (score > bestMatchScore) {\n      bestMatch = opName;\n      bestMatchScore = score;\n    }\n  }\n\n  return bestMatch;\n}\n\n// Returns number of literal bits matched, if the overall format matches.\nfunction formatMatches(number, format, fmts) {\n  let score = 0;\n  let tempScore;\n  let bitOffset = 0;\n  for (let i = format.length - 1; i >= 0; i--) {\n    let bitLength;\n    let piece = format[i];\n    if (Array.isArray(piece)) {\n      let matchedOne = false;\n      for (let j = 0; j < piece.length; j++) {\n        tempScore = checkPiece(piece[j], number, bitOffset, fmts);\n        if (tempScore >= 0) {\n          matchedOne = true;\n          score += tempScore;\n          bitLength = getValueBitLength(piece[j]);\n          break; // j\n        }\n      }\n      if (!matchedOne)\n        return 0;\n    }\n    else {\n      tempScore = checkPiece(piece, number, bitOffset, fmts);\n      if (tempScore >= 0) {\n        score += tempScore;\n        bitLength = getValueBitLength(piece);\n      }\n      else {\n        return 0;\n      }\n    }\n\n    bitOffset += bitLength;\n  }\n\n  return score;\n}\n\nfunction checkPiece(piece, number, bitOffset, fmts) {\n  if (!Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["isBinaryLiteral"])(piece)) {\n    if (piece === fmt) {\n      for (let i = 0; i < fmts.length; i++) {\n        let fmtBitString = Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["padBitString"])(Object(_regs__WEBPACK_IMPORTED_MODULE_0__["getFmtBits"])(fmts[i]).toString(2), 5);\n        if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["compareBits"])(number, fmtBitString, bitOffset))\n          return fmtBitString.length;\n      }\n      return -1;\n    }\n\n    if (piece === fmt3) {\n      for (let i = 0; i < fmts.length; i++) {\n        let fmtBitString = Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["padBitString"])(Object(_regs__WEBPACK_IMPORTED_MODULE_0__["getFmt3Bits"])(fmts[i]).toString(2), 3);\n        if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["compareBits"])(number, fmtBitString, bitOffset))\n          return fmtBitString.length;\n      }\n      return -1;\n    }\n\n    return 0; // non-literal contributes nothing\n  }\n\n  if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__["compareBits"])(number, piece, bitOffset))\n    return piece.length;\n\n  return -1;\n}\n\nconst opcodeDetails = {\n  "abs.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "000101"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  add: {\n    format: ["000000", rs, rt, rd, "00000100000"],\n    display: [rd, rs, rt],\n  },\n  "add.fmt": {\n    format: ["010001", fmt, ft, fs, fd, "000000"],\n    fmts: ["S", "D"],\n    display: [fd, fs, ft],\n  },\n  addi: {\n    format: ["001000", rs, rt, int16],\n    display: [rt, rs, int16],\n  },\n  addiu: {\n    format: ["001001", rs, rt, uint16],\n    display: [rt, rs, uint16],\n  },\n  addu: {\n    format: ["000000", rs, rt, rd, "00000100001"],\n    display: [rd, rs, rt],\n  },\n  and: {\n    format: ["000000", rs, rt, rd, "00000100100"],\n    display: [rd, rs, rt],\n  },\n  andi: {\n    format: ["001100", rs, rt, uint16],\n    display: [rt, rs, uint16],\n  },\n  bc1f: {\n    format: ["010001", "01000", [cc, "000"], "00", int16], // TODO shifting?\n    display: ["cc?", int16], // offset\n  },\n  bc1fl: {\n    format: ["010001", "01000", [cc, "000"], "10", int16],\n    display: ["cc?", int16], // offset\n  },\n  bc1t: {\n    format: ["010001", "01000", [cc, "000"], "01", int16],\n    display: ["cc?", int16], // offset\n  },\n  bc1tl: {\n    format: ["010001", "01000", [cc, "000"], "11", int16],\n    display: ["cc?", int16], // offset\n  },\n  beq: {\n    format: ["000100", rs, rt, uint16],\n    display: [rs, rt, uint16], // offset\n  },\n  beql: {\n    format: ["010100", rs, rt, uint16],\n    display: [rs, rt, uint16], // offset\n  },\n  bgez: {\n    format: ["000001", rs, "00001", uint16],\n    display: [rs, uint16], // offset\n  },\n  bgezal: {\n    format: ["000001", rs, "10001", uint16],\n    display: [rs, uint16], // offset\n  },\n  bgezall: {\n    format: ["000001", rs, "10011", uint16],\n    display: [rs, uint16], // offset\n  },\n  bgezl: {\n    format: ["000001", rs, "00011", uint16],\n    display: [rs, uint16], // offset\n  },\n  bgtz: {\n    format: ["000111", rs, "00000", uint16],\n    display: [rs, uint16], // offset\n  },\n  bgtzl: {\n    format: ["010111", rs, "00000", uint16],\n    display: [rs, uint16], // offset\n  },\n  blez: {\n    format: ["000110", rs, "00000", uint16],\n    display: [rs, uint16], // offset\n  },\n  blezl: {\n    format: ["010110", rs, "00000", uint16],\n    display: [rs, uint16], // offset\n  },\n  bltz: {\n    format: ["000001", rs, "00000", uint16],\n    display: [rs, uint16], // offset\n  },\n  bltzal: {\n    format: ["000001", rs, "10000", uint16],\n    display: [rs, uint16], // offset\n  },\n  bltzall: {\n    format: ["000001", rs, "10010", uint16],\n    display: [rs, uint16], // offset\n  },\n  bltzl: {\n    format: ["000001", rs, "00010", uint16],\n    display: [rs, uint16], // offset\n  },\n  bne: {\n    format: ["000101", rs, rt, uint16],\n    display: [rs, rt, uint16], // offset\n  },\n  bnel: {\n    format: ["010101", rs, rt, uint16],\n    display: [rs, rt, uint16], // offset\n  },\n  break: {\n    format: ["000000", [uint20, "00000000000000000000"], "001101"],\n    display: ["uint20?"],\n  },\n  "c.cond.fmt": {\n    format: ["010001", fmt, ft, fs, [cc, "000"], "00", "11", cond],\n    fmts: ["S", "D"],\n    display: ["cc?", fs, ft],\n  },\n  "ceil.l.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001010"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "ceil.w.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001110"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  cfc1: {\n    format: ["010001", "00010", rt, fs, "00000000000"],\n    display: [rt, fs],\n  },\n  ctc1: {\n    format: ["010001", "00110", rt, fs, "00000000000"],\n    display: [rt, fs],\n  },\n  cop0: {\n    format: ["010000", uint26],\n    display: [uint26], // cop_fun\n  },\n  cop1: {\n    format: ["010001", uint26],\n    display: [uint26], // cop_fun\n  },\n  cop2: {\n    format: ["010010", uint26],\n    display: [uint26], // cop_fun\n  },\n  cop3: {\n    format: ["010011", uint26],\n    display: [uint26], // cop_fun\n  },\n  "cvt.d.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "100001"],\n    fmts: ["S", "W", "L"],\n    display: [fd, fs],\n  },\n  "cvt.l.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "100101"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "cvt.s.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "100000"],\n    fmts: ["D", "W", "L"],\n    display: [fd, fs],\n  },\n  "cvt.w.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "100100"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  dadd: {\n    format: ["000000", rs, rt, rd, "00000101100"],\n    display: [rd, rs, rt],\n  },\n  daddi: {\n    format: ["011000", rs, rt, int16],\n    display: [rt, rs, int16],\n  },\n  daddiu: {\n    format: ["011001", rs, rt, uint16],\n    display: [rt, rs, uint16],\n  },\n  daddu: {\n    format: ["000000", rs, rt, rd, "00000101101"],\n    display: [rd, rs, rt],\n  },\n  ddiv: {\n    format: ["000000", rs, rt, "0000000000011110"],\n    display: [rs, rt],\n  },\n  ddivu: {\n    format: ["000000", rs, rt, "0000000000011111"],\n    display: [rs, rt],\n  },\n  div: {\n    format: ["000000", rs, rt, "0000000000011010"],\n    display: [rs, rt],\n  },\n  "div.fmt": {\n    format: ["010001", fmt, ft, fs, fd, "000011"],\n    fmts: ["S", "D"],\n    display: [fd, fs, ft],\n  },\n  divu: {\n    format: ["000000", rs, rt, "0000000000011011"],\n    display: [rs, rt],\n  },\n  dmfc1: {\n    format: ["010001", "00001", rt, fs, "00000000000"],\n    display: [rt, fs],\n  },\n  dmult: {\n    format: ["000000", rs, rt, "0000000000011100"],\n    display: [rs, rt],\n  },\n  dmultu: {\n    format: ["000000", rs, rt, "0000000000011101"],\n    display: [rs, rt],\n  },\n  dmtc1: {\n    format: ["010001", "00101", rt, fs, "00000000000"],\n    display: [rt, fs],\n  },\n  dsll: {\n    format: ["00000000000", rt, rd, sa, "111000"],\n    display: [rd, rt, sa],\n  },\n  dsll32: {\n    format: ["00000000000", rt, rd, sa, "111100"],\n    display: [rd, rt, sa],\n  },\n  dsllv: {\n    format: ["000000", rs, rt, rd, "00000010100"],\n    display: [rd, rt, rs],\n  },\n  dsra: {\n    format: ["00000000000", rt, rd, sa, "111011"],\n    display: [rd, rt, sa],\n  },\n  dsra32: {\n    format: ["00000000000", rt, rd, sa, "111111"],\n    display: [rd, rt, sa],\n  },\n  dsrav: {\n    format: ["000000", rs, rt, rd, "00000010111"],\n    display: [rd, rt, rs],\n  },\n  dsrl: {\n    format: ["00000000000", rt, rd, sa, "111010"],\n    display: [rd, rt, sa],\n  },\n  dsrl32: {\n    format: ["00000000000", rt, rd, sa, "111110"],\n    display: [rd, rt, sa],\n  },\n  dsrlv: {\n    format: ["000000", rs, rt, rd, "00000010110"],\n    display: [rd, rt, rs],\n  },\n  dsub: {\n    format: ["000000", rs, rt, rd, "00000101110"],\n    display: [rd, rs, rt],\n  },\n  dsubu: {\n    format: ["000000", rs, rt, rd, "00000101111"],\n    display: [rd, rs, rt],\n  },\n  "floor.l.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001011"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "floor.w.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001111"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  j: {\n    format: ["000010", uint26shift2],\n    display: [uint26shift2],\n  },\n  jal: {\n    format: ["000011", uint26shift2],\n    display: [uint26shift2],\n  },\n  jalr: {\n    format: ["000000", rs, "00000", [rd, "11111"], "00000", "001001"],\n    display: ["rd?", rs],\n  },\n  jr: {\n    format: ["000000", rs, "000000000000000", "001000"],\n    display: [rs],\n  },\n  lb: {\n    format: ["100000", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lbu: {\n    format: ["100100", rs, rt, uint16],\n    display: [rt, uint16, "(", rs, ")"], // offset\n  },\n  ld: {\n    format: ["110111", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  ldc1: {\n    format: ["110101", rs, ft, int16],\n    display: [ft, int16, "(", rs, ")"], // offset\n  },\n  ldc2: {\n    format: ["110110", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  ldl: {\n    format: ["011010", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  ldr: {\n    format: ["011011", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  ldxc1: {\n    format: ["010011", rs, rt, "00000", fd, "000001"],\n    display: [fd, rt, "(", rs, ")"], // offset\n  },\n  lh: {\n    format: ["100001", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lhu: {\n    format: ["100101", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  ll: {\n    format: ["110000", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lld: {\n    format: ["110100", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lui: {\n    format: ["001111", "00000", rt, uint16],\n    display: [rt, uint16],\n  },\n  lw: {\n    format: ["100011", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lwc1: {\n    format: ["110001", rs, ft, int16],\n    display: [ft, int16, "(", rs, ")"], // offset\n  },\n  lwc2: {\n    format: ["110010", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lwc3: {\n    format: ["110011" ,rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lwl: {\n    format: ["100010", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lwr: {\n    format: ["100110", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lwu: {\n    format: ["100111", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  lwxc1: {\n    format: ["010011", rs, rt, "00000", fd, "000000"],\n    display: [fd, rt, "(", rs, ")"],\n  },\n  "madd.fmt": {\n    format: ["010011", fr, ft, fs, fd, "100", fmt3],\n    fmts: ["S", "D"],\n    display: [fd, fr, fs, ft],\n  },\n  mfc1: {\n    format: ["010001", "00000", rt, fs, "00000000000"],\n    display: [rt, fs],\n  },\n  mfhi: {\n    format: ["000000", "0000000000", rd, "00000", "010000"],\n    display: [rd],\n  },\n  mflo: {\n    format: ["000000", "0000000000", rd, "00000", "010010"],\n    display: [rd],\n  },\n  "mov.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "000110"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  movf: {\n    format: ["000000", rs, cc, "00", rd, "00000", "000001"],\n    display: [rd, rs, cc],\n  },\n  "movf.fmt": {\n    format: ["010001", fmt, cc, "00", fs, fd, "010001"],\n    fmts: ["S", "D"],\n    display: [fd, fs, cc],\n  },\n  movn: {\n    format: ["000000", rs, rt, rd, "00000", "001011"],\n    display: [rd, rs, rt],\n  },\n  "movn.fmt": {\n    format: ["010001", fmt, rt, fs, fd, "010011"],\n    fmts: ["S", "D"],\n    display: [fd, fs, rt],\n  },\n  movt: {\n    format: ["000000", rs, cc, "01", rd, "00000", "000001"],\n    display: [rd, rs, cc],\n  },\n  "movt.fmt": {\n    format: ["010001", fmt, cc, "01", fs, fd, "010001"],\n    fmts: ["S", "D"],\n    display: [fd, fs, cc],\n  },\n  movz: {\n    format: ["000000", rs, rt, rd, "00000", "001010"],\n    display: [rd, rs, rt],\n  },\n  "movz.fmt": {\n    format: ["010001", fmt, rt, fs, fd, "010010"],\n    fmts: ["S", "D"],\n    display: [fd, fs, rt],\n  },\n  "msub.fmt": {\n    format: ["010011", fr, ft, fs, fd, "101", fmt3],\n    fmts: ["S", "D"],\n    display: [fd, fr, fs, ft],\n  },\n  mtc1: {\n    format: ["010001", "00100", rt, fs, "00000000000"],\n    display: [rt, fs],\n  },\n  mthi: {\n    format: ["000000", rs, "000000000000000", "010001"],\n    display: [rs],\n  },\n  mtlo: {\n    format: ["000000", rs, "000000000000000", "010011"],\n    display: [rs],\n  },\n  "mul.fmt": {\n    format: ["010001", fmt, ft, fs, fd, "000010"],\n    fmts: ["S", "D"],\n    display: [fd, fs, ft],\n  },\n  mult: {\n    format: ["000000", rs, rt, "0000000000", "011000"],\n    display: [rs, rt],\n  },\n  multu: {\n    format: ["000000", rs, rt, "0000000000", "011001"],\n    display: [rs, rt],\n  },\n  "neg.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "000111"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "nmadd.fmt": {\n    format: ["010011", fr, ft, fs, fd, "110", fmt3],\n    fmts: ["S", "D"],\n    display: [fd, fr, fs, ft],\n  },\n  "nmsub.fmt": {\n    format: ["010011", fr, ft, fs, fd, "111", fmt3],\n    fmts: ["S", "D"],\n    display: [fd, fr, fs, ft],\n  },\n  nop: {\n    format: ["00000000000000000000000000000000"],\n    display: [],\n  },\n  nor: {\n    format: ["000000", rs, rt, rd, "00000", "100111"],\n    display: [rd, rs, rt],\n  },\n  or: {\n    format: ["000000", rs, rt, rd, "00000", "100101"],\n    display: [rd, rs, rt],\n  },\n  ori: {\n    format: ["001101", rs, rt, uint16],\n    display: [rt, rs, uint16],\n  },\n  pref: {\n    format: ["110011", rs, uint5, int16],\n    display: [uint5, int16, "(", rs, ")"], // hint, offset, base\n  },\n  prefx: {\n    format: ["010011", rs, rt, uint5, "00000", "001111"],\n    display: [uint5, rt, "(", rs, ")"], // hint, index, base\n  },\n  "recip.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "010101"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "round.l.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001000"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "round.w.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001100"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "rsqrt.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "010110"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  sb: {\n    format: ["101000", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sc: {\n    format: ["111000", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  scd: {\n    format: ["111100", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sd: {\n    format: ["111111", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sdc1: {\n    format: ["111101", rs, ft, int16],\n    display: [ft, int16, "(", rs, ")"], // offset\n  },\n  sdc2: {\n    format: ["111110", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sdl: {\n    format: ["101100", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sdr: {\n    format: ["101101", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sdxc1: {\n    format: ["010011", rs, uint5, fs, "00000", "001001"],\n    display: [fs, uint5, "(", rs, ")"],\n  },\n  sh: {\n    format: ["101001", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"], // offset\n  },\n  sll: {\n    format: ["000000", "00000", rt, rd, sa, "000000"],\n    display: [rd, rt, sa],\n  },\n  sllv: {\n    format: ["000000", rs, rt, rd, "00000", "000100"],\n    display: [rd, rt, rs],\n  },\n  slt: {\n    format: ["000000", rs, rt, rd, "00000", "101010"],\n    display: [rd, rs, rt],\n  },\n  slti: {\n    format: ["001010", rs, rt, int16],\n    display: [rt, rs, int16],\n  },\n  sltiu: {\n    format: ["001011", rs, rt, uint16],\n    display: [rt, rs, uint16],\n  },\n  sltu: {\n    format: ["000000", rs, rt, rd, "00000", "101011"],\n    display: [rd, rs, rt],\n  },\n  "sqrt.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "000100"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  sra: {\n    format: ["000000", "00000", rt, rd, sa, "000011"],\n    display: [rd, rt, sa],\n  },\n  srav: {\n    format: ["000000", rs, rt, rd, "00000", "000111"],\n    display: [rd, rt, rs],\n  },\n  srl: {\n    format: ["000000", "00000", rt, rd, sa, "000010"],\n    display: [rd, rt, sa],\n  },\n  srlv: {\n    format: ["000000", rs, rt, rd, "00000", "000110"],\n    display: [rd, rt, rs],\n  },\n  sub: {\n    format: ["000000", rs, rt, rd, "00000", "100010"],\n    display: [rd, rs, rt],\n  },\n  "sub.fmt": {\n    format: ["010001", fmt, ft, fs, fd, "000001"],\n    fmts: ["S", "D"],\n    display: [fd, fs, ft],\n  },\n  subu: {\n    format: ["000000", rs, rt, rd, "00000", "100011"],\n    display: [rd, rs, rt],\n  },\n  sw: {\n    format: ["101011", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"],\n  },\n  swc1: {\n    format: ["111001", rs, ft, int16],\n    display: [ft, int16, "(", rs, ")"],\n  },\n  swc2: {\n    format: ["111010", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"],\n  },\n  swc3: {\n    format: ["111011", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"],\n  },\n  swl: {\n    format: ["101010", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"],\n  },\n  swr: {\n    format: ["101110", rs, rt, int16],\n    display: [rt, int16, "(", rs, ")"],\n  },\n  swxc1: {\n    format: ["010011", rs, uint5, fs, "00000", "001000"],\n    display: [fs, uint5, "(", rs, ")"],\n  },\n  sync: {\n    format: ["000000", "000000000000000", "00000", "001111"],\n    display: [],\n  },\n  syscall: {\n    format: ["000000", [uint20, "00000000000000000000"], "001100"],\n    display: [],\n  },\n  teq: {\n    format: ["000000", rs, rt, uint10, "110100"],\n    display: [rs, rt],\n  },\n  teqi: {\n    format: ["000001", rs, "01100", int16],\n    display: [rs, int16],\n  },\n  tge: {\n    format: ["000000", rs, rt, uint10, "110000"],\n    display: [rs, rt],\n  },\n  tgei: {\n    format: ["000001", rs, "01000", int16],\n    display: [rs, int16],\n  },\n  tgeiu: {\n    format: ["000001", rs, "01001", uint16],\n    display: [rs, uint16],\n  },\n  tgeu: {\n    format: ["000000", rs, rt, uint10, "110001"],\n    display: [rs, rt],\n  },\n  tlt: {\n    format: ["000000", rs, rt, uint10, "110010"],\n    display: [rs, rt],\n  },\n  tlti: {\n    format: ["000001", rs, "01010", int16],\n    display: [rs, int16],\n  },\n  tltiu: {\n    format: ["000001", rs, "01011", uint16],\n    display: [rs, uint16],\n  },\n  tltu: {\n    format: ["000000", rs, rt, uint10, "110011"],\n    display: [rs, rt],\n  },\n  tne: {\n    format: ["000000", rs, rt, uint10, "110110"],\n    display: [rs, rt],\n  },\n  tnei: {\n    format: ["000001", rs, "01110", int16],\n    display: [rs, int16],\n  },\n  "trunc.l.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001001"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  "trunc.w.fmt": {\n    format: ["010001", fmt, "00000", fs, fd, "001101"],\n    fmts: ["S", "D"],\n    display: [fd, fs],\n  },\n  xor: {\n    format: ["000000", rs, rt, rd, "00000", "100110"],\n    display: [rd, rs, rt],\n  },\n  xori: {\n    format: ["001110", rs, rt, uint16],\n    display: [rt, rs, uint16],\n  },\n};\n\n\n//# sourceURL=webpack://MIPSInst/./src/opcodes.js?')},"./src/parse.js":function srcParseJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parse", function() { return parse; });\n/* harmony import */ var _opcodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./opcodes */ "./src/opcodes.js");\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./immediates */ "./src/immediates.js");\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./regs */ "./src/regs.js");\n/* harmony import */ var _regex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./regex */ "./src/regex.js");\n/* harmony import */ var _bitstrings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bitstrings */ "./src/bitstrings.js");\n\n\n\n\n\n\n/**\n * Parses a string MIPS instruction, returning numeric machine code.\n *\n * With the `intermediate` option, this can also be used as a convenient base\n * for an assembler. The object output with `intermediate` can be manipulated\n * prior to calling `parse` with it again.\n * @param {String|Array|Object} value MIPS instruction, or intermediate object format.\n * @param {Object} opts Behavior options\n * @param {Boolean} opts.intermediate: Output an object intermediate format instead of a number\n * @returns {Number|Array|Object} Returns a numeric representation of the given\n * MIPS instruction string.\n * If multiple values are given (array) then multiple values are returned.\n * When the `intermediate` option is passed, the return type is an object.\n */\nfunction parse(value, opts) {\n  opts = _getFinalOpts(opts);\n\n  if (Array.isArray(value)) {\n    return value.map(s => _parse(s, opts));\n  }\n  if (typeof value === "object") {\n    return _parse(value, opts);\n  }\n  if (typeof value === "string") {\n    const values = value.split(/\\r?\\n/).filter(v => !!(v.trim()));\n    if (values.length === 1)\n      return _parse(values[0], opts);\n    else\n      return values.map(s => _parse(s, opts));\n  }\n\n  throw new Error("Unexpected input to parse. Pass a string or array of strings.");\n}\n\nfunction _getFinalOpts(givenOpts) {\n  return Object.assign({\n    intermediate: false,\n  }, givenOpts);\n}\n\nfunction _parse(value, opts) {\n  let opcode, opcodeObj, values;\n  if (typeof value === "string") {\n    opcode = _regex__WEBPACK_IMPORTED_MODULE_3__["getOpcode"](value);\n    if (!opcode)\n      throw new Error(`Could not parse opcode from ${value}`);\n\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getOpcodeDetails"])(opcode);\n    if (!opcodeObj)\n      throw new Error(`Opcode ${opcode} was not recognized`);\n\n    values = _parseValues(opcode, opcodeObj, value);\n  }\n  else if (typeof value === "object") {\n    opcode = _regex__WEBPACK_IMPORTED_MODULE_3__["getOpcode"](value.op);\n    if (!opcode)\n      throw new Error("Object input to parse did not contain \'op\'");\n\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getOpcodeDetails"])(opcode);\n    if (!opcodeObj)\n      throw new Error(`Opcode ${opcode} was not recognized`);\n\n    values = value;\n  }\n\n  if (opts.intermediate)\n    return values;\n\n  return bitsFromFormat(opcodeObj.format, values);\n}\n\nfunction _parseValues(opcode, opcodeObj, value) {\n  let regex = _regex__WEBPACK_IMPORTED_MODULE_3__["makeRegexForOpcode"](opcode, opcodeObj);\n  let match = regex.exec(value);\n  if (!match)\n    throw new Error(`Could not parse instruction: ${value}`);\n\n  let values = {\n    op: opcode\n  };\n\n  if (opcode.indexOf(".fmt") !== -1 || opcode.indexOf(".cond") !== -1) {\n    determineOpcodeValues(match[1], opcode, opcodeObj.fmts, opcodeObj.format, values);\n  }\n\n  const display = opcodeObj.display;\n  let matchIndex = 2; // 0 is whole match, 1 is opcode - skip both\n  for (let i = 0; i < display.length; i++, matchIndex++) {\n    const parsedVal = match[matchIndex];\n    let displayEntry = display[i];\n\n    const optional = displayEntry.endsWith("?");\n    if (optional) {\n      displayEntry = displayEntry.replace("?", "");\n    }\n\n    switch (displayEntry) {\n      case "(":\n      case ")":\n        matchIndex--; // Eh\n        continue;\n\n      case "rs":\n      case "rd":\n      case "rt": {\n        const tryReg = Object(_regs__WEBPACK_IMPORTED_MODULE_2__["getRegBits"])(parsedVal);\n        if (tryReg === undefined) {\n          if (optional)\n            continue;\n\n          throw new Error(`Unrecognized ${displayEntry} register ${parsedVal}`);\n        }\n        values[displayEntry] = tryReg;\n        continue;\n      }\n\n      case "fs":\n      case "ft":\n      case "fd":\n      case "fr":\n        values[displayEntry] = parseInt(parsedVal);\n        if (isNaN(values[displayEntry]))\n          throw new Error(`Unrecognized ${displayEntry} register ${parsedVal}`);\n        continue;\n    }\n\n    const immDetails = Object(_immediates__WEBPACK_IMPORTED_MODULE_1__["getImmFormatDetails"])(displayEntry);\n    if (immDetails) {\n      let value;\n      const immPieces = [match[matchIndex], match[matchIndex + 1], match[matchIndex + 2]];\n\n      if (!optional || immPieces[2]) {\n        value = Object(_immediates__WEBPACK_IMPORTED_MODULE_1__["parseImmediate"])(immPieces, immDetails.bits, immDetails.signed, immDetails.shift);\n        if (isNaN(value)) {\n          throw new Error(`Could not parse immediate ${immPieces.join("")}`);\n        }\n        values[displayEntry] = value;\n      }\n\n      matchIndex += 2;\n\n      continue;\n    }\n\n    throw new Error(`Unrecognized opcode display entry ${displayEntry}`);\n  }\n\n  return values;\n}\n\nfunction bitsFromFormat(format, values) {\n  let output = 0;\n  let bitOffset = 0;\n  for (let i = 0; i < format.length; i++) {\n    let writeResult;\n    let piece = format[i];\n    let bitLength = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getValueBitLength"])(Array.isArray(piece) ? piece[0] : piece);\n    output = (output << bitLength) >>> 0;\n    if (Array.isArray(piece)) {\n      for (let j = 0; j < piece.length; j++) {\n        writeResult = writeBitsForPiece(piece[j], output, values);\n        if (writeResult.wrote) {\n          output = writeResult.output;\n          break; // j\n        }\n      }\n    }\n    else {\n      writeResult = writeBitsForPiece(piece, output, values);\n      if (writeResult.wrote) {\n        output = writeResult.output;\n      }\n    }\n\n    bitOffset += bitLength;\n  }\n\n  if (bitOffset != 32)\n    throw new Error("Incorrect number of bits written for format " + format);\n\n  return output;\n}\n\nfunction writeBitsForPiece(piece, output, values) {\n  let wrote = false;\n  if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_4__["isBinaryLiteral"])(piece)) {\n    output |= Object(_bitstrings__WEBPACK_IMPORTED_MODULE_4__["makeBitMaskFromString"])(piece);\n    wrote = true;\n  }\n  else if (values[piece] !== undefined) {\n    let value = values[piece] & Object(_bitstrings__WEBPACK_IMPORTED_MODULE_4__["makeBitMask"])(Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getValueBitLength"])(piece));\n    wrote = true;\n    output |= value;\n  }\n\n  return {\n    wrote: wrote,\n    output: output >>> 0,\n  };\n}\n\nfunction determineOpcodeValues(givenOpcode, genericOpcode, allowedFormats, format, values) {\n  const givenPieces = givenOpcode.split(".");\n  const genericPieces = genericOpcode.split(".");\n  if (givenPieces.length !== genericPieces.length)\n    throw new Error(`Given opcode ${givenOpcode} does not have all pieces (${genericOpcode})`);\n\n  for (let i = 0; i < genericPieces.length; i++) {\n    const genericPiece = genericPieces[i];\n\n    if (genericPiece === "fmt" || genericPiece === "ftm3") {\n      if (allowedFormats.indexOf(givenPieces[i].toUpperCase()) === -1)\n        throw new Error(`Format ${givenPieces[i]} is not allowed for ${genericPiece}. Allowed values are ${allowedFormats}`);\n\n      if (genericPiece === "fmt")\n        values["fmt"] = Object(_regs__WEBPACK_IMPORTED_MODULE_2__["getFmtBits"])(givenPieces[i]);\n      else if (genericPiece === "fmt3")\n        values["fmt3"] = Object(_regs__WEBPACK_IMPORTED_MODULE_2__["getFmt3Bits"])(givenPieces[i]);\n    }\n\n    if (genericPiece === "cond")\n      values["cond"] = Object(_regs__WEBPACK_IMPORTED_MODULE_2__["getCondBits"])(givenPieces[i]);\n  }\n}\n\n\n//# sourceURL=webpack://MIPSInst/./src/parse.js?')},"./src/print.js":function srcPrintJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "print", function() { return print; });\n/* harmony import */ var _opcodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./opcodes */ "./src/opcodes.js");\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./regs */ "./src/regs.js");\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./immediates */ "./src/immediates.js");\n/* harmony import */ var _bitstrings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bitstrings */ "./src/bitstrings.js");\n\n\n\n\n\n/**\n * Prints a string representation of a MIPS instruction.\n *\n * With the `intermediate` option, this can also be used as a convenient base\n * for a disassembler. The object output with `intermediate` can be manipulated\n * prior to calling `print` with it again.\n * @param {Number|Array|ArrayBuffer|DataView|Object} inst MIPS instruction, or intermediate object format.\n * @param {Object} opts Behavior options\n * @param {String} opts.casing "toUpperCase" (default), "toLowerCase"\n * @param {Boolean} opts.commas True to separate values by commas\n * @param {Boolean} opts.include$ True to prefix registers with dollar sign\n * @param {Boolean} opts.intermediate: Output an object intermediate format instead of a string\n * @param {Number} opts.numBase Number format. 16 (hex, default), 10 (decimal)\n * @returns {String|Array|Object} Returns a string representation of the given\n * MIPS instruction code(s).\n * If multiple values are given (array) then multiple values are returned.\n * When the `intermediate` option is passed, the return type is an object.\n */\nfunction print(inst, opts) {\n  opts = _getFinalOpts(opts);\n\n  if (Array.isArray(inst))\n    return inst.map(i => _print(i, opts));\n\n  const isArrayBuffer = inst instanceof ArrayBuffer;\n  if (isArrayBuffer || inst instanceof DataView) {\n    const dataView = isArrayBuffer ? new DataView(inst) : inst;\n    const result = [];\n    for (let i = 0; i < dataView.byteLength; i += 4) {\n      result.push(_print(dataView.getUint32(i), opts));\n    }\n    return result;\n  }\n\n  const inputType = typeof inst;\n  if (inputType === "number" || inputType === "object")\n    return _print(inst, opts);\n\n  throw new Error("Unexpected input to print.");\n}\n\nfunction _getFinalOpts(givenOpts) {\n  return Object.assign({\n    casing: "toUpperCase",\n    commas: false,\n    include$: false,\n    intermediate: false,\n    numBase: 16\n  }, givenOpts);\n}\n\nfunction _print(inst, opts) {\n  let opcodeObj, opName, values;\n  if (typeof inst === "number") {\n    opName = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["findMatch"])(inst);\n    if (!opName)\n      throw new Error("Unrecognized instruction");\n\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getOpcodeDetails"])(opName);\n\n    values = _extractValues(inst, opcodeObj.format);\n    values.op = opName;\n  }\n  else if (typeof inst === "object") {\n    if (!inst.op)\n      throw new Error("Instruction object did not contain op");\n\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getOpcodeDetails"])(inst.op);\n\n    values = inst;\n  }\n  else\n    throw new Error(`Unexpected value ${inst}`);\n\n  if (!opcodeObj)\n    throw new Error("Invalid opcode");\n\n  if (opts.intermediate)\n    return values;\n\n  return _printValues(values, opcodeObj, opts);\n}\n\nfunction _printValues(values, opcodeObj, opts) {\n  let result = _formatOpcode(values, opts);\n\n  function _getRegName(displayEntry) {\n    switch (displayEntry) {\n      case "rs":\n      case "rt":\n      case "rd":\n        return Object(_regs__WEBPACK_IMPORTED_MODULE_1__["getRegName"])(values[displayEntry]);\n\n      case "fs":\n      case "ft":\n      case "fd":\n        return Object(_regs__WEBPACK_IMPORTED_MODULE_1__["getFloatRegName"])(values[displayEntry]);\n    }\n  }\n\n  const display = opcodeObj.display;\n  for (let i = 0; i < display.length; i++) {\n    let displayEntry = display[i];\n\n    if (displayEntry.endsWith("?")) {\n      displayEntry = displayEntry.replace("?", "");\n      if (values[displayEntry] === undefined)\n        continue; // Optional value, not set.\n    }\n\n    let value = values[displayEntry];\n    if (value === undefined && displayEntry !== "(" && displayEntry !== ")") {\n      throw new Error(`Expected ${displayEntry} value, got undefined`);\n    }\n\n    let addComma = opts.commas;\n\n    switch (displayEntry) {\n      case "rs":\n      case "rt":\n      case "rd":\n      case "fs":\n      case "ft":\n      case "fd":\n        if (!result.endsWith("("))\n          result += " ";\n        result += _formatReg(_getRegName(displayEntry), opts);\n        break;\n\n      case "(":\n      case ")":\n        addComma = false;\n        if (result.endsWith(","))\n          result = result.slice(0, -1); // Lop off comma, since we are involved in a parenthesis open/close\n\n        result += displayEntry;\n        break;\n    }\n\n    const immDetails = Object(_immediates__WEBPACK_IMPORTED_MODULE_2__["getImmFormatDetails"])(displayEntry);\n    if (immDetails) {\n      if (!result.endsWith("("))\n        result += " ";\n\n      if (immDetails.signed && immDetails.bits === 16) {\n        value = Object(_immediates__WEBPACK_IMPORTED_MODULE_2__["makeInt16"])(value);\n      }\n      if (immDetails.shift) {\n        value = value << immDetails.shift;\n      }\n\n      result += _formatNumber(value, opts);\n    }\n\n    if (addComma && (i !== display.length - 1) && !result.endsWith(",")) {\n      result += ",";\n    }\n  }\n\n  return result.trim();\n}\n\nfunction _extractValues(inst, format) {\n  let values = {};\n  for (let i = format.length - 1; i >= 0; i--) {\n    let value, bitLength;\n    let piece = format[i];\n    if (Array.isArray(piece)) {\n      for (let j = piece.length - 1; j >= 0; j--) {\n        bitLength = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getValueBitLength"])(piece[j]);\n        value = inst & Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__["makeBitMask"])(bitLength);\n\n        if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__["isBinaryLiteral"])(piece[j])) {\n          if (piece[j] === Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__["padBitString"])(value.toString(2), bitLength)) {\n            piece = piece[j];\n            break;\n          }\n        }\n        else {\n          piece = piece[j];\n          break;\n        }\n      }\n    }\n    else {\n      bitLength = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__["getValueBitLength"])(piece);\n      value = inst & Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__["makeBitMask"])(bitLength);\n    }\n\n    if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__["isBinaryLiteral"])(piece)) {\n      inst >>>= bitLength;\n      continue;\n    }\n\n    values[piece] = value;\n\n    inst >>>= bitLength;\n  }\n\n  return values;\n}\n\nfunction _formatNumber(num, opts) {\n  if (num === 0)\n    return num.toString(opts.numBase);\n\n  let value = "";\n  if (num < 0)\n    value += "-";\n\n  if (opts.numBase === 16)\n    value += "0x";\n  else if (opts.numBase === 8)\n    value += "0o";\n  else if (opts.numBase === 2)\n    value += "0b";\n\n  value += _applyCasing(Math.abs(num).toString(opts.numBase), opts.casing);\n  return value;\n}\n\nfunction _formatReg(regStr, opts) {\n  let value = "";\n  if (opts.include$)\n    value += "$";\n  value += _applyCasing(regStr, opts.casing);\n  return value;\n}\n\nfunction _formatOpcode(values, opts) {\n  const pieces = values.op.split(".");\n  for (let i = 0; i < pieces.length; i++) {\n    if (pieces[i] === "fmt") {\n      if (values.hasOwnProperty("fmt3"))\n        pieces[i] = Object(_regs__WEBPACK_IMPORTED_MODULE_1__["getFmt3Name"])(values["fmt3"]);\n      else if (values.hasOwnProperty("fmt"))\n        pieces[i] = Object(_regs__WEBPACK_IMPORTED_MODULE_1__["getFmtName"])(values["fmt"]);\n      else\n        throw new Error("Format value not available");\n    }\n    else if (pieces[i] === "cond") {\n      if (values.hasOwnProperty("cond"))\n        pieces[i] = Object(_regs__WEBPACK_IMPORTED_MODULE_1__["getCondName"])(values["cond"]);\n      else\n        throw new Error("Condition value not available");\n    }\n  }\n  let opcode = pieces.join(".");\n\n  return _applyCasing(opcode, opts.casing);\n}\n\nfunction _applyCasing(value, casing) {\n  switch (casing) {\n    case "toLowerCase":\n      return value.toLowerCase();\n\n    case "toUpperCase":\n    default:\n      return value.toUpperCase();\n  }\n}\n\n\n//# sourceURL=webpack://MIPSInst/./src/print.js?')},"./src/regex.js":function srcRegexJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOpcode", function() { return getOpcode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeRegexForOpcode", function() { return makeRegexForOpcode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isReg", function() { return isReg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFloatReg", function() { return isFloatReg; });\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regs */ "./src/regs.js");\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./immediates */ "./src/immediates.js");\n\n\n\nconst opRegex = "([A-Za-z0-3.]+)";\nconst immRegex = "(-)?0?([xbo]?)([A-Fa-f0-9]+)";\nconst regRegex = "\\\\$?(\\\\w+)";\nconst floatRegRegex = "\\\\$?[Ff]([0-9]+)";\n\nconst opcodeRegex = new RegExp("^\\\\s*" + opRegex);\n\nconst _regexCache = Object.create(null);\n\n// Gets the op string from a given entire instruction.\n// This is a general form (.fmt rather than .S, .D, etc.)\nfunction getOpcode(str) {\n  const match = opcodeRegex.exec(str);\n  if (match) {\n    const pieces = match[1].split("."); // Could be .fmt, .cond.fmt, etc\n    if (pieces.length === 1)\n      return pieces[0].toLowerCase();\n\n    // Loop from the end, as the end has the .fmt for tricky things like .D.W\n    let result = "";\n    let foundFmt = false;\n    let foundCond = false;\n    for (let i = pieces.length - 1; i > 0; i--) {\n      let piece = pieces[i];\n      if (!foundFmt) {\n        if (piece === "fmt" || Object(_regs__WEBPACK_IMPORTED_MODULE_0__["isFmtString"])(piece)) {\n          foundFmt = true;\n          piece = "fmt";\n        }\n      }\n\n      if (!foundCond) {\n        if (Object(_regs__WEBPACK_IMPORTED_MODULE_0__["isCondString"])(piece)) {\n          foundCond = true;\n          piece = "cond";\n        }\n      }\n\n      result = "." + piece + result;\n    }\n\n    return (pieces[0] + result).toLowerCase();\n  }\n  return null;\n}\n\nfunction makeRegexForOpcode(opcode, opcodeObj) {\n  if (_regexCache[opcode]) {\n    return _regexCache[opcode];\n  }\n\n  const parts = [opRegex];\n  const display = opcodeObj.display;\n  for (let i = 0; i < display.length; i++) {\n    const part = display[i];\n    const optional = part.endsWith("?");\n\n    let regexPart = "";\n    if (optional)\n      regexPart += "(?:[,\\\\s]+";\n\n    if (display[i + 1] === "(") {\n      if (optional)\n        throw new Error("Not prepared to generate optional regex with parenthesis");\n\n      if (display[i + 3] !== ")")\n        throw new Error("Not prepared to generate regex for multiple values in parenthesis"); // Or no closing paren\n\n      regexPart += makeParenthesisRegex(getRegexForPart(part), getRegexForPart(display[i + 2]));\n      i = i + 3;\n    }\n    else {\n      regexPart += getRegexForPart(part);\n    }\n\n    if (optional)\n      regexPart += ")?";\n\n    parts.push(regexPart);\n  }\n\n  let regexStr =\n    "^\\\\s*" +\n    parts.reduce((str, next, index) => {\n      if (index === 0 || partIsOptional(next))\n        return str + next;\n\n      return str + "[,\\\\s]+" + next;\n    }, "") +\n    "\\\\s*$";\n\n  const regex = new RegExp(regexStr);\n  _regexCache[opcode] = regex;\n  return regex;\n}\n\nfunction getRegexForPart(part) {\n  if (isReg(part))\n    return regRegex;\n  if (isFloatReg(part))\n    return floatRegRegex;\n\n  if (Object(_immediates__WEBPACK_IMPORTED_MODULE_1__["getImmFormatDetails"])(part))\n    return immRegex;\n\n  throw new Error(`Unrecognized display entry ${part}`);\n}\n\nfunction makeParenthesisRegex(regex1, regex2) {\n  return regex1 + "\\\\s*" + "\\\\(?" + regex2 + "\\\\)?";\n}\n\nfunction partIsOptional(partStr) {\n  return partStr.startsWith("(?:");\n}\n\nfunction isReg(entry) {\n  if (!entry)\n    return false;\n\n  switch (entry.substr(0, 2)) {\n    case "rs":\n    case "rt":\n    case "rd":\n      return true;\n  }\n  return false;\n}\n\nfunction isFloatReg(entry) {\n  if (!entry)\n    return false;\n\n  switch (entry.substr(0, 2)) {\n    case "fs":\n    case "ft":\n    case "fd":\n      return true;\n  }\n  return false;\n}\n\n\n//# sourceURL=webpack://MIPSInst/./src/regex.js?')},"./src/regs.js":function srcRegsJs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRegBits", function() { return getRegBits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRegName", function() { return getRegName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFloatRegName", function() { return getFloatRegName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFmtBits", function() { return getFmtBits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFmtName", function() { return getFmtName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFmt3Bits", function() { return getFmt3Bits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFmt3Name", function() { return getFmt3Name; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isFmtString", function() { return isFmtString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCondBits", function() { return getCondBits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCondName", function() { return getCondName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isCondString", function() { return isCondString; });\nconst regs = {\n  r0: 0,\n  zero: 0,\n  at: 1,\n  v0: 2,\n  v1: 3,\n  a0: 4,\n  a1: 5,\n  a2: 6,\n  a3: 7,\n  t0: 8,\n  t1: 9,\n  t2: 10,\n  t3: 11,\n  t4: 12,\n  t5: 13,\n  t6: 14,\n  t7: 15,\n  s0: 16,\n  s1: 17,\n  s2: 18,\n  s3: 19,\n  s4: 20,\n  s5: 21,\n  s6: 22,\n  s7: 23,\n  t8: 24,\n  t9: 25,\n  k0: 26,\n  k1: 27,\n  gp: 28,\n  sp: 29,\n  fp: 30,\n  ra: 31\n};\n\nfunction getRegBits(reg) {\n  if (!reg)\n    return undefined;\n  return regs[reg.toLowerCase()];\n}\n\nfunction getRegName(bits) {\n  for (let name in regs) {\n    if (regs[name] === bits)\n      return name;\n  }\n  return "";\n}\n\nfunction getFloatRegName(bits) {\n  if (typeof bits !== "number")\n    throw new Error("getFloatRegName encountered non-number");\n\n  return "F" + bits;\n}\n\nconst fmts = {\n  S: 16,\n  D: 17,\n  W: 20,\n  L: 21,\n};\n\nfunction getFmtBits(fmtStr) {\n  return fmts[fmtStr.toUpperCase()];\n}\n\nfunction getFmtName(bits) {\n  for (let name in fmts) {\n    if (fmts[name] === bits)\n      return name;\n  }\n  return "";\n}\n\nconst fmt3s = {\n  S: 0,\n  D: 1,\n  W: 4,\n  L: 5,\n};\n\nfunction getFmt3Bits(fmtStr) {\n  return fmt3s[fmtStr.toUpperCase()];\n}\n\nfunction getFmt3Name(bits) {\n  for (let name in fmt3s) {\n    if (fmt3s[name] === bits)\n      return name;\n  }\n  return "";\n}\n\nfunction isFmtString(fmtStr) {\n  return fmts.hasOwnProperty(fmtStr.toUpperCase()) || fmt3s.hasOwnProperty(fmtStr.toUpperCase());\n}\n\nconst conds = {\n  F: 0,\n  UN: 1,\n  EQ: 2,\n  UEQ: 3,\n  OLT: 4,\n  ULT: 5,\n  OLE: 6,\n  ULE: 7,\n  SF: 8,\n  NGLE: 9,\n  SEQ: 10,\n  NGL: 11,\n  LT: 12,\n  NGE: 13,\n  LE: 14,\n  NGT: 15,\n};\n\nfunction getCondBits(condStr) {\n  return conds[condStr.toUpperCase()];\n}\n\nfunction getCondName(bits) {\n  for (let name in conds) {\n    if (conds[name] === bits)\n      return name;\n  }\n  return "";\n}\n\nfunction isCondString(condStr) {\n  return conds.hasOwnProperty(condStr.toUpperCase());\n}\n\n\n//# sourceURL=webpack://MIPSInst/./src/regs.js?')}})},module.exports=factory()},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r=n(21),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},,function(e,t,n){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:W(e)}function r(e){return s(e)?e:H(e)}function i(e){return c(e)?e:V(e)}function o(e){return a(e)&&!u(e)?e:K(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[h])}function c(e){return!(!e||!e[d])}function u(e){return s(e)||c(e)}function l(e){return!(!e||!e[p])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=c,n.isAssociative=u,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",p="@@__IMMUTABLE_ORDERED__@@",m={},g={value:!1},_={value:!1};function v(e){return e.value=!1,e}function y(e){e&&(e.value=!0)}function b(){}function w(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function x(e){return void 0===e.size&&(e.size=e.__iterate(M)),e.size}function E(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?x(e)+t:t}function M(){return!0}function S(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function T(e,t){return C(e,t,0)}function k(e,t){return C(e,t,t)}function C(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var O,A,P,L="function"===typeof Symbol&&Symbol.iterator,D=L||"@@iterator";function I(e){this.next=e}function R(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function B(){return{value:void 0,done:!0}}function N(e){return!!F(e)}function U(e){return e&&"function"===typeof e.next}function z(e){var t=F(e);return t&&t.call(e)}function F(e){var t=e&&(L&&e[L]||e["@@iterator"]);if("function"===typeof t)return t}function j(e){return e&&"number"===typeof e.length}function W(e){return null===e||void 0===e?J():a(e)?e.toSeq():function(e){var t=ee(e)||"object"===typeof e&&new q(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function H(e){return null===e||void 0===e?J().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():$(e)}function V(e){return null===e||void 0===e?J():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():Q(e)}function K(e){return(null===e||void 0===e?J():a(e)?s(e)?e.entrySeq():e:Q(e)).toSetSeq()}function G(e){this._array=e,this.size=e.length}function q(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function Y(e){this._iterable=e,this.size=e.length||e.size}function X(e){this._iterator=e,this._iteratorCache=[]}function Z(e){return!(!e||!e["@@__IMMUTABLE_SEQ__@@"])}function J(){return O||(O=new G([]))}function $(e){var t=Array.isArray(e)?new G(e).fromEntrySeq():U(e)?new X(e).fromEntrySeq():N(e)?new Y(e).fromEntrySeq():"object"===typeof e?new q(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function Q(e){var t=ee(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ee(e){return j(e)?new G(e):U(e)?new X(e):N(e)?new Y(e):void 0}function te(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ne(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new I((function(){var e=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:R(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function re(e,t){return t?function e(t,n,r,i){return Array.isArray(n)?t.call(i,r,V(n).map((function(r,i){return e(t,r,i,n)}))):oe(n)?t.call(i,r,H(n).map((function(r,i){return e(t,r,i,n)}))):n}(t,e,"",{"":e}):ie(e)}function ie(e){return Array.isArray(e)?V(e).map(ie).toList():oe(e)?H(e).map(ie).toMap():e}function oe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ae(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function se(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||c(e)!==c(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&ae(i[1],e)&&(n||ae(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):i?!ae(t,e.get(r,m)):!ae(e.get(r,m),t))return f=!1,!1}));return f&&e.size===h}function ce(e,t){if(!(this instanceof ce))return new ce(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(A)return A;A=this}}function ue(e,t){if(!e)throw new Error(t)}function le(e,t,n){if(!(this instanceof le))return new le(e,t,n);if(ue(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(P)return P;P=this}}function fe(){throw TypeError("Abstract")}function he(){}function de(){}function pe(){}I.prototype.toString=function(){return"[Iterator]"},I.KEYS=0,I.VALUES=1,I.ENTRIES=2,I.prototype.inspect=I.prototype.toSource=function(){return this.toString()},I.prototype[D]=function(){return this},t(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(e,t){return te(this,e,t,!0)},W.prototype.__iterator=function(e,t){return ne(this,e,t,!0)},t(H,W),H.prototype.toKeyedSeq=function(){return this},t(V,W),V.of=function(){return V(arguments)},V.prototype.toIndexedSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq [","]")},V.prototype.__iterate=function(e,t){return te(this,e,t,!1)},V.prototype.__iterator=function(e,t){return ne(this,e,t,!1)},t(K,W),K.of=function(){return K(arguments)},K.prototype.toSetSeq=function(){return this},W.isSeq=Z,W.Keyed=H,W.Set=K,W.Indexed=V,W.prototype["@@__IMMUTABLE_SEQ__@@"]=!0,t(G,V),G.prototype.get=function(e,t){return this.has(e)?this._array[E(this,e)]:t},G.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},G.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new I((function(){return i>r?{value:void 0,done:!0}:R(e,i,n[t?r-i++:i++])}))},t(q,H),q.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},q.prototype.has=function(e){return this._object.hasOwnProperty(e)},q.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},q.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new I((function(){var a=r[t?i-o:o];return o++>i?{value:void 0,done:!0}:R(e,a,n[a])}))},q.prototype[p]=!0,t(Y,V),Y.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=z(this._iterable),r=0;if(U(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},Y.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=z(this._iterable);if(!U(n))return new I(B);var r=0;return new I((function(){var t=n.next();return t.done?t:R(e,r++,t.value)}))},t(X,V),X.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},X.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new I((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return R(e,i,r[i++])}))},t(ce,V),ce.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ce.prototype.get=function(e,t){return this.has(e)?this._value:t},ce.prototype.includes=function(e){return ae(this._value,e)},ce.prototype.slice=function(e,t){var n=this.size;return S(e,t,n)?this:new ce(this._value,k(t,n)-T(e,n))},ce.prototype.reverse=function(){return this},ce.prototype.indexOf=function(e){return ae(this._value,e)?0:-1},ce.prototype.lastIndexOf=function(e){return ae(this._value,e)?this.size:-1},ce.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ce.prototype.__iterator=function(e,t){var n=this,r=0;return new I((function(){return r<n.size?R(e,r++,n._value):{value:void 0,done:!0}}))},ce.prototype.equals=function(e){return e instanceof ce?ae(this._value,e._value):se(e)},t(le,V),le.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},le.prototype.get=function(e,t){return this.has(e)?this._start+E(this,e)*this._step:t},le.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},le.prototype.slice=function(e,t){return S(e,t,this.size)?this:(e=T(e,this.size),(t=k(t,this.size))<=e?new le(0,0):new le(this.get(e,this._end),this.get(t,this._end),this._step))},le.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},le.prototype.lastIndexOf=function(e){return this.indexOf(e)},le.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},le.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new I((function(){var a=i;return i+=t?-r:r,o>n?{value:void 0,done:!0}:R(e,o++,a)}))},le.prototype.equals=function(e){return e instanceof le?this._start===e._start&&this._end===e._end&&this._step===e._step:se(this,e)},t(fe,n),t(he,fe),t(de,fe),t(pe,fe),fe.Keyed=he,fe.Indexed=de,fe.Set=pe;var me="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ge(e){return e>>>1&1073741824|3221225471&e}function _e(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return ge(n)}if("string"===t)return e.length>Se?function(e){var t=Ce[e];return void 0===t&&(t=ve(e),ke===Te&&(ke=0,Ce={}),ke++,Ce[e]=t),t}(e):ve(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(xe&&void 0!==(t=ye.get(e)))return t;if(void 0!==(t=e[Me]))return t;if(!we){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Me]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ee,1073741824&Ee&&(Ee=0),xe)ye.set(e,t);else{if(void 0!==be&&!1===be(e))throw new Error("Non-extensible objects are not allowed as keys.");if(we)Object.defineProperty(e,Me,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Me]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Me]=t}}return t}(e);if("function"===typeof e.toString)return ve(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ve(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ge(t)}var ye,be=Object.isExtensible,we=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),xe="function"===typeof WeakMap;xe&&(ye=new WeakMap);var Ee=0,Me="__immutablehash__";"function"===typeof Symbol&&(Me=Symbol(Me));var Se=16,Te=255,ke=0,Ce={};function Oe(e){ue(e!==1/0,"Cannot perform this action with an infinite size.")}function Ae(e){return null===e||void 0===e?Ve():Pe(e)&&!l(e)?e:Ve().withMutations((function(t){var n=r(e);Oe(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Pe(e){return!(!e||!e[De])}t(Ae,he),Ae.prototype.toString=function(){return this.__toString("Map {","}")},Ae.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ae.prototype.set=function(e,t){return Ke(this,e,t)},Ae.prototype.setIn=function(e,t){return this.updateIn(e,m,(function(){return t}))},Ae.prototype.remove=function(e){return Ke(this,e,m)},Ae.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return m}))},Ae.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ae.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,i){var o=t===m,a=n.next();if(a.done){var s=o?r:t,c=i(s);return c===s?t:c}ue(o||t&&t.set,"invalid keyPath");var u=a.value,l=o?m:t.get(u,m),f=e(l,n,r,i);return f===l?t:f===m?t.remove(u):(o?Ve():t).set(u,f)}(this,Xt(e),t,n);return r===m?void 0:r},Ae.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ve()},Ae.prototype.merge=function(){return Xe(this,void 0,arguments)},Ae.prototype.mergeWith=function(t){var n=e.call(arguments,1);return Xe(this,t,n)},Ae.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ve(),(function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Ae.prototype.mergeDeep=function(){return Xe(this,Ze,arguments)},Ae.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Xe(this,Je(t),n)},Ae.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ve(),(function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Ae.prototype.sort=function(e){return wt(Ut(this,e))},Ae.prototype.sortBy=function(e,t){return wt(Ut(this,t,e))},Ae.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ae.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new b)},Ae.prototype.asImmutable=function(){return this.__ensureOwner()},Ae.prototype.wasAltered=function(){return this.__altered},Ae.prototype.__iterator=function(e,t){return new Fe(this,e,t)},Ae.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Ae.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?He(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ae.isMap=Pe;var Le,De="@@__IMMUTABLE_MAP__@@",Ie=Ae.prototype;function Re(e,t){this.ownerID=e,this.entries=t}function Be(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ne(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ue(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Fe(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&We(e._root)}function je(e,t){return R(e,t[0],t[1])}function We(e,t){return{node:e,index:0,__prev:t}}function He(e,t,n,r){var i=Object.create(Ie);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ve(){return Le||(Le=He(0))}function Ke(e,t,n){var r,i;if(e._root){var o=v(g),a=v(_);if(r=Ge(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===m?-1:1:0)}else{if(n===m)return e;i=1,r=new Re(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?He(i,r):Ve()}function Ge(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===m?e:(y(s),y(a),new ze(t,r,[i,o]))}function qe(e){return e.constructor===ze||e.constructor===Ue}function Ye(e,t,n,r,i){if(e.keyHash===r)return new Ue(t,r,[e.entry,i]);var o,a=31&(0===n?e.keyHash:e.keyHash>>>n),s=31&(0===n?r:r>>>n);return new Be(t,1<<a|1<<s,a===s?[Ye(e,t,n+5,r,i)]:(o=new ze(t,r,i),a<s?[e,o]:[o,e]))}function Xe(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],c=r(s);a(s)||(c=c.map((function(e){return re(e)}))),i.push(c)}return $e(e,t,i)}function Ze(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ae(e,t)?e:t}function Je(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return ae(t,i)?t:i}}function $e(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,m,(function(e){return e===m?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function Qe(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function et(e,t,n,r){var i=r?e:w(e);return i[t]=n,i}Ie[De]=!0,Ie.delete=Ie.remove,Ie.removeIn=Ie.deleteIn,Re.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ae(n,i[o][0]))return i[o][1];return r},Re.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===m,c=this.entries,u=0,l=c.length;u<l&&!ae(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(y(a),(s||!f)&&y(o),!s||1!==c.length){if(!f&&!s&&c.length>=tt)return function(e,t,n,r){e||(e=new b);for(var i=new ze(e,_e(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,c,r,i);var h=e&&e===this.ownerID,d=h?c:w(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new Re(e,d)}},Be.prototype.get=function(e,t,n,r){void 0===t&&(t=_e(n));var i=1<<(31&(0===e?t:t>>>e)),o=this.bitmap;return 0===(o&i)?r:this.nodes[Qe(o&i-1)].get(e+5,t,n,r)},Be.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=_e(r));var s=31&(0===t?n:n>>>t),c=1<<s,u=this.bitmap,l=0!==(u&c);if(!l&&i===m)return this;var f=Qe(u&c-1),h=this.nodes,d=l?h[f]:void 0,p=Ge(d,e,t+5,n,r,i,o,a);if(p===d)return this;if(!l&&p&&h.length>=nt)return function(e,t,n,r,i){for(var o=0,a=new Array(32),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Ne(e,o+1,a)}(e,h,u,s,p);if(l&&!p&&2===h.length&&qe(h[1^f]))return h[1^f];if(l&&p&&1===h.length&&qe(p))return p;var g=e&&e===this.ownerID,_=l?p?u:u^c:u|c,v=l?p?et(h,f,p,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(h,f,g):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}(h,f,p,g);return g?(this.bitmap=_,this.nodes=v,this):new Be(e,_,v)},Ne.prototype.get=function(e,t,n,r){void 0===t&&(t=_e(n));var i=31&(0===e?t:t>>>e),o=this.nodes[i];return o?o.get(e+5,t,n,r):r},Ne.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=_e(r));var s=31&(0===t?n:n>>>t),c=i===m,u=this.nodes,l=u[s];if(c&&!l)return this;var f=Ge(l,e,t+5,n,r,i,o,a);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<rt)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,c=1,u=t.length;s<u;s++,c<<=1){var l=t[s];void 0!==l&&s!==r&&(i|=c,a[o++]=l)}return new Be(e,i,a)}(e,u,h,s)}else h++;var d=e&&e===this.ownerID,p=et(u,s,f,d);return d?(this.count=h,this.nodes=p,this):new Ne(e,h,p)},Ue.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(ae(n,i[o][0]))return i[o][1];return r},Ue.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=_e(r));var s=i===m;if(n!==this.keyHash)return s?this:(y(a),y(o),Ye(this,e,t,n,[r,i]));for(var c=this.entries,u=0,l=c.length;u<l&&!ae(r,c[u][0]);u++);var f=u<l;if(f?c[u][1]===i:s)return this;if(y(a),(s||!f)&&y(o),s&&2===l)return new ze(e,this.keyHash,c[1^u]);var h=e&&e===this.ownerID,d=h?c:w(c);return f?s?u===l-1?d.pop():d[u]=d.pop():d[u]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new Ue(e,this.keyHash,d)},ze.prototype.get=function(e,t,n,r){return ae(n,this.entry[0])?this.entry[1]:r},ze.prototype.update=function(e,t,n,r,i,o,a){var s=i===m,c=ae(r,this.entry[0]);return(c?i===this.entry[1]:s)?this:(y(a),s?void y(o):c?e&&e===this.ownerID?(this.entry[1]=i,this):new ze(e,this.keyHash,[r,i]):(y(o),Ye(this,e,t,_e(r),[r,i])))},Re.prototype.iterate=Ue.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},Be.prototype.iterate=Ne.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},ze.prototype.iterate=function(e,t){return e(this.entry)},t(Fe,I),Fe.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return je(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return je(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return je(e,o.entry);t=this._stack=We(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var tt=8,nt=16,rt=8;function it(e){var t=pt();if(null===e||void 0===e)return t;if(ot(e))return e;var n=i(e),r=n.size;return 0===r?t:(Oe(r),r>0&&r<32?dt(0,r,5,null,new ct(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function ot(e){return!(!e||!e[at])}t(it,de),it.of=function(){return this(arguments)},it.prototype.toString=function(){return this.__toString("List [","]")},it.prototype.get=function(e,t){if((e=E(this,e))>=0&&e<this.size){var n=_t(this,e+=this._origin);return n&&n.array[31&e]}return t},it.prototype.set=function(e,t){return function(e,t,n){if((t=E(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?vt(e,t).set(0,n):vt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=v(_);return t>=bt(e._capacity)?r=mt(r,e.__ownerID,0,t,n,o):i=mt(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):dt(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},it.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},it.prototype.insert=function(e,t){return this.splice(e,0,t)},it.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):pt()},it.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){vt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},it.prototype.pop=function(){return vt(this,0,-1)},it.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){vt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},it.prototype.shift=function(){return vt(this,1)},it.prototype.merge=function(){return yt(this,void 0,arguments)},it.prototype.mergeWith=function(t){var n=e.call(arguments,1);return yt(this,t,n)},it.prototype.mergeDeep=function(){return yt(this,Ze,arguments)},it.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return yt(this,Je(t),n)},it.prototype.setSize=function(e){return vt(this,0,e)},it.prototype.slice=function(e,t){var n=this.size;return S(e,t,n)?this:vt(this,T(e,n),k(t,n))},it.prototype.__iterator=function(e,t){var n=0,r=ht(this,t);return new I((function(){var t=r();return t===ft?{value:void 0,done:!0}:R(e,n++,t)}))},it.prototype.__iterate=function(e,t){for(var n,r=0,i=ht(this,t);(n=i())!==ft&&!1!==e(n,r++,this););return r},it.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?dt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},it.isList=ot;var at="@@__IMMUTABLE_LIST__@@",st=it.prototype;function ct(e,t){this.array=e,this.ownerID=t}st[at]=!0,st.delete=st.remove,st.setIn=Ie.setIn,st.deleteIn=st.removeIn=Ie.removeIn,st.update=Ie.update,st.updateIn=Ie.updateIn,st.mergeIn=Ie.mergeIn,st.mergeDeepIn=Ie.mergeDeepIn,st.withMutations=Ie.withMutations,st.asMutable=Ie.asMutable,st.asImmutable=Ie.asImmutable,st.wasAltered=Ie.wasAltered,ct.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&31;if(r>=this.array.length)return new ct([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-5,n))===a&&o)return this}if(o&&!i)return this;var s=gt(this,e);if(!o)for(var c=0;c<r;c++)s.array[c]=void 0;return i&&(s.array[r]=i),s},ct.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&31;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-5,n))===o&&i===this.array.length-1)return this}var a=gt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var ut,lt,ft={};function ht(e,t){var n=e._origin,r=e._capacity,i=bt(r),o=e._tail;return a(e._root,e._level,0);function a(e,s,c){return 0===s?function(e,a){var s=a===i?o&&o.array:e&&e.array,c=a>n?0:n-a,u=r-a;return u>32&&(u=32),function(){if(c===u)return ft;var e=t?--u:c++;return s&&s[e]}}(e,c):function(e,i,o){var s,c=e&&e.array,u=o>n?0:n-o>>i,l=1+(r-o>>i);return l>32&&(l=32),function(){for(;;){if(s){var e=s();if(e!==ft)return e;s=null}if(u===l)return ft;var n=t?--l:u++;s=a(c&&c[n],i-5,o+(n<<i))}}}(e,s,c)}}function dt(e,t,n,r,i,o,a){var s=Object.create(st);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function pt(){return ut||(ut=dt(0,0,5))}function mt(e,t,n,r,i,o){var a,s=r>>>n&31,c=e&&s<e.array.length;if(!c&&void 0===i)return e;if(n>0){var u=e&&e.array[s],l=mt(u,t,n-5,r,i,o);return l===u?e:((a=gt(e,t)).array[s]=l,a)}return c&&e.array[s]===i?e:(y(o),a=gt(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function gt(e,t){return t&&e&&t===e.ownerID?e:new ct(e?e.array.slice():[],t)}function _t(e,t){if(t>=bt(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&31],r-=5;return n}}function vt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new b,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var c=e._level,u=e._root,l=0;a+l<0;)u=new ct(u&&u.array.length?[void 0,u]:[],r),l+=1<<(c+=5);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=bt(o),h=bt(s);h>=1<<c+5;)u=new ct(u&&u.array.length?[u]:[],r),c+=5;var d=e._tail,p=h<f?_t(e,s-1):h>f?new ct([],r):d;if(d&&h>f&&a<o&&d.array.length){for(var m=u=gt(u,r),g=c;g>5;g-=5){var _=f>>>g&31;m=m.array[_]=gt(m.array[_],r)}m.array[f>>>5&31]=d}if(s<o&&(p=p&&p.removeAfter(r,0,s)),a>=h)a-=h,s-=h,c=5,u=null,p=p&&p.removeBefore(r,0,a);else if(a>i||h<f){for(l=0;u;){var v=a>>>c&31;if(v!==h>>>c&31)break;v&&(l+=(1<<c)*v),c-=5,u=u.array[v]}u&&a>i&&(u=u.removeBefore(r,c,a-l)),u&&h<f&&(u=u.removeAfter(r,c,h-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=c,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):dt(a,s,c,u,p)}function yt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var c=n[s],u=i(c);u.size>o&&(o=u.size),a(c)||(u=u.map((function(e){return re(e)}))),r.push(u)}return o>e.size&&(e=e.setSize(o)),$e(e,t,r)}function bt(e){return e<32?0:e-1>>>5<<5}function wt(e){return null===e||void 0===e?Mt():xt(e)?e:Mt().withMutations((function(t){var n=r(e);Oe(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function xt(e){return Pe(e)&&l(e)}function Et(e,t,n,r){var i=Object.create(wt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Mt(){return lt||(lt=Et(Ve(),pt()))}function St(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),c=void 0!==s;if(n===m){if(!c)return e;a.size>=32&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(c){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Et(r,i)}function Tt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function kt(e){this._iter=e,this.size=e.size}function Ct(e){this._iter=e,this.size=e.size}function Ot(e){this._iter=e,this.size=e.size}function At(e){var t=Gt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=qt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new I((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Pt(e,t,n){var r=Gt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,m);return o===m?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(2,i);return new I((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return R(r,s,t.call(n,a[1],s,e),i)}))},r}function Lt(e,t){var n=Gt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=At(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=qt,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Dt(e,t,n,r){var i=Gt(e);return r&&(i.has=function(r){var i=e.get(r,m);return i!==m&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,m);return o!==m&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(n,e,o,c))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(2,o),s=0;return new I((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,u=c[0],l=c[1];if(t.call(n,l,u,e))return R(i,r?u:s++,l,o)}}))},i}function It(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),S(t,n,i))return e;var o=T(t,i),a=k(n,i);if(o!==o||a!==a)return It(e.toSeq().cacheResult(),t,n,r);var s,c=a-o;c===c&&(s=c<0?0:c);var u=Gt(e);return u.size=0===s?s:e.size&&s||void 0,!r&&Z(e)&&s>=0&&(u.get=function(t,n){return(t=E(this,t))>=0&&t<s?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,c=!0,u=0;return e.__iterate((function(e,n){if(!c||!(c=a++<o))return u++,!1!==t(e,r?n:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,c=0;return new I((function(){for(;a++<o;)i.next();if(++c>s)return{value:void 0,done:!0};var e=i.next();return r||1===t?e:R(t,c-1,0===t?void 0:e.value[1],e)}))},u}function Rt(e,t,n,r){var i=Gt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,u){if(!s||!(s=t.call(n,e,o,u)))return c++,i(e,r?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(2,o),c=!0,u=0;return new I((function(){var e,o,l;do{if((e=s.next()).done)return r||1===i?e:R(i,u++,0===i?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],c&&(c=t.call(n,l,o,a))}while(c);return 2===i?e:R(i,o,l,e)}))},i}function Bt(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?$(e):Q(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||c(e)&&c(o))return o}var u=new G(i);return n?u=u.toKeyedSeq():c(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),u}function Nt(e,t,n){var r=Gt(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function e(c,u){var l=this;c.__iterate((function(i,c){return(!t||u<t)&&a(i)?e(i,u+1):!1===r(i,n?c:o++,l)&&(s=!0),!s}),i)}(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],c=0;return new I((function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(2===r&&(u=u[1]),t&&!(s.length<t)||!a(u))return n?e:R(r,c++,u,e);s.push(o),o=u.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function Ut(e,t,n){t||(t=Yt);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?H(o):c(e)?V(o):K(o)}function zt(e,t,n){if(t||(t=Yt),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Ft(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Ft(t,e,n)?n:e}))}function Ft(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function jt(e,t,r){var i=Gt(e);return i.size=new G(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),z(i?e.reverse():e)})),a=0,s=!1;return new I((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:R(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function Wt(e,t){return Z(e)?t:e.constructor(t)}function Ht(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Vt(e){return Oe(e.size),x(e)}function Kt(e){return s(e)?r:c(e)?i:o}function Gt(e){return Object.create((s(e)?H:c(e)?V:K).prototype)}function qt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function Yt(e,t){return e>t?1:e<t?-1:0}function Xt(e){var t=z(e);if(!t){if(!j(e))throw new TypeError("Expected iterable or array-like: "+e);t=z(n(e))}return t}function Zt(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(en.bind(void 0,e))}catch(n){}}(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Ae(o)},i=r.prototype=Object.create(Jt);return i.constructor=r,r}t(wt,Ae),wt.of=function(){return this(arguments)},wt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},wt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},wt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Mt()},wt.prototype.set=function(e,t){return St(this,e,t)},wt.prototype.remove=function(e){return St(this,e,m)},wt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},wt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},wt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},wt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},wt.isOrderedMap=xt,wt.prototype[p]=!0,wt.prototype.delete=wt.prototype.remove,t(Tt,H),Tt.prototype.get=function(e,t){return this._iter.get(e,t)},Tt.prototype.has=function(e){return this._iter.has(e)},Tt.prototype.valueSeq=function(){return this._iter.valueSeq()},Tt.prototype.reverse=function(){var e=this,t=Lt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Tt.prototype.map=function(e,t){var n=this,r=Pt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Tt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Vt(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Tt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(1,t),r=t?Vt(this):0;return new I((function(){var i=n.next();return i.done?i:R(e,t?--r:r++,i.value,i)}))},Tt.prototype[p]=!0,t(kt,V),kt.prototype.includes=function(e){return this._iter.includes(e)},kt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},kt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t),r=0;return new I((function(){var t=n.next();return t.done?t:R(e,r++,t.value,t)}))},t(Ct,K),Ct.prototype.has=function(e){return this._iter.includes(e)},Ct.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Ct.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new I((function(){var t=n.next();return t.done?t:R(e,t.value,t.value,t)}))},t(Ot,H),Ot.prototype.entrySeq=function(){return this._iter.toSeq()},Ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Ht(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new I((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Ht(r);var i=a(r);return R(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},kt.prototype.cacheResult=Tt.prototype.cacheResult=Ct.prototype.cacheResult=Ot.prototype.cacheResult=qt,t(Zt,he),Zt.prototype.toString=function(){return this.__toString(Qt(this)+" {","}")},Zt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Zt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Zt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=$t(this,Ve()))},Zt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Qt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:$t(this,n)},Zt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:$t(this,t)},Zt.prototype.wasAltered=function(){return this._map.wasAltered()},Zt.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},Zt.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},Zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?$t(this,t,e):(this.__ownerID=e,this._map=t,this)};var Jt=Zt.prototype;function $t(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Qt(e){return e._name||e.constructor.name||"Record"}function en(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ue(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function tn(e){return null===e||void 0===e?un():nn(e)&&!l(e)?e:un().withMutations((function(t){var n=o(e);Oe(n.size),n.forEach((function(e){return t.add(e)}))}))}function nn(e){return!(!e||!e[on])}Jt.delete=Jt.remove,Jt.deleteIn=Jt.removeIn=Ie.removeIn,Jt.merge=Ie.merge,Jt.mergeWith=Ie.mergeWith,Jt.mergeIn=Ie.mergeIn,Jt.mergeDeep=Ie.mergeDeep,Jt.mergeDeepWith=Ie.mergeDeepWith,Jt.mergeDeepIn=Ie.mergeDeepIn,Jt.setIn=Ie.setIn,Jt.update=Ie.update,Jt.updateIn=Ie.updateIn,Jt.withMutations=Ie.withMutations,Jt.asMutable=Ie.asMutable,Jt.asImmutable=Ie.asImmutable,t(tn,pe),tn.of=function(){return this(arguments)},tn.fromKeys=function(e){return this(r(e).keySeq())},tn.prototype.toString=function(){return this.__toString("Set {","}")},tn.prototype.has=function(e){return this._map.has(e)},tn.prototype.add=function(e){return sn(this,this._map.set(e,!0))},tn.prototype.remove=function(e){return sn(this,this._map.remove(e))},tn.prototype.clear=function(){return sn(this,this._map.clear())},tn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},tn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},tn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},tn.prototype.merge=function(){return this.union.apply(this,arguments)},tn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},tn.prototype.sort=function(e){return ln(Ut(this,e))},tn.prototype.sortBy=function(e,t){return ln(Ut(this,t,e))},tn.prototype.wasAltered=function(){return this._map.wasAltered()},tn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},tn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},tn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},tn.isSet=nn;var rn,on="@@__IMMUTABLE_SET__@@",an=tn.prototype;function sn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function cn(e,t){var n=Object.create(an);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function un(){return rn||(rn=cn(Ve()))}function ln(e){return null===e||void 0===e?mn():fn(e)?e:mn().withMutations((function(t){var n=o(e);Oe(n.size),n.forEach((function(e){return t.add(e)}))}))}function fn(e){return nn(e)&&l(e)}an[on]=!0,an.delete=an.remove,an.mergeDeep=an.merge,an.mergeDeepWith=an.mergeWith,an.withMutations=Ie.withMutations,an.asMutable=Ie.asMutable,an.asImmutable=Ie.asImmutable,an.__empty=un,an.__make=cn,t(ln,tn),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("OrderedSet {","}")},ln.isOrderedSet=fn;var hn,dn=ln.prototype;function pn(e,t){var n=Object.create(dn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mn(){return hn||(hn=pn(Mt()))}function gn(e){return null===e||void 0===e?xn():_n(e)?e:xn().unshiftAll(e)}function _n(e){return!(!e||!e[yn])}dn[p]=!0,dn.__empty=mn,dn.__make=pn,t(gn,de),gn.of=function(){return this(arguments)},gn.prototype.toString=function(){return this.__toString("Stack [","]")},gn.prototype.get=function(e,t){var n=this._head;for(e=E(this,e);n&&e--;)n=n.next;return n?n.value:t},gn.prototype.peek=function(){return this._head&&this._head.value},gn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):wn(e,t)},gn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Oe(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):wn(t,n)},gn.prototype.pop=function(){return this.slice(1)},gn.prototype.unshift=function(){return this.push.apply(this,arguments)},gn.prototype.unshiftAll=function(e){return this.pushAll(e)},gn.prototype.shift=function(){return this.pop.apply(this,arguments)},gn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):xn()},gn.prototype.slice=function(e,t){if(S(e,t,this.size))return this;var n=T(e,this.size);if(k(t,this.size)!==this.size)return de.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):wn(r,i)},gn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},gn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},gn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new I((function(){if(r){var t=r.value;return r=r.next,R(e,n++,t)}return{value:void 0,done:!0}}))},gn.isStack=_n;var vn,yn="@@__IMMUTABLE_STACK__@@",bn=gn.prototype;function wn(e,t,n,r){var i=Object.create(bn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function xn(){return vn||(vn=wn(0))}function En(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}bn[yn]=!0,bn.withMutations=Ie.withMutations,bn.asMutable=Ie.asMutable,bn.asImmutable=Ie.asImmutable,bn.wasAltered=Ie.wasAltered,n.Iterator=I,En(n,{toArray:function(){Oe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new kt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Tt(this,!0)},toMap:function(){return Ae(this.toKeyedSeq())},toObject:function(){Oe(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return wt(this.toKeyedSeq())},toOrderedSet:function(){return ln(s(this)?this.valueSeq():this)},toSet:function(){return tn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ct(this)},toSeq:function(){return c(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return gn(s(this)?this.valueSeq():this)},toList:function(){return it(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return Wt(this,Bt(this,t))},includes:function(e){return this.some((function(t){return ae(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Oe(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return Wt(this,Dt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Oe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Oe(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Wt(this,Pt(this,e,t))},reduce:function(e,t,n){var r,i;return Oe(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Wt(this,Lt(this,!0))},slice:function(e,t){return Wt(this,It(this,e,t,!0))},some:function(e,t){return!this.every(Cn(e),t)},sort:function(e){return Wt(this,Ut(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return x(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Ae().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return se(this,e)},entrySeq:function(){var e=this;if(e._cache)return new G(e._cache);var t=e.toSeq().map(kn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Cn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(M)},flatMap:function(e,t){return Wt(this,function(e,t,n){var r=Kt(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Wt(this,Nt(this,e,!0))},fromEntrySeq:function(){return new Ot(this)},get:function(e,t){return this.find((function(t,n){return ae(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=Xt(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,m):m)===m)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),i=(l(e)?wt():Ae()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=Kt(e);return i.map((function(t){return Wt(e,o(t))}))}(this,e,t)},has:function(e){return this.get(e,m)!==m},hasIn:function(e){return this.getIn(e,m)!==m},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Tn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return zt(this,e)},maxBy:function(e,t){return zt(this,t,e)},min:function(e){return zt(this,e?On(e):Ln)},minBy:function(e,t){return zt(this,t?On(t):Ln,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Wt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Wt(this,Rt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Cn(e),t)},sortBy:function(e,t){return Wt(this,Ut(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Wt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Wt(this,function(e,t,n){var r=Gt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(2,i),s=!0;return new I((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,c=i[0],u=i[1];return t.call(n,u,c,o)?2===r?e:R(r,c,u,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Cn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return function(e,t){return t=me(t,3432918353),t=me(t<<15|t>>>-15,461845907),t=me(t<<13|t>>>-13,5),t=me((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=ge((t=me(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Dn(_e(e),_e(t))|0}:function(e,t){r=r+Dn(_e(e),_e(t))|0}:t?function(e){r=31*r+_e(e)|0}:function(e){r=r+_e(e)|0}),r)}(this))}});var Mn=n.prototype;Mn[f]=!0,Mn[D]=Mn.values,Mn.__toJS=Mn.toArray,Mn.__toStringMapper=An,Mn.inspect=Mn.toSource=function(){return this.toString()},Mn.chain=Mn.flatMap,Mn.contains=Mn.includes,function(){try{Object.defineProperty(Mn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),En(r,{flip:function(){return Wt(this,At(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return ae(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return ae(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return Wt(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Wt(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Sn=r.prototype;function Tn(e,t){return t}function kn(e,t){return[t,e]}function Cn(e){return function(){return!e.apply(this,arguments)}}function On(e){return function(){return-e.apply(this,arguments)}}function An(e){return"string"===typeof e?JSON.stringify(e):e}function Pn(){return w(arguments)}function Ln(e,t){return e<t?1:e>t?-1:0}function Dn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Sn[h]=!0,Sn[D]=Mn.entries,Sn.__toJS=Mn.toObject,Sn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+An(e)},En(i,{toKeyedSeq:function(){return new Tt(this,!1)},filter:function(e,t){return Wt(this,Dt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Wt(this,Lt(this,!1))},slice:function(e,t){return Wt(this,It(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=T(e,e<0?this.count():this.size);var r=this.slice(0,e);return Wt(this,1===n?r:r.concat(w(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Wt(this,Nt(this,e,!1))},get:function(e,t){return(e=E(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=E(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Wt(this,function(e,t){var n=Gt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(1,r),a=0;return new I((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?R(n,a++,t):R(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(w(arguments)),t=jt(this.toSeq(),V.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Wt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Wt(this,Rt(this,e,t,!1))},zip:function(){var e=[this].concat(w(arguments));return Wt(this,jt(this,Pn,e))},zipWith:function(e){var t=w(arguments);return t[0]=this,Wt(this,jt(this,e,t))}}),i.prototype[d]=!0,i.prototype[p]=!0,En(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Mn.includes,En(H,r.prototype),En(V,i.prototype),En(K,o.prototype),En(he,r.prototype),En(de,i.prototype),En(pe,o.prototype),{Iterable:n,Seq:W,Collection:fe,Map:Ae,OrderedMap:wt,List:it,Stack:gn,Set:tn,OrderedSet:ln,Record:Zt,Range:le,Repeat:ce,is:ae,fromJS:re}}()},function(e,t,n){"use strict";var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(504),o=n(165),a=n(505),s=n(123),c=n(15),u=c.OrderedSet,l=c.Record,f=c.Stack,h=l({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:f(),selection:null,treeMap:null,undoStack:f()}),d=function(){t.createEmpty=function(e){return t.createWithContent(o.createFromText(""),e)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:f(),redoStack:f(),decorator:n||null,selection:s.createEmpty(r)})},t.create=function(e){var n=e.currentContent,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},e,{treeMap:m(n,e.decorator),directionMap:a.getDirectionMap(n)});return new t(new h(i))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),o=r;null===n.decorator?o=null:n.decorator&&(o=n.decorator);var a=n.currentContent||e.getCurrentContent();if(o!==r){var s,c=t.get("treeMap");return s=o&&r?function(e,t,n,r,o){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==o.getDecorations(t,e)})).map((function(t){return i.generate(e,t,r)})))}(a,a.getBlockMap(),c,o,r):m(a,o),void t.merge({decorator:o,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var o=e.getCurrentContent().set("entityMap",n),a=o.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return i.generate(o,e,r)})))}(e,a.getBlockMap(),a.getEntityMap(),o)),t.merge(n)})))};var e=t.prototype;function t(e){r(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r>0)return i.getInlineStyleAt(r-1);if(i.getLength())return i.getInlineStyleAt(0);return _(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);if(r<i.getLength())return i.getInlineStyleAt(r);if(r>0)return i.getInlineStyleAt(r-1);return _(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return p(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),p(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return t.acceptSelection(e,new s({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var o=a.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var s=e.getSelection(),c=e.getCurrentContent(),u=e.getUndoStack(),l=n;s!==c.getSelectionAfter()||g(e,r)?(u=u.push(c),l=l.set("selectionBefore",s)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",c.getSelectionBefore()));var h=e.getInlineStyleOverride(),d=["adjust-depth","change-block-type","split-block"];-1===d.indexOf(r)&&(h=null);var p={currentContent:l,directionMap:o,undoStack:u,redoStack:f(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:h};return t.set(e,p)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=a.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=a.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function p(e,t,n){return d.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function m(e,t){return e.getBlockMap().map((function(n){return i.generate(e,n,t)})).toOrderedMap()}function g(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function _(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):u()}e.exports=d},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(489)},function(e,t,n){"use strict";var r=n(55),i=n(266),o=n(131),a=n(588),s=n(109);function c(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(i){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(i){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function f(e){var n=65536,r=t.getTypeOf(e),i=!0;if("uint8array"===r?i=l.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=l.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return l.stringifyByChunk(e,r,n)}catch(o){n=Math.floor(n/2)}return l.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=f;var d={};d.string={string:c,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},d.array={string:f,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return f(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:f,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:f,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:c},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return d[r][e](n)},t.getTypeOf=function(e){return"string"===typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"===typeof n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,o,a,c){return s.Promise.resolve(n).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!==typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(n){var l,f=t.getTypeOf(n);return f?("arraybuffer"===f?n=t.transformTo("uint8array",n):"string"===f&&(c?n=i.decode(n):o&&!0!==a&&(n=u(l=n,r.uint8array?new Uint8Array(l.length):new Array(l.length)))),n):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},function(e,t,n){"use strict";(function(e){var r=n(408),i=n(409),o=n(188);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return W(F(t,e.length-n),e,n,r)}function w(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function E(e,t,n,r){return W(j(t),e,n,r)}function M(e,t,n,r){return W(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=z(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:F(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(27))},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(445).Buffer}catch(M){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function c(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?m+n:u[h-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var r,i,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],f=8191&l,h=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,g=0|a[2],_=8191&g,v=g>>>13,y=0|a[3],b=8191&y,w=y>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],T=8191&S,k=S>>>13,C=0|a[6],O=8191&C,A=C>>>13,P=0|a[7],L=8191&P,D=P>>>13,I=0|a[8],R=8191&I,B=I>>>13,N=0|a[9],U=8191&N,z=N>>>13,F=0|s[0],j=8191&F,W=F>>>13,H=0|s[1],V=8191&H,K=H>>>13,G=0|s[2],q=8191&G,Y=G>>>13,X=0|s[3],Z=8191&X,J=X>>>13,$=0|s[4],Q=8191&$,ee=$>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,de=0|s[9],pe=8191&de,me=de>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(r=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,W))+Math.imul(h,j)|0))<<13)|0;u=((o=Math.imul(h,W))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,j),i=(i=Math.imul(p,W))+Math.imul(m,j)|0,o=Math.imul(m,W);var _e=(u+(r=r+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(_,j),i=(i=Math.imul(_,W))+Math.imul(v,j)|0,o=Math.imul(v,W),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,K)|0;var ve=(u+(r=r+Math.imul(f,q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,q)|0))<<13)|0;u=((o=o+Math.imul(h,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(b,j),i=(i=Math.imul(b,W))+Math.imul(w,j)|0,o=Math.imul(w,W),r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,Y)|0;var ye=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,J)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(E,j),i=(i=Math.imul(E,W))+Math.imul(M,j)|0,o=Math.imul(M,W),r=r+Math.imul(b,V)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,K)|0,r=r+Math.imul(_,q)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(v,q)|0,o=o+Math.imul(v,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,J)|0;var be=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(T,j),i=(i=Math.imul(T,W))+Math.imul(k,j)|0,o=Math.imul(k,W),r=r+Math.imul(E,V)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,Y)|0,r=r+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,J)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var we=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,re)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(O,j),i=(i=Math.imul(O,W))+Math.imul(A,j)|0,o=Math.imul(A,W),r=r+Math.imul(T,V)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(E,q)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,J)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var xe=(u+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(L,j),i=(i=Math.imul(L,W))+Math.imul(D,j)|0,o=Math.imul(D,W),r=r+Math.imul(O,V)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,K)|0,r=r+Math.imul(T,q)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,Y)|0,r=r+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,J)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Ee=(u+(r=r+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(R,j),i=(i=Math.imul(R,W))+Math.imul(B,j)|0,o=Math.imul(B,W),r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,Y)|0,r=r+Math.imul(T,Z)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,J)|0,r=r+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Me=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(U,j),i=(i=Math.imul(U,W))+Math.imul(z,j)|0,o=Math.imul(z,W),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,K)|0,r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,J)|0,r=r+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(E,ne)|0,i=(i=i+Math.imul(E,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,r=r+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(m,fe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,K))+Math.imul(z,V)|0,o=Math.imul(z,K),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,Y)|0,r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,J)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(T,ne)|0,i=(i=i+Math.imul(T,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,r=r+Math.imul(_,fe)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(v,fe)|0,o=o+Math.imul(v,he)|0;var Te=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,Y))+Math.imul(z,q)|0,o=Math.imul(z,Y),r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,J)|0,r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(T,oe)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,r=r+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(w,fe)|0,o=o+Math.imul(w,he)|0;var ke=(u+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(U,Z),i=(i=Math.imul(U,J))+Math.imul(z,Z)|0,o=Math.imul(z,J),r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,r=r+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,r=r+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(M,fe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(r=r+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(z,Q)|0,o=Math.imul(z,ee),r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,r=r+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,r=r+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,he)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,he)|0;var Oe=(u+(r=r+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,me)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(U,ne),i=(i=Math.imul(U,re))+Math.imul(z,ne)|0,o=Math.imul(z,re),r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,r=r+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,he)|0;var Ae=(u+(r=r+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(U,oe),i=(i=Math.imul(U,ae))+Math.imul(z,oe)|0,o=Math.imul(z,ae),r=r+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,r=r+Math.imul(L,fe)|0,i=(i=i+Math.imul(L,he)|0)+Math.imul(D,fe)|0,o=o+Math.imul(D,he)|0;var Pe=(u+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(U,ce),i=(i=Math.imul(U,ue))+Math.imul(z,ce)|0,o=Math.imul(z,ue),r=r+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(B,fe)|0,o=o+Math.imul(B,he)|0;var Le=(u+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(D,pe)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,r=Math.imul(U,fe),i=(i=Math.imul(U,he))+Math.imul(z,fe)|0,o=Math.imul(z,he);var De=(u+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863;var Ie=(u+(r=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,me))+Math.imul(z,pe)|0))<<13)|0;return u=((o=Math.imul(z,me))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c[0]=ge,c[1]=_e,c[2]=ve,c[3]=ye,c[4]=be,c[5]=we,c[6]=xe,c[7]=Ee,c[8]=Me,c[9]=Se,c[10]=Te,c[11]=ke,c[12]=Ce,c[13]=Oe,c[14]=Ae,c[15]=Pe,c[16]=Le,c[17]=De,c[18]=Ie,0!==u&&(c[19]=u,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(d=h),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),h=67108863&f;s=67108863&(h=h+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},m.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,h=u,d=0;d<a;d++){var p=n[l+d],m=r[l+d],g=n[l+d+a],_=r[l+d+a],v=f*g-h*_;_=f*_+h*g,g=v,n[l+d]=p+g,r[l+d]=m+_,n[l+d+a]=p-g,r[l+d+a]=m-_,d!==s&&(v=c*f-u*h,h=c*h+u*f,f=v)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,c,r,i),this.transform(u,o,l,f,r,i);for(var d=0;d<r;d++){var p=s[d]*l[d]-c[d]*f[d];c[d]=s[d]*f[d]+c[d]*l[d],s[d]=p}return this.conjugate(s,c,r),this.transform(s,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,f);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(c)):(n.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,h=1;0===(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(v,_),v.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(y,_),i(b,_),i(w,_),w.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new y;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},x.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(s);){for(var m=d,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var _=this.pow(f,new o(1).iushln(p-g-1));h=h.redMul(_),f=_.redSqr(),d=d.redMul(f),p=g}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},i(E,x),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(444)(e))},function(e,t,n){(function(n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,n,a){var s=o.URL||o.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?i(c):r(c.href)?t(e,n,a):i(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),n);else if(r(e))t(e,n,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){i(a)}))}}:function(e,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var a="application/octet-stream"===e.type,s=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var l=o.URL||o.webkitURL,f=l.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout((function(){l.revokeObjectURL(f)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a})?r.apply(t,i):r)||(e.exports=o)}).call(this,n(27))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(7);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(module,exports,__webpack_require__){var factory;factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.ts")}({"./node_modules/mips-inst/dist/mipsinst.js":function node_modulesMipsInstDistMipsinstJs(module,exports,__webpack_require__){eval('(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(typeof self !== \'undefined\' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./src/index.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./src/bitstrings.js":\n/*!***************************!*\\\n  !*** ./src/bitstrings.js ***!\n  \\***************************/\n/*! exports provided: isBinaryLiteral, compareBits, makeBitMaskFromString, makeBitMask, padBitString */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"isBinaryLiteral\\", function() { return isBinaryLiteral; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"compareBits\\", function() { return compareBits; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"makeBitMaskFromString\\", function() { return makeBitMaskFromString; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"makeBitMask\\", function() { return makeBitMask; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"padBitString\\", function() { return padBitString; });\\nfunction isBinaryLiteral(str) {\\n  return str[0] === \\"0\\" || str[0] === \\"1\\"; // Checking first char is enough for now\\n}\\n\\nfunction compareBits(number, bitString, bitOffset) {\\n  let shifted = (number >>> bitOffset) & makeBitMask(bitString.length);\\n  let mask = makeBitMaskFromString(bitString);\\n  return shifted === mask;\\n}\\n\\nfunction makeBitMaskFromString(bitString) {\\n  let mask = 0;\\n  for (var i = 0; i < bitString.length; i++) {\\n    let bit = bitString[i] === \\"1\\" ? 1 : 0;\\n    mask <<= 1;\\n    mask = mask | bit;\\n  }\\n  return mask;\\n}\\n\\nfunction makeBitMask(len) {\\n  if (len <= 0)\\n    throw new Error(`makeBitMask cannot make mask of length ${len}`);\\n\\n  let mask = 1;\\n  while (--len) {\\n    mask <<= 1;\\n    mask = mask | 1;\\n  }\\n  return mask;\\n}\\n\\nfunction padBitString(str, minLen) {\\n  while (str.length < minLen) {\\n    str = \\"0\\" + str;\\n  }\\n  return str;\\n}\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/bitstrings.js?");\n\n/***/ }),\n\n/***/ "./src/immediates.js":\n/*!***************************!*\\\n  !*** ./src/immediates.js ***!\n  \\***************************/\n/*! exports provided: parseImmediate, formatImmediate, makeInt16, getImmFormatDetails */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"parseImmediate\\", function() { return parseImmediate; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"formatImmediate\\", function() { return formatImmediate; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"makeInt16\\", function() { return makeInt16; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getImmFormatDetails\\", function() { return getImmFormatDetails; });\\nfunction parseImmediate(immArr, maxBits, signed, shift) {\\n  let [neg, base, num] = immArr;\\n  base = base.toLowerCase();\\n\\n  let value;\\n  if (base === \\"b\\")\\n    value = parseInt(num, 2);\\n  else if (base === \\"o\\")\\n    value = parseInt(num, 8);\\n  else if (base === \\"x\\")\\n    value = parseInt(num, 16);\\n  else\\n    value = parseInt(num, 10);\\n\\n  if (isNaN(value)) {\\n    return value; // Let the caller decide what to do with NaN.\\n  }\\n\\n  if (shift) {\\n    value >>>= shift;\\n  }\\n\\n  if (maxBits === 16) {\\n    if (signed) {\\n      value = makeInt16(value);\\n    }\\n  }\\n\\n  if (neg)\\n    value = -value;\\n\\n  return value;\\n}\\n\\nfunction formatImmediate(value, maxBits) {\\n  if (maxBits === 16) {\\n    value = (new Uint16Array([value]))[0];\\n  }\\n\\n  return value;\\n}\\n\\nfunction makeInt16(value) {\\n  return (new Int16Array([value]))[0];\\n}\\n\\nfunction getImmFormatDetails(formatVal) {\\n  // Remove optional indicator\\n  if (formatVal[formatVal.length - 1] === \\"?\\")\\n    formatVal = formatVal.substring(0, formatVal.length - 1);\\n\\n  if (formatVal.indexOf(\\"int\\") === -1) {\\n    if (formatVal.substr(0, 2) === \\"cc\\") {\\n      return {\\n        signed: false,\\n        bits: 4,\\n        shift: false,\\n      };\\n    }\\n\\n    return null; // Not an immediate\\n  }\\n\\n  let shift = 0;\\n  const shiftIndex = formatVal.indexOf(\\"shift\\");\\n  if (shiftIndex > 0)\\n    shift = formatVal.substr(shiftIndex).match(/\\\\d+/g);\\n\\n  return {\\n    signed: formatVal[0] !== \\"u\\",\\n    bits: parseInt(formatVal.match(/\\\\d+/g)),\\n    shift: shift,\\n  };\\n}\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/immediates.js?");\n\n/***/ }),\n\n/***/ "./src/index.js":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: parse, print */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse */ \\"./src/parse.js\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\"parse\\", function() { return _parse__WEBPACK_IMPORTED_MODULE_0__[\\"parse\\"]; });\\n\\n/* harmony import */ var _print__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./print */ \\"./src/print.js\\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \\"print\\", function() { return _print__WEBPACK_IMPORTED_MODULE_1__[\\"print\\"]; });\\n\\n\\n\\n\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/index.js?");\n\n/***/ }),\n\n/***/ "./src/opcodes.js":\n/*!************************!*\\\n  !*** ./src/opcodes.js ***!\n  \\************************/\n/*! exports provided: getOpcodeDetails, getValueBitLength, findMatch */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getOpcodeDetails\\", function() { return getOpcodeDetails; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getValueBitLength\\", function() { return getValueBitLength; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"findMatch\\", function() { return findMatch; });\\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regs */ \\"./src/regs.js\\");\\n/* harmony import */ var _bitstrings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bitstrings */ \\"./src/bitstrings.js\\");\\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./immediates */ \\"./src/immediates.js\\");\\n\\n\\n\\n\\nconst rs = \\"rs\\";\\nconst rt = \\"rt\\";\\nconst rd = \\"rd\\";\\nconst fs = \\"fs\\";\\nconst ft = \\"ft\\";\\nconst fd = \\"fd\\";\\nconst fr = \\"fr\\";\\nconst sa = \\"uint5\\";\\nconst uint5 = \\"uint5\\";\\nconst uint10 = \\"uint10\\";\\nconst int16 = \\"int16\\";\\nconst uint16 = \\"uint16\\";\\nconst uint20 = \\"uint20\\";\\nconst uint26 = \\"uint26\\";\\nconst uint26shift2 = \\"uint26shift2\\";\\nconst cc = \\"cc\\";\\nconst cond = \\"cond\\";\\nconst fmt = \\"fmt\\";\\nconst fmt3 = \\"fmt3\\";\\n\\nfunction getOpcodeDetails(opcode) {\\n  return opcodeDetails[opcode.toLowerCase()];\\n}\\n\\nconst _valueBitLengths = new Map();\\n\\nfunction getValueBitLength(str) {\\n  if (_valueBitLengths.has(str)) {\\n    return _valueBitLengths.get(str);\\n  }\\n\\n  const calculated = computeValueBitLength(str);\\n  _valueBitLengths.set(str, calculated);\\n  return calculated;\\n}\\n\\nfunction computeValueBitLength(str) {\\n  if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"isBinaryLiteral\\"])(str))\\n    return str.length;\\n\\n  str = str.replace(\\"?\\", \\"\\");\\n  switch (str) {\\n    case \\"cc\\":\\n    case \\"fmt3\\":\\n      return 3;\\n\\n    case \\"cond\\":\\n      return 4;\\n\\n    case \\"rs\\":\\n    case \\"rt\\":\\n    case \\"rd\\":\\n    case \\"fs\\":\\n    case \\"ft\\":\\n    case \\"fd\\":\\n    case \\"fr\\":\\n    case \\"sa\\":\\n    case \\"fmt\\":\\n      return 5;\\n  }\\n\\n  const immDetails = Object(_immediates__WEBPACK_IMPORTED_MODULE_2__[\\"getImmFormatDetails\\"])(str);\\n  if (immDetails) {\\n    return immDetails.bits;\\n  }\\n\\n  throw new Error(`Unrecongized format value: ${str}`);\\n}\\n\\n// returns name\\nfunction findMatch(inst) {\\n  let bestMatch = \\"\\";\\n  let bestMatchScore = 0;\\n  for (let opName in opcodeDetails) {\\n    const format = opcodeDetails[opName].format;\\n    const fmts = opcodeDetails[opName].fmts;\\n    const score = formatMatches(inst, format, fmts);\\n    if (score > bestMatchScore) {\\n      bestMatch = opName;\\n      bestMatchScore = score;\\n    }\\n  }\\n\\n  return bestMatch;\\n}\\n\\n// Returns number of literal bits matched, if the overall format matches.\\nfunction formatMatches(number, format, fmts) {\\n  let score = 0;\\n  let tempScore;\\n  let bitOffset = 0;\\n  for (let i = format.length - 1; i >= 0; i--) {\\n    let bitLength;\\n    let piece = format[i];\\n    if (Array.isArray(piece)) {\\n      let matchedOne = false;\\n      for (let j = 0; j < piece.length; j++) {\\n        tempScore = checkPiece(piece[j], number, bitOffset, fmts);\\n        if (tempScore >= 0) {\\n          matchedOne = true;\\n          score += tempScore;\\n          bitLength = getValueBitLength(piece[j]);\\n          break; // j\\n        }\\n      }\\n      if (!matchedOne)\\n        return 0;\\n    }\\n    else {\\n      tempScore = checkPiece(piece, number, bitOffset, fmts);\\n      if (tempScore >= 0) {\\n        score += tempScore;\\n        bitLength = getValueBitLength(piece);\\n      }\\n      else {\\n        return 0;\\n      }\\n    }\\n\\n    bitOffset += bitLength;\\n  }\\n\\n  return score;\\n}\\n\\nfunction checkPiece(piece, number, bitOffset, fmts) {\\n  if (!Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"isBinaryLiteral\\"])(piece)) {\\n    if (piece === fmt) {\\n      for (let i = 0; i < fmts.length; i++) {\\n        let fmtBitString = Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"padBitString\\"])(Object(_regs__WEBPACK_IMPORTED_MODULE_0__[\\"getFmtBits\\"])(fmts[i]).toString(2), 5);\\n        if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"compareBits\\"])(number, fmtBitString, bitOffset))\\n          return fmtBitString.length;\\n      }\\n      return -1;\\n    }\\n\\n    if (piece === fmt3) {\\n      for (let i = 0; i < fmts.length; i++) {\\n        let fmtBitString = Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"padBitString\\"])(Object(_regs__WEBPACK_IMPORTED_MODULE_0__[\\"getFmt3Bits\\"])(fmts[i]).toString(2), 3);\\n        if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"compareBits\\"])(number, fmtBitString, bitOffset))\\n          return fmtBitString.length;\\n      }\\n      return -1;\\n    }\\n\\n    return 0; // non-literal contributes nothing\\n  }\\n\\n  if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_1__[\\"compareBits\\"])(number, piece, bitOffset))\\n    return piece.length;\\n\\n  return -1;\\n}\\n\\nconst opcodeDetails = {\\n  \\"abs.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"000101\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  add: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000100000\\"],\\n    display: [rd, rs, rt],\\n  },\\n  \\"add.fmt\\": {\\n    format: [\\"010001\\", fmt, ft, fs, fd, \\"000000\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, ft],\\n  },\\n  addi: {\\n    format: [\\"001000\\", rs, rt, int16],\\n    display: [rt, rs, int16],\\n  },\\n  addiu: {\\n    format: [\\"001001\\", rs, rt, uint16],\\n    display: [rt, rs, uint16],\\n  },\\n  addu: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000100001\\"],\\n    display: [rd, rs, rt],\\n  },\\n  and: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000100100\\"],\\n    display: [rd, rs, rt],\\n  },\\n  andi: {\\n    format: [\\"001100\\", rs, rt, uint16],\\n    display: [rt, rs, uint16],\\n  },\\n  bc1f: {\\n    format: [\\"010001\\", \\"01000\\", [cc, \\"000\\"], \\"00\\", int16], // TODO shifting?\\n    display: [\\"cc?\\", int16], // offset\\n  },\\n  bc1fl: {\\n    format: [\\"010001\\", \\"01000\\", [cc, \\"000\\"], \\"10\\", int16],\\n    display: [\\"cc?\\", int16], // offset\\n  },\\n  bc1t: {\\n    format: [\\"010001\\", \\"01000\\", [cc, \\"000\\"], \\"01\\", int16],\\n    display: [\\"cc?\\", int16], // offset\\n  },\\n  bc1tl: {\\n    format: [\\"010001\\", \\"01000\\", [cc, \\"000\\"], \\"11\\", int16],\\n    display: [\\"cc?\\", int16], // offset\\n  },\\n  beq: {\\n    format: [\\"000100\\", rs, rt, uint16],\\n    display: [rs, rt, uint16], // offset\\n  },\\n  beql: {\\n    format: [\\"010100\\", rs, rt, uint16],\\n    display: [rs, rt, uint16], // offset\\n  },\\n  bgez: {\\n    format: [\\"000001\\", rs, \\"00001\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bgezal: {\\n    format: [\\"000001\\", rs, \\"10001\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bgezall: {\\n    format: [\\"000001\\", rs, \\"10011\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bgezl: {\\n    format: [\\"000001\\", rs, \\"00011\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bgtz: {\\n    format: [\\"000111\\", rs, \\"00000\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bgtzl: {\\n    format: [\\"010111\\", rs, \\"00000\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  blez: {\\n    format: [\\"000110\\", rs, \\"00000\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  blezl: {\\n    format: [\\"010110\\", rs, \\"00000\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bltz: {\\n    format: [\\"000001\\", rs, \\"00000\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bltzal: {\\n    format: [\\"000001\\", rs, \\"10000\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bltzall: {\\n    format: [\\"000001\\", rs, \\"10010\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bltzl: {\\n    format: [\\"000001\\", rs, \\"00010\\", uint16],\\n    display: [rs, uint16], // offset\\n  },\\n  bne: {\\n    format: [\\"000101\\", rs, rt, uint16],\\n    display: [rs, rt, uint16], // offset\\n  },\\n  bnel: {\\n    format: [\\"010101\\", rs, rt, uint16],\\n    display: [rs, rt, uint16], // offset\\n  },\\n  break: {\\n    format: [\\"000000\\", [uint20, \\"00000000000000000000\\"], \\"001101\\"],\\n    display: [\\"uint20?\\"],\\n  },\\n  \\"c.cond.fmt\\": {\\n    format: [\\"010001\\", fmt, ft, fs, [cc, \\"000\\"], \\"00\\", \\"11\\", cond],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [\\"cc?\\", fs, ft],\\n  },\\n  \\"ceil.l.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001010\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"ceil.w.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001110\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  cfc1: {\\n    format: [\\"010001\\", \\"00010\\", rt, fs, \\"00000000000\\"],\\n    display: [rt, fs],\\n  },\\n  ctc1: {\\n    format: [\\"010001\\", \\"00110\\", rt, fs, \\"00000000000\\"],\\n    display: [rt, fs],\\n  },\\n  cop0: {\\n    format: [\\"010000\\", uint26],\\n    display: [uint26], // cop_fun\\n  },\\n  cop1: {\\n    format: [\\"010001\\", uint26],\\n    display: [uint26], // cop_fun\\n  },\\n  cop2: {\\n    format: [\\"010010\\", uint26],\\n    display: [uint26], // cop_fun\\n  },\\n  cop3: {\\n    format: [\\"010011\\", uint26],\\n    display: [uint26], // cop_fun\\n  },\\n  \\"cvt.d.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"100001\\"],\\n    fmts: [\\"S\\", \\"W\\", \\"L\\"],\\n    display: [fd, fs],\\n  },\\n  \\"cvt.l.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"100101\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"cvt.s.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"100000\\"],\\n    fmts: [\\"D\\", \\"W\\", \\"L\\"],\\n    display: [fd, fs],\\n  },\\n  \\"cvt.w.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"100100\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  dadd: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000101100\\"],\\n    display: [rd, rs, rt],\\n  },\\n  daddi: {\\n    format: [\\"011000\\", rs, rt, int16],\\n    display: [rt, rs, int16],\\n  },\\n  daddiu: {\\n    format: [\\"011001\\", rs, rt, uint16],\\n    display: [rt, rs, uint16],\\n  },\\n  daddu: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000101101\\"],\\n    display: [rd, rs, rt],\\n  },\\n  ddiv: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000011110\\"],\\n    display: [rs, rt],\\n  },\\n  ddivu: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000011111\\"],\\n    display: [rs, rt],\\n  },\\n  div: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000011010\\"],\\n    display: [rs, rt],\\n  },\\n  \\"div.fmt\\": {\\n    format: [\\"010001\\", fmt, ft, fs, fd, \\"000011\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, ft],\\n  },\\n  divu: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000011011\\"],\\n    display: [rs, rt],\\n  },\\n  dmfc1: {\\n    format: [\\"010001\\", \\"00001\\", rt, fs, \\"00000000000\\"],\\n    display: [rt, fs],\\n  },\\n  dmult: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000011100\\"],\\n    display: [rs, rt],\\n  },\\n  dmultu: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000011101\\"],\\n    display: [rs, rt],\\n  },\\n  dmtc1: {\\n    format: [\\"010001\\", \\"00101\\", rt, fs, \\"00000000000\\"],\\n    display: [rt, fs],\\n  },\\n  dsll: {\\n    format: [\\"00000000000\\", rt, rd, sa, \\"111000\\"],\\n    display: [rd, rt, sa],\\n  },\\n  dsll32: {\\n    format: [\\"00000000000\\", rt, rd, sa, \\"111100\\"],\\n    display: [rd, rt, sa],\\n  },\\n  dsllv: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000010100\\"],\\n    display: [rd, rt, rs],\\n  },\\n  dsra: {\\n    format: [\\"00000000000\\", rt, rd, sa, \\"111011\\"],\\n    display: [rd, rt, sa],\\n  },\\n  dsra32: {\\n    format: [\\"00000000000\\", rt, rd, sa, \\"111111\\"],\\n    display: [rd, rt, sa],\\n  },\\n  dsrav: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000010111\\"],\\n    display: [rd, rt, rs],\\n  },\\n  dsrl: {\\n    format: [\\"00000000000\\", rt, rd, sa, \\"111010\\"],\\n    display: [rd, rt, sa],\\n  },\\n  dsrl32: {\\n    format: [\\"00000000000\\", rt, rd, sa, \\"111110\\"],\\n    display: [rd, rt, sa],\\n  },\\n  dsrlv: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000010110\\"],\\n    display: [rd, rt, rs],\\n  },\\n  dsub: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000101110\\"],\\n    display: [rd, rs, rt],\\n  },\\n  dsubu: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000101111\\"],\\n    display: [rd, rs, rt],\\n  },\\n  \\"floor.l.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001011\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"floor.w.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001111\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  j: {\\n    format: [\\"000010\\", uint26shift2],\\n    display: [uint26shift2],\\n  },\\n  jal: {\\n    format: [\\"000011\\", uint26shift2],\\n    display: [uint26shift2],\\n  },\\n  jalr: {\\n    format: [\\"000000\\", rs, \\"00000\\", [rd, \\"11111\\"], \\"00000\\", \\"001001\\"],\\n    display: [\\"rd?\\", rs],\\n  },\\n  jr: {\\n    format: [\\"000000\\", rs, \\"000000000000000\\", \\"001000\\"],\\n    display: [rs],\\n  },\\n  lb: {\\n    format: [\\"100000\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lbu: {\\n    format: [\\"100100\\", rs, rt, uint16],\\n    display: [rt, uint16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ld: {\\n    format: [\\"110111\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ldc1: {\\n    format: [\\"110101\\", rs, ft, int16],\\n    display: [ft, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ldc2: {\\n    format: [\\"110110\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ldl: {\\n    format: [\\"011010\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ldr: {\\n    format: [\\"011011\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ldxc1: {\\n    format: [\\"010011\\", rs, rt, \\"00000\\", fd, \\"000001\\"],\\n    display: [fd, rt, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lh: {\\n    format: [\\"100001\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lhu: {\\n    format: [\\"100101\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  ll: {\\n    format: [\\"110000\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lld: {\\n    format: [\\"110100\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lui: {\\n    format: [\\"001111\\", \\"00000\\", rt, uint16],\\n    display: [rt, uint16],\\n  },\\n  lw: {\\n    format: [\\"100011\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwc1: {\\n    format: [\\"110001\\", rs, ft, int16],\\n    display: [ft, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwc2: {\\n    format: [\\"110010\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwc3: {\\n    format: [\\"110011\\" ,rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwl: {\\n    format: [\\"100010\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwr: {\\n    format: [\\"100110\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwu: {\\n    format: [\\"100111\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  lwxc1: {\\n    format: [\\"010011\\", rs, rt, \\"00000\\", fd, \\"000000\\"],\\n    display: [fd, rt, \\"(\\", rs, \\")\\"],\\n  },\\n  \\"madd.fmt\\": {\\n    format: [\\"010011\\", fr, ft, fs, fd, \\"100\\", fmt3],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fr, fs, ft],\\n  },\\n  mfc1: {\\n    format: [\\"010001\\", \\"00000\\", rt, fs, \\"00000000000\\"],\\n    display: [rt, fs],\\n  },\\n  mfhi: {\\n    format: [\\"000000\\", \\"0000000000\\", rd, \\"00000\\", \\"010000\\"],\\n    display: [rd],\\n  },\\n  mflo: {\\n    format: [\\"000000\\", \\"0000000000\\", rd, \\"00000\\", \\"010010\\"],\\n    display: [rd],\\n  },\\n  \\"mov.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"000110\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  movf: {\\n    format: [\\"000000\\", rs, cc, \\"00\\", rd, \\"00000\\", \\"000001\\"],\\n    display: [rd, rs, cc],\\n  },\\n  \\"movf.fmt\\": {\\n    format: [\\"010001\\", fmt, cc, \\"00\\", fs, fd, \\"010001\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, cc],\\n  },\\n  movn: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"001011\\"],\\n    display: [rd, rs, rt],\\n  },\\n  \\"movn.fmt\\": {\\n    format: [\\"010001\\", fmt, rt, fs, fd, \\"010011\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, rt],\\n  },\\n  movt: {\\n    format: [\\"000000\\", rs, cc, \\"01\\", rd, \\"00000\\", \\"000001\\"],\\n    display: [rd, rs, cc],\\n  },\\n  \\"movt.fmt\\": {\\n    format: [\\"010001\\", fmt, cc, \\"01\\", fs, fd, \\"010001\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, cc],\\n  },\\n  movz: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"001010\\"],\\n    display: [rd, rs, rt],\\n  },\\n  \\"movz.fmt\\": {\\n    format: [\\"010001\\", fmt, rt, fs, fd, \\"010010\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, rt],\\n  },\\n  \\"msub.fmt\\": {\\n    format: [\\"010011\\", fr, ft, fs, fd, \\"101\\", fmt3],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fr, fs, ft],\\n  },\\n  mtc1: {\\n    format: [\\"010001\\", \\"00100\\", rt, fs, \\"00000000000\\"],\\n    display: [rt, fs],\\n  },\\n  mthi: {\\n    format: [\\"000000\\", rs, \\"000000000000000\\", \\"010001\\"],\\n    display: [rs],\\n  },\\n  mtlo: {\\n    format: [\\"000000\\", rs, \\"000000000000000\\", \\"010011\\"],\\n    display: [rs],\\n  },\\n  \\"mul.fmt\\": {\\n    format: [\\"010001\\", fmt, ft, fs, fd, \\"000010\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, ft],\\n  },\\n  mult: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000\\", \\"011000\\"],\\n    display: [rs, rt],\\n  },\\n  multu: {\\n    format: [\\"000000\\", rs, rt, \\"0000000000\\", \\"011001\\"],\\n    display: [rs, rt],\\n  },\\n  \\"neg.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"000111\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"nmadd.fmt\\": {\\n    format: [\\"010011\\", fr, ft, fs, fd, \\"110\\", fmt3],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fr, fs, ft],\\n  },\\n  \\"nmsub.fmt\\": {\\n    format: [\\"010011\\", fr, ft, fs, fd, \\"111\\", fmt3],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fr, fs, ft],\\n  },\\n  nop: {\\n    format: [\\"00000000000000000000000000000000\\"],\\n    display: [],\\n  },\\n  nor: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"100111\\"],\\n    display: [rd, rs, rt],\\n  },\\n  or: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"100101\\"],\\n    display: [rd, rs, rt],\\n  },\\n  ori: {\\n    format: [\\"001101\\", rs, rt, uint16],\\n    display: [rt, rs, uint16],\\n  },\\n  pref: {\\n    format: [\\"110011\\", rs, uint5, int16],\\n    display: [uint5, int16, \\"(\\", rs, \\")\\"], // hint, offset, base\\n  },\\n  prefx: {\\n    format: [\\"010011\\", rs, rt, uint5, \\"00000\\", \\"001111\\"],\\n    display: [uint5, rt, \\"(\\", rs, \\")\\"], // hint, index, base\\n  },\\n  \\"recip.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"010101\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"round.l.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001000\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"round.w.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001100\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"rsqrt.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"010110\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  sb: {\\n    format: [\\"101000\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sc: {\\n    format: [\\"111000\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  scd: {\\n    format: [\\"111100\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sd: {\\n    format: [\\"111111\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sdc1: {\\n    format: [\\"111101\\", rs, ft, int16],\\n    display: [ft, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sdc2: {\\n    format: [\\"111110\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sdl: {\\n    format: [\\"101100\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sdr: {\\n    format: [\\"101101\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sdxc1: {\\n    format: [\\"010011\\", rs, uint5, fs, \\"00000\\", \\"001001\\"],\\n    display: [fs, uint5, \\"(\\", rs, \\")\\"],\\n  },\\n  sh: {\\n    format: [\\"101001\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"], // offset\\n  },\\n  sll: {\\n    format: [\\"000000\\", \\"00000\\", rt, rd, sa, \\"000000\\"],\\n    display: [rd, rt, sa],\\n  },\\n  sllv: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"000100\\"],\\n    display: [rd, rt, rs],\\n  },\\n  slt: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"101010\\"],\\n    display: [rd, rs, rt],\\n  },\\n  slti: {\\n    format: [\\"001010\\", rs, rt, int16],\\n    display: [rt, rs, int16],\\n  },\\n  sltiu: {\\n    format: [\\"001011\\", rs, rt, uint16],\\n    display: [rt, rs, uint16],\\n  },\\n  sltu: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"101011\\"],\\n    display: [rd, rs, rt],\\n  },\\n  \\"sqrt.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"000100\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  sra: {\\n    format: [\\"000000\\", \\"00000\\", rt, rd, sa, \\"000011\\"],\\n    display: [rd, rt, sa],\\n  },\\n  srav: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"000111\\"],\\n    display: [rd, rt, rs],\\n  },\\n  srl: {\\n    format: [\\"000000\\", \\"00000\\", rt, rd, sa, \\"000010\\"],\\n    display: [rd, rt, sa],\\n  },\\n  srlv: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"000110\\"],\\n    display: [rd, rt, rs],\\n  },\\n  sub: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"100010\\"],\\n    display: [rd, rs, rt],\\n  },\\n  \\"sub.fmt\\": {\\n    format: [\\"010001\\", fmt, ft, fs, fd, \\"000001\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs, ft],\\n  },\\n  subu: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"100011\\"],\\n    display: [rd, rs, rt],\\n  },\\n  sw: {\\n    format: [\\"101011\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"],\\n  },\\n  swc1: {\\n    format: [\\"111001\\", rs, ft, int16],\\n    display: [ft, int16, \\"(\\", rs, \\")\\"],\\n  },\\n  swc2: {\\n    format: [\\"111010\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"],\\n  },\\n  swc3: {\\n    format: [\\"111011\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"],\\n  },\\n  swl: {\\n    format: [\\"101010\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"],\\n  },\\n  swr: {\\n    format: [\\"101110\\", rs, rt, int16],\\n    display: [rt, int16, \\"(\\", rs, \\")\\"],\\n  },\\n  swxc1: {\\n    format: [\\"010011\\", rs, uint5, fs, \\"00000\\", \\"001000\\"],\\n    display: [fs, uint5, \\"(\\", rs, \\")\\"],\\n  },\\n  sync: {\\n    format: [\\"000000\\", \\"000000000000000\\", \\"00000\\", \\"001111\\"],\\n    display: [],\\n  },\\n  syscall: {\\n    format: [\\"000000\\", [uint20, \\"00000000000000000000\\"], \\"001100\\"],\\n    display: [],\\n  },\\n  teq: {\\n    format: [\\"000000\\", rs, rt, uint10, \\"110100\\"],\\n    display: [rs, rt],\\n  },\\n  teqi: {\\n    format: [\\"000001\\", rs, \\"01100\\", int16],\\n    display: [rs, int16],\\n  },\\n  tge: {\\n    format: [\\"000000\\", rs, rt, uint10, \\"110000\\"],\\n    display: [rs, rt],\\n  },\\n  tgei: {\\n    format: [\\"000001\\", rs, \\"01000\\", int16],\\n    display: [rs, int16],\\n  },\\n  tgeiu: {\\n    format: [\\"000001\\", rs, \\"01001\\", uint16],\\n    display: [rs, uint16],\\n  },\\n  tgeu: {\\n    format: [\\"000000\\", rs, rt, uint10, \\"110001\\"],\\n    display: [rs, rt],\\n  },\\n  tlt: {\\n    format: [\\"000000\\", rs, rt, uint10, \\"110010\\"],\\n    display: [rs, rt],\\n  },\\n  tlti: {\\n    format: [\\"000001\\", rs, \\"01010\\", int16],\\n    display: [rs, int16],\\n  },\\n  tltiu: {\\n    format: [\\"000001\\", rs, \\"01011\\", uint16],\\n    display: [rs, uint16],\\n  },\\n  tltu: {\\n    format: [\\"000000\\", rs, rt, uint10, \\"110011\\"],\\n    display: [rs, rt],\\n  },\\n  tne: {\\n    format: [\\"000000\\", rs, rt, uint10, \\"110110\\"],\\n    display: [rs, rt],\\n  },\\n  tnei: {\\n    format: [\\"000001\\", rs, \\"01110\\", int16],\\n    display: [rs, int16],\\n  },\\n  \\"trunc.l.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001001\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  \\"trunc.w.fmt\\": {\\n    format: [\\"010001\\", fmt, \\"00000\\", fs, fd, \\"001101\\"],\\n    fmts: [\\"S\\", \\"D\\"],\\n    display: [fd, fs],\\n  },\\n  xor: {\\n    format: [\\"000000\\", rs, rt, rd, \\"00000\\", \\"100110\\"],\\n    display: [rd, rs, rt],\\n  },\\n  xori: {\\n    format: [\\"001110\\", rs, rt, uint16],\\n    display: [rt, rs, uint16],\\n  },\\n};\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/opcodes.js?");\n\n/***/ }),\n\n/***/ "./src/parse.js":\n/*!**********************!*\\\n  !*** ./src/parse.js ***!\n  \\**********************/\n/*! exports provided: parse */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"parse\\", function() { return parse; });\\n/* harmony import */ var _opcodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./opcodes */ \\"./src/opcodes.js\\");\\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./immediates */ \\"./src/immediates.js\\");\\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./regs */ \\"./src/regs.js\\");\\n/* harmony import */ var _regex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./regex */ \\"./src/regex.js\\");\\n/* harmony import */ var _bitstrings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bitstrings */ \\"./src/bitstrings.js\\");\\n\\n\\n\\n\\n\\n\\n/**\\n * Parses a string MIPS instruction, returning numeric machine code.\\n *\\n * With the `intermediate` option, this can also be used as a convenient base\\n * for an assembler. The object output with `intermediate` can be manipulated\\n * prior to calling `parse` with it again.\\n * @param {String|Array|Object} value MIPS instruction, or intermediate object format.\\n * @param {Object} opts Behavior options\\n * @param {Boolean} opts.intermediate: Output an object intermediate format instead of a number\\n * @returns {Number|Array|Object} Returns a numeric representation of the given\\n * MIPS instruction string.\\n * If multiple values are given (array) then multiple values are returned.\\n * When the `intermediate` option is passed, the return type is an object.\\n */\\nfunction parse(value, opts) {\\n  opts = _getFinalOpts(opts);\\n\\n  if (Array.isArray(value)) {\\n    return value.map(s => _parse(s, opts));\\n  }\\n  if (typeof value === \\"object\\") {\\n    return _parse(value, opts);\\n  }\\n  if (typeof value === \\"string\\") {\\n    const values = value.split(/\\\\r?\\\\n/).filter(v => !!(v.trim()));\\n    if (values.length === 1)\\n      return _parse(values[0], opts);\\n    else\\n      return values.map(s => _parse(s, opts));\\n  }\\n\\n  throw new Error(\\"Unexpected input to parse. Pass a string or array of strings.\\");\\n}\\n\\nfunction _getFinalOpts(givenOpts) {\\n  return Object.assign({\\n    intermediate: false,\\n  }, givenOpts);\\n}\\n\\nfunction _parse(value, opts) {\\n  let opcode, opcodeObj, values;\\n  if (typeof value === \\"string\\") {\\n    opcode = _regex__WEBPACK_IMPORTED_MODULE_3__[\\"getOpcode\\"](value);\\n    if (!opcode)\\n      throw new Error(`Could not parse opcode from ${value}`);\\n\\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getOpcodeDetails\\"])(opcode);\\n    if (!opcodeObj)\\n      throw new Error(`Opcode ${opcode} was not recognized`);\\n\\n    values = _parseValues(opcode, opcodeObj, value);\\n  }\\n  else if (typeof value === \\"object\\") {\\n    opcode = _regex__WEBPACK_IMPORTED_MODULE_3__[\\"getOpcode\\"](value.op);\\n    if (!opcode)\\n      throw new Error(\\"Object input to parse did not contain \'op\'\\");\\n\\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getOpcodeDetails\\"])(opcode);\\n    if (!opcodeObj)\\n      throw new Error(`Opcode ${opcode} was not recognized`);\\n\\n    values = value;\\n  }\\n\\n  if (opts.intermediate)\\n    return values;\\n\\n  return bitsFromFormat(opcodeObj.format, values);\\n}\\n\\nfunction _parseValues(opcode, opcodeObj, value) {\\n  let regex = _regex__WEBPACK_IMPORTED_MODULE_3__[\\"makeRegexForOpcode\\"](opcode, opcodeObj);\\n  let match = regex.exec(value);\\n  if (!match)\\n    throw new Error(`Could not parse instruction: ${value}`);\\n\\n  let values = {\\n    op: opcode\\n  };\\n\\n  if (opcode.indexOf(\\".fmt\\") !== -1 || opcode.indexOf(\\".cond\\") !== -1) {\\n    determineOpcodeValues(match[1], opcode, opcodeObj.fmts, opcodeObj.format, values);\\n  }\\n\\n  const display = opcodeObj.display;\\n  let matchIndex = 2; // 0 is whole match, 1 is opcode - skip both\\n  for (let i = 0; i < display.length; i++, matchIndex++) {\\n    const parsedVal = match[matchIndex];\\n    let displayEntry = display[i];\\n\\n    const optional = displayEntry.endsWith(\\"?\\");\\n    if (optional) {\\n      displayEntry = displayEntry.replace(\\"?\\", \\"\\");\\n    }\\n\\n    switch (displayEntry) {\\n      case \\"(\\":\\n      case \\")\\":\\n        matchIndex--; // Eh\\n        continue;\\n\\n      case \\"rs\\":\\n      case \\"rd\\":\\n      case \\"rt\\": {\\n        const tryReg = Object(_regs__WEBPACK_IMPORTED_MODULE_2__[\\"getRegBits\\"])(parsedVal);\\n        if (tryReg === undefined) {\\n          if (optional)\\n            continue;\\n\\n          throw new Error(`Unrecognized ${displayEntry} register ${parsedVal}`);\\n        }\\n        values[displayEntry] = tryReg;\\n        continue;\\n      }\\n\\n      case \\"fs\\":\\n      case \\"ft\\":\\n      case \\"fd\\":\\n      case \\"fr\\":\\n        values[displayEntry] = parseInt(parsedVal);\\n        if (isNaN(values[displayEntry]))\\n          throw new Error(`Unrecognized ${displayEntry} register ${parsedVal}`);\\n        continue;\\n    }\\n\\n    const immDetails = Object(_immediates__WEBPACK_IMPORTED_MODULE_1__[\\"getImmFormatDetails\\"])(displayEntry);\\n    if (immDetails) {\\n      let value;\\n      const immPieces = [match[matchIndex], match[matchIndex + 1], match[matchIndex + 2]];\\n\\n      if (!optional || immPieces[2]) {\\n        value = Object(_immediates__WEBPACK_IMPORTED_MODULE_1__[\\"parseImmediate\\"])(immPieces, immDetails.bits, immDetails.signed, immDetails.shift);\\n        if (isNaN(value)) {\\n          throw new Error(`Could not parse immediate ${immPieces.join(\\"\\")}`);\\n        }\\n        values[displayEntry] = value;\\n      }\\n\\n      matchIndex += 2;\\n\\n      continue;\\n    }\\n\\n    throw new Error(`Unrecognized opcode display entry ${displayEntry}`);\\n  }\\n\\n  return values;\\n}\\n\\nfunction bitsFromFormat(format, values) {\\n  let output = 0;\\n  let bitOffset = 0;\\n  for (let i = 0; i < format.length; i++) {\\n    let writeResult;\\n    let piece = format[i];\\n    let bitLength = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getValueBitLength\\"])(Array.isArray(piece) ? piece[0] : piece);\\n    output = (output << bitLength) >>> 0;\\n    if (Array.isArray(piece)) {\\n      for (let j = 0; j < piece.length; j++) {\\n        writeResult = writeBitsForPiece(piece[j], output, values);\\n        if (writeResult.wrote) {\\n          output = writeResult.output;\\n          break; // j\\n        }\\n      }\\n    }\\n    else {\\n      writeResult = writeBitsForPiece(piece, output, values);\\n      if (writeResult.wrote) {\\n        output = writeResult.output;\\n      }\\n    }\\n\\n    bitOffset += bitLength;\\n  }\\n\\n  if (bitOffset != 32)\\n    throw new Error(\\"Incorrect number of bits written for format \\" + format);\\n\\n  return output;\\n}\\n\\nfunction writeBitsForPiece(piece, output, values) {\\n  let wrote = false;\\n  if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_4__[\\"isBinaryLiteral\\"])(piece)) {\\n    output |= Object(_bitstrings__WEBPACK_IMPORTED_MODULE_4__[\\"makeBitMaskFromString\\"])(piece);\\n    wrote = true;\\n  }\\n  else if (values[piece] !== undefined) {\\n    let value = values[piece] & Object(_bitstrings__WEBPACK_IMPORTED_MODULE_4__[\\"makeBitMask\\"])(Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getValueBitLength\\"])(piece));\\n    wrote = true;\\n    output |= value;\\n  }\\n\\n  return {\\n    wrote: wrote,\\n    output: output >>> 0,\\n  };\\n}\\n\\nfunction determineOpcodeValues(givenOpcode, genericOpcode, allowedFormats, format, values) {\\n  const givenPieces = givenOpcode.split(\\".\\");\\n  const genericPieces = genericOpcode.split(\\".\\");\\n  if (givenPieces.length !== genericPieces.length)\\n    throw new Error(`Given opcode ${givenOpcode} does not have all pieces (${genericOpcode})`);\\n\\n  for (let i = 0; i < genericPieces.length; i++) {\\n    const genericPiece = genericPieces[i];\\n\\n    if (genericPiece === \\"fmt\\" || genericPiece === \\"ftm3\\") {\\n      if (allowedFormats.indexOf(givenPieces[i].toUpperCase()) === -1)\\n        throw new Error(`Format ${givenPieces[i]} is not allowed for ${genericPiece}. Allowed values are ${allowedFormats}`);\\n\\n      if (genericPiece === \\"fmt\\")\\n        values[\\"fmt\\"] = Object(_regs__WEBPACK_IMPORTED_MODULE_2__[\\"getFmtBits\\"])(givenPieces[i]);\\n      else if (genericPiece === \\"fmt3\\")\\n        values[\\"fmt3\\"] = Object(_regs__WEBPACK_IMPORTED_MODULE_2__[\\"getFmt3Bits\\"])(givenPieces[i]);\\n    }\\n\\n    if (genericPiece === \\"cond\\")\\n      values[\\"cond\\"] = Object(_regs__WEBPACK_IMPORTED_MODULE_2__[\\"getCondBits\\"])(givenPieces[i]);\\n  }\\n}\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/parse.js?");\n\n/***/ }),\n\n/***/ "./src/print.js":\n/*!**********************!*\\\n  !*** ./src/print.js ***!\n  \\**********************/\n/*! exports provided: print */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"print\\", function() { return print; });\\n/* harmony import */ var _opcodes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./opcodes */ \\"./src/opcodes.js\\");\\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./regs */ \\"./src/regs.js\\");\\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./immediates */ \\"./src/immediates.js\\");\\n/* harmony import */ var _bitstrings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bitstrings */ \\"./src/bitstrings.js\\");\\n\\n\\n\\n\\n\\n/**\\n * Prints a string representation of a MIPS instruction.\\n *\\n * With the `intermediate` option, this can also be used as a convenient base\\n * for a disassembler. The object output with `intermediate` can be manipulated\\n * prior to calling `print` with it again.\\n * @param {Number|Array|ArrayBuffer|DataView|Object} inst MIPS instruction, or intermediate object format.\\n * @param {Object} opts Behavior options\\n * @param {String} opts.casing \\"toUpperCase\\" (default), \\"toLowerCase\\"\\n * @param {Boolean} opts.commas True to separate values by commas\\n * @param {Boolean} opts.include$ True to prefix registers with dollar sign\\n * @param {Boolean} opts.intermediate: Output an object intermediate format instead of a string\\n * @param {Number} opts.numBase Number format. 16 (hex, default), 10 (decimal)\\n * @returns {String|Array|Object} Returns a string representation of the given\\n * MIPS instruction code(s).\\n * If multiple values are given (array) then multiple values are returned.\\n * When the `intermediate` option is passed, the return type is an object.\\n */\\nfunction print(inst, opts) {\\n  opts = _getFinalOpts(opts);\\n\\n  if (Array.isArray(inst))\\n    return inst.map(i => _print(i, opts));\\n\\n  const isArrayBuffer = inst instanceof ArrayBuffer;\\n  if (isArrayBuffer || inst instanceof DataView) {\\n    const dataView = isArrayBuffer ? new DataView(inst) : inst;\\n    const result = [];\\n    for (let i = 0; i < dataView.byteLength; i += 4) {\\n      result.push(_print(dataView.getUint32(i), opts));\\n    }\\n    return result;\\n  }\\n\\n  const inputType = typeof inst;\\n  if (inputType === \\"number\\" || inputType === \\"object\\")\\n    return _print(inst, opts);\\n\\n  throw new Error(\\"Unexpected input to print.\\");\\n}\\n\\nfunction _getFinalOpts(givenOpts) {\\n  return Object.assign({\\n    casing: \\"toUpperCase\\",\\n    commas: false,\\n    include$: false,\\n    intermediate: false,\\n    numBase: 16\\n  }, givenOpts);\\n}\\n\\nfunction _print(inst, opts) {\\n  let opcodeObj, opName, values;\\n  if (typeof inst === \\"number\\") {\\n    opName = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"findMatch\\"])(inst);\\n    if (!opName)\\n      throw new Error(\\"Unrecognized instruction\\");\\n\\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getOpcodeDetails\\"])(opName);\\n\\n    values = _extractValues(inst, opcodeObj.format);\\n    values.op = opName;\\n  }\\n  else if (typeof inst === \\"object\\") {\\n    if (!inst.op)\\n      throw new Error(\\"Instruction object did not contain op\\");\\n\\n    opcodeObj = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getOpcodeDetails\\"])(inst.op);\\n\\n    values = inst;\\n  }\\n  else\\n    throw new Error(`Unexpected value ${inst}`);\\n\\n  if (!opcodeObj)\\n    throw new Error(\\"Invalid opcode\\");\\n\\n  if (opts.intermediate)\\n    return values;\\n\\n  return _printValues(values, opcodeObj, opts);\\n}\\n\\nfunction _printValues(values, opcodeObj, opts) {\\n  let result = _formatOpcode(values, opts);\\n\\n  function _getRegName(displayEntry) {\\n    switch (displayEntry) {\\n      case \\"rs\\":\\n      case \\"rt\\":\\n      case \\"rd\\":\\n        return Object(_regs__WEBPACK_IMPORTED_MODULE_1__[\\"getRegName\\"])(values[displayEntry]);\\n\\n      case \\"fs\\":\\n      case \\"ft\\":\\n      case \\"fd\\":\\n        return Object(_regs__WEBPACK_IMPORTED_MODULE_1__[\\"getFloatRegName\\"])(values[displayEntry]);\\n    }\\n  }\\n\\n  const display = opcodeObj.display;\\n  for (let i = 0; i < display.length; i++) {\\n    let displayEntry = display[i];\\n\\n    if (displayEntry.endsWith(\\"?\\")) {\\n      displayEntry = displayEntry.replace(\\"?\\", \\"\\");\\n      if (values[displayEntry] === undefined)\\n        continue; // Optional value, not set.\\n    }\\n\\n    let value = values[displayEntry];\\n    if (value === undefined && displayEntry !== \\"(\\" && displayEntry !== \\")\\") {\\n      throw new Error(`Expected ${displayEntry} value, got undefined`);\\n    }\\n\\n    let addComma = opts.commas;\\n\\n    switch (displayEntry) {\\n      case \\"rs\\":\\n      case \\"rt\\":\\n      case \\"rd\\":\\n      case \\"fs\\":\\n      case \\"ft\\":\\n      case \\"fd\\":\\n        if (!result.endsWith(\\"(\\"))\\n          result += \\" \\";\\n        result += _formatReg(_getRegName(displayEntry), opts);\\n        break;\\n\\n      case \\"(\\":\\n      case \\")\\":\\n        addComma = false;\\n        if (result.endsWith(\\",\\"))\\n          result = result.slice(0, -1); // Lop off comma, since we are involved in a parenthesis open/close\\n\\n        result += displayEntry;\\n        break;\\n    }\\n\\n    const immDetails = Object(_immediates__WEBPACK_IMPORTED_MODULE_2__[\\"getImmFormatDetails\\"])(displayEntry);\\n    if (immDetails) {\\n      if (!result.endsWith(\\"(\\"))\\n        result += \\" \\";\\n\\n      if (immDetails.signed && immDetails.bits === 16) {\\n        value = Object(_immediates__WEBPACK_IMPORTED_MODULE_2__[\\"makeInt16\\"])(value);\\n      }\\n      if (immDetails.shift) {\\n        value = value << immDetails.shift;\\n      }\\n\\n      result += _formatNumber(value, opts);\\n    }\\n\\n    if (addComma && (i !== display.length - 1) && !result.endsWith(\\",\\")) {\\n      result += \\",\\";\\n    }\\n  }\\n\\n  return result.trim();\\n}\\n\\nfunction _extractValues(inst, format) {\\n  let values = {};\\n  for (let i = format.length - 1; i >= 0; i--) {\\n    let value, bitLength;\\n    let piece = format[i];\\n    if (Array.isArray(piece)) {\\n      for (let j = piece.length - 1; j >= 0; j--) {\\n        bitLength = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getValueBitLength\\"])(piece[j]);\\n        value = inst & Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__[\\"makeBitMask\\"])(bitLength);\\n\\n        if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__[\\"isBinaryLiteral\\"])(piece[j])) {\\n          if (piece[j] === Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__[\\"padBitString\\"])(value.toString(2), bitLength)) {\\n            piece = piece[j];\\n            break;\\n          }\\n        }\\n        else {\\n          piece = piece[j];\\n          break;\\n        }\\n      }\\n    }\\n    else {\\n      bitLength = Object(_opcodes__WEBPACK_IMPORTED_MODULE_0__[\\"getValueBitLength\\"])(piece);\\n      value = inst & Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__[\\"makeBitMask\\"])(bitLength);\\n    }\\n\\n    if (Object(_bitstrings__WEBPACK_IMPORTED_MODULE_3__[\\"isBinaryLiteral\\"])(piece)) {\\n      inst >>>= bitLength;\\n      continue;\\n    }\\n\\n    values[piece] = value;\\n\\n    inst >>>= bitLength;\\n  }\\n\\n  return values;\\n}\\n\\nfunction _formatNumber(num, opts) {\\n  if (num === 0)\\n    return num.toString(opts.numBase);\\n\\n  let value = \\"\\";\\n  if (num < 0)\\n    value += \\"-\\";\\n\\n  if (opts.numBase === 16)\\n    value += \\"0x\\";\\n  else if (opts.numBase === 8)\\n    value += \\"0o\\";\\n  else if (opts.numBase === 2)\\n    value += \\"0b\\";\\n\\n  value += _applyCasing(Math.abs(num).toString(opts.numBase), opts.casing);\\n  return value;\\n}\\n\\nfunction _formatReg(regStr, opts) {\\n  let value = \\"\\";\\n  if (opts.include$)\\n    value += \\"$\\";\\n  value += _applyCasing(regStr, opts.casing);\\n  return value;\\n}\\n\\nfunction _formatOpcode(values, opts) {\\n  const pieces = values.op.split(\\".\\");\\n  for (let i = 0; i < pieces.length; i++) {\\n    if (pieces[i] === \\"fmt\\") {\\n      if (values.hasOwnProperty(\\"fmt3\\"))\\n        pieces[i] = Object(_regs__WEBPACK_IMPORTED_MODULE_1__[\\"getFmt3Name\\"])(values[\\"fmt3\\"]);\\n      else if (values.hasOwnProperty(\\"fmt\\"))\\n        pieces[i] = Object(_regs__WEBPACK_IMPORTED_MODULE_1__[\\"getFmtName\\"])(values[\\"fmt\\"]);\\n      else\\n        throw new Error(\\"Format value not available\\");\\n    }\\n    else if (pieces[i] === \\"cond\\") {\\n      if (values.hasOwnProperty(\\"cond\\"))\\n        pieces[i] = Object(_regs__WEBPACK_IMPORTED_MODULE_1__[\\"getCondName\\"])(values[\\"cond\\"]);\\n      else\\n        throw new Error(\\"Condition value not available\\");\\n    }\\n  }\\n  let opcode = pieces.join(\\".\\");\\n\\n  return _applyCasing(opcode, opts.casing);\\n}\\n\\nfunction _applyCasing(value, casing) {\\n  switch (casing) {\\n    case \\"toLowerCase\\":\\n      return value.toLowerCase();\\n\\n    case \\"toUpperCase\\":\\n    default:\\n      return value.toUpperCase();\\n  }\\n}\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/print.js?");\n\n/***/ }),\n\n/***/ "./src/regex.js":\n/*!**********************!*\\\n  !*** ./src/regex.js ***!\n  \\**********************/\n/*! exports provided: getOpcode, makeRegexForOpcode, isReg, isFloatReg */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getOpcode\\", function() { return getOpcode; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"makeRegexForOpcode\\", function() { return makeRegexForOpcode; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"isReg\\", function() { return isReg; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"isFloatReg\\", function() { return isFloatReg; });\\n/* harmony import */ var _regs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regs */ \\"./src/regs.js\\");\\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./immediates */ \\"./src/immediates.js\\");\\n\\n\\n\\nconst opRegex = \\"([A-Za-z0-3.]+)\\";\\nconst immRegex = \\"(-)?0?([xbo]?)([A-Fa-f0-9]+)\\";\\nconst regRegex = \\"\\\\\\\\$?(\\\\\\\\w+)\\";\\nconst floatRegRegex = \\"\\\\\\\\$?[Ff]([0-9]+)\\";\\n\\nconst opcodeRegex = new RegExp(\\"^\\\\\\\\s*\\" + opRegex);\\n\\nconst _regexCache = Object.create(null);\\n\\n// Gets the op string from a given entire instruction.\\n// This is a general form (.fmt rather than .S, .D, etc.)\\nfunction getOpcode(str) {\\n  const match = opcodeRegex.exec(str);\\n  if (match) {\\n    const pieces = match[1].split(\\".\\"); // Could be .fmt, .cond.fmt, etc\\n    if (pieces.length === 1)\\n      return pieces[0].toLowerCase();\\n\\n    // Loop from the end, as the end has the .fmt for tricky things like .D.W\\n    let result = \\"\\";\\n    let foundFmt = false;\\n    let foundCond = false;\\n    for (let i = pieces.length - 1; i > 0; i--) {\\n      let piece = pieces[i];\\n      if (!foundFmt) {\\n        if (piece === \\"fmt\\" || Object(_regs__WEBPACK_IMPORTED_MODULE_0__[\\"isFmtString\\"])(piece)) {\\n          foundFmt = true;\\n          piece = \\"fmt\\";\\n        }\\n      }\\n\\n      if (!foundCond) {\\n        if (Object(_regs__WEBPACK_IMPORTED_MODULE_0__[\\"isCondString\\"])(piece)) {\\n          foundCond = true;\\n          piece = \\"cond\\";\\n        }\\n      }\\n\\n      result = \\".\\" + piece + result;\\n    }\\n\\n    return (pieces[0] + result).toLowerCase();\\n  }\\n  return null;\\n}\\n\\nfunction makeRegexForOpcode(opcode, opcodeObj) {\\n  if (_regexCache[opcode]) {\\n    return _regexCache[opcode];\\n  }\\n\\n  const parts = [opRegex];\\n  const display = opcodeObj.display;\\n  for (let i = 0; i < display.length; i++) {\\n    const part = display[i];\\n    const optional = part.endsWith(\\"?\\");\\n\\n    let regexPart = \\"\\";\\n    if (optional)\\n      regexPart += \\"(?:[,\\\\\\\\s]+\\";\\n\\n    if (display[i + 1] === \\"(\\") {\\n      if (optional)\\n        throw new Error(\\"Not prepared to generate optional regex with parenthesis\\");\\n\\n      if (display[i + 3] !== \\")\\")\\n        throw new Error(\\"Not prepared to generate regex for multiple values in parenthesis\\"); // Or no closing paren\\n\\n      regexPart += makeParenthesisRegex(getRegexForPart(part), getRegexForPart(display[i + 2]));\\n      i = i + 3;\\n    }\\n    else {\\n      regexPart += getRegexForPart(part);\\n    }\\n\\n    if (optional)\\n      regexPart += \\")?\\";\\n\\n    parts.push(regexPart);\\n  }\\n\\n  let regexStr =\\n    \\"^\\\\\\\\s*\\" +\\n    parts.reduce((str, next, index) => {\\n      if (index === 0 || partIsOptional(next))\\n        return str + next;\\n\\n      return str + \\"[,\\\\\\\\s]+\\" + next;\\n    }, \\"\\") +\\n    \\"\\\\\\\\s*$\\";\\n\\n  const regex = new RegExp(regexStr);\\n  _regexCache[opcode] = regex;\\n  return regex;\\n}\\n\\nfunction getRegexForPart(part) {\\n  if (isReg(part))\\n    return regRegex;\\n  if (isFloatReg(part))\\n    return floatRegRegex;\\n\\n  if (Object(_immediates__WEBPACK_IMPORTED_MODULE_1__[\\"getImmFormatDetails\\"])(part))\\n    return immRegex;\\n\\n  throw new Error(`Unrecognized display entry ${part}`);\\n}\\n\\nfunction makeParenthesisRegex(regex1, regex2) {\\n  return regex1 + \\"\\\\\\\\s*\\" + \\"\\\\\\\\(?\\" + regex2 + \\"\\\\\\\\)?\\";\\n}\\n\\nfunction partIsOptional(partStr) {\\n  return partStr.startsWith(\\"(?:\\");\\n}\\n\\nfunction isReg(entry) {\\n  if (!entry)\\n    return false;\\n\\n  switch (entry.substr(0, 2)) {\\n    case \\"rs\\":\\n    case \\"rt\\":\\n    case \\"rd\\":\\n      return true;\\n  }\\n  return false;\\n}\\n\\nfunction isFloatReg(entry) {\\n  if (!entry)\\n    return false;\\n\\n  switch (entry.substr(0, 2)) {\\n    case \\"fs\\":\\n    case \\"ft\\":\\n    case \\"fd\\":\\n      return true;\\n  }\\n  return false;\\n}\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/regex.js?");\n\n/***/ }),\n\n/***/ "./src/regs.js":\n/*!*********************!*\\\n  !*** ./src/regs.js ***!\n  \\*********************/\n/*! exports provided: getRegBits, getRegName, getFloatRegName, getFmtBits, getFmtName, getFmt3Bits, getFmt3Name, isFmtString, getCondBits, getCondName, isCondString */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getRegBits\\", function() { return getRegBits; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getRegName\\", function() { return getRegName; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getFloatRegName\\", function() { return getFloatRegName; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getFmtBits\\", function() { return getFmtBits; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getFmtName\\", function() { return getFmtName; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getFmt3Bits\\", function() { return getFmt3Bits; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getFmt3Name\\", function() { return getFmt3Name; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"isFmtString\\", function() { return isFmtString; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getCondBits\\", function() { return getCondBits; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"getCondName\\", function() { return getCondName; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\"isCondString\\", function() { return isCondString; });\\nconst regs = {\\n  r0: 0,\\n  zero: 0,\\n  at: 1,\\n  v0: 2,\\n  v1: 3,\\n  a0: 4,\\n  a1: 5,\\n  a2: 6,\\n  a3: 7,\\n  t0: 8,\\n  t1: 9,\\n  t2: 10,\\n  t3: 11,\\n  t4: 12,\\n  t5: 13,\\n  t6: 14,\\n  t7: 15,\\n  s0: 16,\\n  s1: 17,\\n  s2: 18,\\n  s3: 19,\\n  s4: 20,\\n  s5: 21,\\n  s6: 22,\\n  s7: 23,\\n  t8: 24,\\n  t9: 25,\\n  k0: 26,\\n  k1: 27,\\n  gp: 28,\\n  sp: 29,\\n  fp: 30,\\n  ra: 31\\n};\\n\\nfunction getRegBits(reg) {\\n  if (!reg)\\n    return undefined;\\n  return regs[reg.toLowerCase()];\\n}\\n\\nfunction getRegName(bits) {\\n  for (let name in regs) {\\n    if (regs[name] === bits)\\n      return name;\\n  }\\n  return \\"\\";\\n}\\n\\nfunction getFloatRegName(bits) {\\n  if (typeof bits !== \\"number\\")\\n    throw new Error(\\"getFloatRegName encountered non-number\\");\\n\\n  return \\"F\\" + bits;\\n}\\n\\nconst fmts = {\\n  S: 16,\\n  D: 17,\\n  W: 20,\\n  L: 21,\\n};\\n\\nfunction getFmtBits(fmtStr) {\\n  return fmts[fmtStr.toUpperCase()];\\n}\\n\\nfunction getFmtName(bits) {\\n  for (let name in fmts) {\\n    if (fmts[name] === bits)\\n      return name;\\n  }\\n  return \\"\\";\\n}\\n\\nconst fmt3s = {\\n  S: 0,\\n  D: 1,\\n  W: 4,\\n  L: 5,\\n};\\n\\nfunction getFmt3Bits(fmtStr) {\\n  return fmt3s[fmtStr.toUpperCase()];\\n}\\n\\nfunction getFmt3Name(bits) {\\n  for (let name in fmt3s) {\\n    if (fmt3s[name] === bits)\\n      return name;\\n  }\\n  return \\"\\";\\n}\\n\\nfunction isFmtString(fmtStr) {\\n  return fmts.hasOwnProperty(fmtStr.toUpperCase()) || fmt3s.hasOwnProperty(fmtStr.toUpperCase());\\n}\\n\\nconst conds = {\\n  F: 0,\\n  UN: 1,\\n  EQ: 2,\\n  UEQ: 3,\\n  OLT: 4,\\n  ULT: 5,\\n  OLE: 6,\\n  ULE: 7,\\n  SF: 8,\\n  NGLE: 9,\\n  SEQ: 10,\\n  NGL: 11,\\n  LT: 12,\\n  NGE: 13,\\n  LE: 14,\\n  NGT: 15,\\n};\\n\\nfunction getCondBits(condStr) {\\n  return conds[condStr.toUpperCase()];\\n}\\n\\nfunction getCondName(bits) {\\n  for (let name in conds) {\\n    if (conds[name] === bits)\\n      return name;\\n  }\\n  return \\"\\";\\n}\\n\\nfunction isCondString(condStr) {\\n  return conds.hasOwnProperty(condStr.toUpperCase());\\n}\\n\\n\\n//# sourceURL=webpack://MIPSInst/./src/regs.js?");\n\n/***/ })\n\n/******/ });\n});\n\n//# sourceURL=webpack://MIPSAssem/./node_modules/mips-inst/dist/mipsinst.js?')},"./src/assembler.ts":function srcAssemblerTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assemble", function() { return assemble; });\n/* harmony import */ var mips_inst__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mips-inst */ "./node_modules/mips-inst/dist/mipsinst.js");\n/* harmony import */ var mips_inst__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mips_inst__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n/* harmony import */ var _directives__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directives */ "./src/directives.ts");\n/* harmony import */ var _labels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./labels */ "./src/labels.ts");\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./symbols */ "./src/symbols.ts");\n/* harmony import */ var _expressions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./expressions */ "./src/expressions.ts");\n/* harmony import */ var _conditionals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./conditionals */ "./src/conditionals.ts");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./state */ "./src/state.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./errors */ "./src/errors.ts");\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n\n\n\n\n\n\n\n\n\n/**\n * Assembles the given input instructions.\n * @param input\n * @param opts\n */\nfunction assemble(input, opts) {\n    opts = opts || {};\n    var arr = normalizeInput(input);\n    var state = Object(_state__WEBPACK_IMPORTED_MODULE_7__["makeNewAssemblerState"])(opts);\n    var outStrs = [];\n    // First pass, calculate label positions.\n    // Not using `arr.map` because `arr` changes mid-processing.\n    var arrNew = [];\n    for (var i = 0; i < arr.length; i++) {\n        var line = arr[i];\n        state.line = line;\n        if (shouldSkipCurrentInstruction(state)) {\n            if (line) {\n                arrNew.push(line);\n            }\n            continue;\n        }\n        line = processLabelsOnCurrentLine(state);\n        var directive = Object(_directives__WEBPACK_IMPORTED_MODULE_2__["getDirectiveToRun"])(state);\n        if (directive) {\n            Object(_expressions__WEBPACK_IMPORTED_MODULE_5__["parseExpressionsOnCurrentLine"])(state);\n            Object(_directives__WEBPACK_IMPORTED_MODULE_2__["handleDirective"])(state, directive);\n            line = state.line; // Directive may change the line.\n        }\n        else {\n            // If !line, then only labels were on the line.\n            if (line) {\n                state.outIndex += 4;\n            }\n        }\n        if (line) {\n            arrNew.push(line);\n        }\n        if ("linesToInsert" in state && state.linesToInsert) {\n            var linesToInsert = normalizeInput(state.linesToInsert);\n            arr.splice.apply(arr, __spreadArrays([i + 1, 0], linesToInsert));\n            state.linesToInsert = null;\n        }\n    }\n    ;\n    arr = arrNew;\n    state.buffer = opts.buffer || new ArrayBuffer(state.outIndex);\n    state.dataView = new DataView(state.buffer);\n    state.memPos = 0;\n    state.outIndex = 0;\n    state.currentPass = _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].secondPass;\n    // Second pass, assemble!\n    arr.forEach(function (line) {\n        state.line = line;\n        state.lineExpressions = [];\n        state.evaluatedLineExpressions = [];\n        if (shouldSkipCurrentInstruction(state))\n            return line;\n        var directive = Object(_directives__WEBPACK_IMPORTED_MODULE_2__["getDirectiveToRun"])(state);\n        if (directive) {\n            Object(_expressions__WEBPACK_IMPORTED_MODULE_5__["evaluateExpressionsOnCurrentLine"])(state);\n            Object(_directives__WEBPACK_IMPORTED_MODULE_2__["handleDirective"])(state, directive);\n            return;\n        }\n        // Start a new "area" if we hit a global symbol boundary.\n        var globalSymbol = Object(_symbols__WEBPACK_IMPORTED_MODULE_4__["getSymbolByValue"])(state, state.memPos + state.outIndex);\n        if (globalSymbol !== null) {\n            state.currentLabel = globalSymbol;\n        }\n        // Apply any built-in functions, symbols.\n        line = state.line = Object(_expressions__WEBPACK_IMPORTED_MODULE_5__["evaluateExpressionsOnCurrentLine"])(state);\n        if (opts.text)\n            outStrs.push(line);\n        // At this point, we should be able to parse the instruction.\n        var inst;\n        try {\n            inst = Object(mips_inst__WEBPACK_IMPORTED_MODULE_0__["parse"])(line);\n        }\n        catch (e) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_8__["throwError"])(e, state);\n            return;\n        }\n        state.dataView.setUint32(state.outIndex, inst);\n        state.outIndex += 4;\n    });\n    if (state.ifElseStack.length) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_8__["throwError"])("An if directive was used without an endif directive", state);\n    }\n    if (state.staticSymbolIndices[0] !== 0) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_8__["throwError"])("A beginfile directive was used without an endfile directive", state);\n    }\n    if (opts.text)\n        return outStrs;\n    return state.buffer;\n}\n/** Tests if the current state deems we shouldn\'t execute the current line. */\nfunction shouldSkipCurrentInstruction(state) {\n    if (state.ifElseStack.length) {\n        var ifElseState = state.ifElseStack[state.ifElseStack.length - 1];\n        return !(ifElseState & _conditionals__WEBPACK_IMPORTED_MODULE_6__["IfElseStateFlags"].ExecutingBlock)\n            && !Object(_directives__WEBPACK_IMPORTED_MODULE_2__["isConditionalDirective"])(state.line);\n    }\n    return false;\n}\nfunction processLabelsOnCurrentLine(state) {\n    var parsedLabel;\n    while (parsedLabel = Object(_labels__WEBPACK_IMPORTED_MODULE_3__["parseGlobalLabel"])(state)) {\n        state.line = state.line.substr(parsedLabel.length + 1).trim();\n    }\n    return state.line;\n}\nfunction normalizeInput(input) {\n    var arr = _ensureArray(input);\n    arr = arr.filter(function (s) { return typeof s === "string"; });\n    arr = _stripComments(arr);\n    arr = arr.map(function (s) { return s.trim(); });\n    arr = arr.filter(Boolean);\n    return arr;\n}\n/**\n * Strips single line ; or // comments.\n * This isn\'t perfect, but it does try to detect cases where the comment\n * characters are within a quoted string.\n */\nfunction _stripComments(input) {\n    var withinBlockComment = false;\n    var lines = input.map(function (line) {\n        if (withinBlockComment) {\n            // The only thing that can break us out is the closing block comment.\n            var blockCommentEndIndex = line.indexOf("*/");\n            if (blockCommentEndIndex >= 0) {\n                line = line.substr(blockCommentEndIndex + 2);\n                withinBlockComment = false;\n            }\n        }\n        if (withinBlockComment) {\n            return "";\n        }\n        var blockCommentIndex = line.indexOf("/*");\n        while (blockCommentIndex >= 0) {\n            if (!_appearsSurroundedByQuotes(line, blockCommentIndex)) {\n                var blockCommentEndIndex = line.indexOf("*/", blockCommentIndex + 2);\n                if (blockCommentEndIndex >= 0) {\n                    line = line.substr(0, blockCommentIndex) + line.substr(blockCommentEndIndex + 2);\n                }\n                else {\n                    line = line.substr(0, blockCommentIndex);\n                    withinBlockComment = true;\n                    break;\n                }\n            }\n            else {\n                blockCommentIndex++; // Avoid infinite loop\n            }\n            blockCommentIndex = line.indexOf("/*", blockCommentIndex);\n        }\n        var semicolonIndex = line.indexOf(";");\n        while (semicolonIndex >= 0) {\n            if (!_appearsSurroundedByQuotes(line, semicolonIndex)) {\n                line = line.substr(0, semicolonIndex);\n                // This invalidates any block comment we found earlier this iteration.\n                withinBlockComment = false;\n                break;\n            }\n            semicolonIndex = line.indexOf(";", semicolonIndex + 1);\n        }\n        var slashesIndex = line.indexOf("//");\n        while (slashesIndex >= 0) {\n            if (!_appearsSurroundedByQuotes(line, slashesIndex)) {\n                line = line.substr(0, slashesIndex);\n                // This invalidates any block comment we found earlier this iteration.\n                withinBlockComment = false;\n                break;\n            }\n            slashesIndex = line.indexOf("//", slashesIndex + 2);\n        }\n        return line;\n    });\n    if (withinBlockComment) {\n        throw new Error("Unclosed block comment detected.");\n    }\n    return lines;\n}\nfunction _appearsSurroundedByQuotes(line, position) {\n    return _appearsSurroundedByCharacter(line, position, "\\"")\n        || _appearsSurroundedByCharacter(line, position, "\'");\n}\nfunction _appearsSurroundedByCharacter(line, position, char) {\n    var firstCharIndex = line.indexOf(char);\n    if (firstCharIndex === -1)\n        return false;\n    if (firstCharIndex > position)\n        return false;\n    var afterPosCharIndex = line.indexOf(char, position);\n    if (afterPosCharIndex === -1)\n        return false;\n    return true; // Position seems to be surrounded by character.\n}\nfunction _ensureArray(input) {\n    if (typeof input === "string")\n        return input.split(/\\r?\\n/);\n    if (!Array.isArray(input))\n        throw new Error("Input must be a string or array of strings");\n    return input;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/assembler.ts?')},"./src/conditionals.ts":function srcConditionalsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IfElseStateFlags", function() { return IfElseStateFlags; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IfElseBlockStateMask", function() { return IfElseBlockStateMask; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setIfElseBlockState", function() { return setIfElseBlockState; });\n/** States of an if/else/endif level. */\nvar IfElseStateFlags;\n(function (IfElseStateFlags) {\n    /** Unused */\n    IfElseStateFlags[IfElseStateFlags["None"] = 0] = "None";\n    /**\n     * We are within an if block, but haven\'t reached a part we should execute.\n     */\n    IfElseStateFlags[IfElseStateFlags["AcceptingBlock"] = 1] = "AcceptingBlock";\n    /** We are executing code within an if/else block. */\n    IfElseStateFlags[IfElseStateFlags["ExecutingBlock"] = 2] = "ExecutingBlock";\n    /**\n     * We have already executed an if or elseif block, and are passing over\n     * remaining instructions.\n     */\n    IfElseStateFlags[IfElseStateFlags["NoLongerAcceptingBlock"] = 4] = "NoLongerAcceptingBlock";\n    /** Flag set once a plain else directive is encountered. */\n    IfElseStateFlags[IfElseStateFlags["SawElse"] = 8] = "SawElse";\n})(IfElseStateFlags || (IfElseStateFlags = {}));\n/** Mask for checking current block state. */\nvar IfElseBlockStateMask = IfElseStateFlags.AcceptingBlock\n    | IfElseStateFlags.ExecutingBlock\n    | IfElseStateFlags.NoLongerAcceptingBlock;\nfunction setIfElseBlockState(state, newBlockState) {\n    state.ifElseStack[state.ifElseStack.length - 1] &= ~IfElseBlockStateMask;\n    state.ifElseStack[state.ifElseStack.length - 1] |= newBlockState;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/conditionals.ts?')},"./src/directives.ts":function srcDirectivesTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDirectiveToRun", function() { return getDirectiveToRun; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleDirective", function() { return handleDirective; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isConditionalDirective", function() { return isConditionalDirective; });\n/* harmony import */ var _directives_definelabel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directives/definelabel */ "./src/directives/definelabel.ts");\n/* harmony import */ var _directives_org__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directives/org */ "./src/directives/org.ts");\n/* harmony import */ var _directives_orga__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directives/orga */ "./src/directives/orga.ts");\n/* harmony import */ var _directives_align__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./directives/align */ "./src/directives/align.ts");\n/* harmony import */ var _directives_skip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./directives/skip */ "./src/directives/skip.ts");\n/* harmony import */ var _directives_fill__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./directives/fill */ "./src/directives/fill.ts");\n/* harmony import */ var _directives_ascii__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./directives/ascii */ "./src/directives/ascii.ts");\n/* harmony import */ var _directives_byte__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./directives/byte */ "./src/directives/byte.ts");\n/* harmony import */ var _directives_halfword__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./directives/halfword */ "./src/directives/halfword.ts");\n/* harmony import */ var _directives_word__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./directives/word */ "./src/directives/word.ts");\n/* harmony import */ var _directives_float__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./directives/float */ "./src/directives/float.ts");\n/* harmony import */ var _directives_if__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./directives/if */ "./src/directives/if.ts");\n/* harmony import */ var _directives_else__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./directives/else */ "./src/directives/else.ts");\n/* harmony import */ var _directives_elseif__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./directives/elseif */ "./src/directives/elseif.ts");\n/* harmony import */ var _directives_endif__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./directives/endif */ "./src/directives/endif.ts");\n/* harmony import */ var _directives_include__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./directives/include */ "./src/directives/include.ts");\n/* harmony import */ var _directives_beginfile__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./directives/beginfile */ "./src/directives/beginfile.ts");\n/* harmony import */ var _directives_endfile__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./directives/endfile */ "./src/directives/endfile.ts");\n/* harmony import */ var _macros_beqz__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./macros/beqz */ "./src/macros/beqz.ts");\n/* harmony import */ var _macros_bnez__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./macros/bnez */ "./src/macros/bnez.ts");\n/* harmony import */ var _macros_bnezl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./macros/bnezl */ "./src/macros/bnezl.ts");\n/* harmony import */ var _macros_li__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./macros/li */ "./src/macros/li.ts");\n/* harmony import */ var _macros_move__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./macros/move */ "./src/macros/move.ts");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar directives = [\n    _directives_definelabel__WEBPACK_IMPORTED_MODULE_0__["default"],\n    _directives_org__WEBPACK_IMPORTED_MODULE_1__["default"],\n    _directives_orga__WEBPACK_IMPORTED_MODULE_2__["default"],\n    _directives_align__WEBPACK_IMPORTED_MODULE_3__["default"],\n    _directives_skip__WEBPACK_IMPORTED_MODULE_4__["default"],\n    _directives_fill__WEBPACK_IMPORTED_MODULE_5__["default"],\n    _directives_ascii__WEBPACK_IMPORTED_MODULE_6__["ascii"],\n    _directives_ascii__WEBPACK_IMPORTED_MODULE_6__["asciiz"],\n    _directives_byte__WEBPACK_IMPORTED_MODULE_7__["default"],\n    _directives_halfword__WEBPACK_IMPORTED_MODULE_8__["default"],\n    _directives_word__WEBPACK_IMPORTED_MODULE_9__["default"],\n    _directives_float__WEBPACK_IMPORTED_MODULE_10__["default"],\n    _directives_if__WEBPACK_IMPORTED_MODULE_11__["default"],\n    _directives_elseif__WEBPACK_IMPORTED_MODULE_13__["default"],\n    _directives_else__WEBPACK_IMPORTED_MODULE_12__["default"],\n    _directives_endif__WEBPACK_IMPORTED_MODULE_14__["default"],\n    _directives_include__WEBPACK_IMPORTED_MODULE_15__["default"],\n    _directives_beginfile__WEBPACK_IMPORTED_MODULE_16__["default"],\n    _directives_endfile__WEBPACK_IMPORTED_MODULE_17__["default"],\n];\nvar macros = [\n    _macros_beqz__WEBPACK_IMPORTED_MODULE_18__["default"],\n    _macros_bnez__WEBPACK_IMPORTED_MODULE_19__["default"],\n    _macros_bnezl__WEBPACK_IMPORTED_MODULE_20__["default"],\n    _macros_li__WEBPACK_IMPORTED_MODULE_21__["default"],\n    _macros_move__WEBPACK_IMPORTED_MODULE_22__["default"],\n];\n/**\n * Returns a directive function to run for the given state/line.\n * @param state Current assembler state.\n */\nfunction getDirectiveToRun(state) {\n    for (var _i = 0, directives_1 = directives; _i < directives_1.length; _i++) {\n        var directive = directives_1[_i];\n        if (directive.matches(state)) {\n            return directive;\n        }\n    }\n    for (var _a = 0, macros_1 = macros; _a < macros_1.length; _a++) {\n        var macro = macros_1[_a];\n        if (macro.matches(state)) {\n            return macro;\n        }\n    }\n    return null;\n}\n/**\n * Runs a directive, which changes the assembler state.\n * @param state Current assembler state.\n */\nfunction handleDirective(state, directive) {\n    directive(state);\n}\n/**\n * Tests if a line represents a conditional block directive.\n * @param line Line from the pre-assembly input\n */\nfunction isConditionalDirective(line) {\n    var normalized = line.toLowerCase();\n    return startsWith(normalized, ".if")\n        || startsWith(normalized, ".else")\n        || startsWith(normalized, ".endif");\n}\nfunction startsWith(str, search) {\n    return str.substr(0, search.length) === search;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives.ts?')},"./src/directives/align.ts":function srcDirectivesAlignTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return align; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n\n/**\n * .align pads zeroes until the output position is aligned\n * with the specified alignment.\n * @param state Current assembler state.\n */\nfunction align(state) {\n    if (state.lineExpressions.length !== 1) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".align requires one power of two number argument", state);\n    }\n    var imm = Object(_functions__WEBPACK_IMPORTED_MODULE_1__["runFunction"])(state.lineExpressions[0], state);\n    if (imm === null)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Could not parse .align immediate " + state.lineExpressions, state);\n    if (typeof imm !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".align requires one power of two number argument", state);\n        return false;\n    }\n    if (imm % 2)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".align directive requires a power of two.", state);\n    if (imm < 0)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".align directive cannot align by a negative value.", state);\n    while (state.outIndex % imm) {\n        if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n            state.dataView.setUint8(state.outIndex, 0);\n        }\n        state.outIndex++;\n    }\n    return true;\n}\nalign.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_3__["basicDirectiveMatcher"])("align");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/align.ts?')},"./src/directives/ascii.ts":function srcDirectivesAsciiTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "asciiz", function() { return asciiz; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ascii", function() { return ascii; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n\n/**\n * Writes ascii bytes with a trailing zero.\n *\n * @param state Current assembler state.\n */\nfunction asciiz(state) {\n    return ascii(state, true);\n}\nasciiz.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_3__["basicDirectiveMatcher"])("asciiz");\n/**\n * Writes ascii bytes.\n *\n * .ascii value[,...]\n * .asciiz value[,...]\n *\n * `value` can either be a string or byte value.\n * ex: "string"\n * ex: \'string\'\n * ex: 0x0A\n *\n * @param state Current assembler state.\n */\nfunction ascii(state, appendZero) {\n    var numbers = [];\n    var lineExps = state.lineExpressions;\n    lineExps.forEach(function (expr) {\n        var value = Object(_functions__WEBPACK_IMPORTED_MODULE_1__["runFunction"])(expr, state);\n        if (value === null)\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Could not parse .ascii value " + expr, state);\n        if (typeof value === "number") {\n            numbers.push(value);\n        }\n        else if (typeof value === "string") {\n            for (var i = 0; i < value.length; i++) {\n                numbers.push(value.charCodeAt(i));\n            }\n        }\n    });\n    if (appendZero)\n        numbers.push(0); // Add NULL byte.\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n        for (var i = 0; i < numbers.length; i++) {\n            if (numbers[i] < 0)\n                state.dataView.setInt8(state.outIndex + i, numbers[i]);\n            else\n                state.dataView.setUint8(state.outIndex + i, numbers[i]);\n        }\n    }\n    state.outIndex += numbers.length;\n    return true;\n}\nascii.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_3__["basicDirectiveMatcher"])("ascii");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/ascii.ts?')},"./src/directives/beginfile.ts":function srcDirectivesBeginfileTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return beginfile; });\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../symbols */ "./src/symbols.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * .beginfile\n *\n * @param state Current assembler state.\n */\nfunction beginfile(state) {\n    if (state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The beginfile directive takes no arguments", state);\n    Object(_symbols__WEBPACK_IMPORTED_MODULE_1__["pushStaticLabelStateLevel"])(state);\n    return true;\n}\nbeginfile.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_0__["basicDirectiveMatcher"])("beginfile", true);\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/beginfile.ts?')},"./src/directives/byte.ts":function srcDirectivesByteTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return byte; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * .byte value[,...]\n * .db value[,...]\n * @param state Current assembler state.\n */\nfunction byte(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n        if (!state.evaluatedLineExpressions.length) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".byte directive requires arguments", state);\n        }\n        if (state.evaluatedLineExpressions.some(function (v) { return typeof v !== "number"; })) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".byte directive requires numeric arguments", state);\n        }\n        var numbers = state.evaluatedLineExpressions;\n        for (var i = 0; i < numbers.length; i++) {\n            if (numbers[i] < 0)\n                state.dataView.setInt8(state.outIndex + i, numbers[i]);\n            else\n                state.dataView.setUint8(state.outIndex + i, numbers[i]);\n        }\n    }\n    state.outIndex += state.lineExpressions.length;\n    return true;\n}\nvar byteMatcher = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("byte");\nvar dbMatcher = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("db");\nbyte.matches = function (state) {\n    return byteMatcher(state) || dbMatcher(state);\n};\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/byte.ts?')},"./src/directives/definelabel.ts":function srcDirectivesDefinelabelTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return definelabel; });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../symbols */ "./src/symbols.ts");\n/* harmony import */ var _labels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../labels */ "./src/labels.ts");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n\n/**\n * .definelabel adds a new symbol.\n * @param state Current assembler state.\n */\nfunction definelabel(state) {\n    if (state.lineExpressions.length !== 2) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])(".definelabel must have two arguments, a label name and value", state);\n    }\n    var name = state.lineExpressions[0];\n    var value = Object(_functions__WEBPACK_IMPORTED_MODULE_2__["runFunction"])(state.lineExpressions[1], state);\n    if (typeof value !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("The value in .definelabel must evaluate to a numeric value", state);\n        return false;\n    }\n    Object(_symbols__WEBPACK_IMPORTED_MODULE_0__["addSymbol"])(state, name, value);\n    return true; // Symbol added\n}\nvar defineLabelRegex = new RegExp("^\\\\.definelabel\\\\s+(" + _labels__WEBPACK_IMPORTED_MODULE_1__["LABEL_REGEX_STR"] + ")[\\\\s,]+([-\\\\w" + _labels__WEBPACK_IMPORTED_MODULE_1__["LABEL_CHARS"] + "]+)$", "i");\ndefinelabel.matches = function (state) {\n    var results = state.line.match(defineLabelRegex);\n    return results !== null;\n};\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/definelabel.ts?')},"./src/directives/directiveHelpers.ts":function srcDirectivesDirectiveHelpersTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "basicDirectiveMatcher", function() { return basicDirectiveMatcher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeBasicDirectiveRegExp", function() { return makeBasicDirectiveRegExp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNumericExprListRegExp", function() { return makeNumericExprListRegExp; });\n/* harmony import */ var _expressions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../expressions */ "./src/expressions.ts");\n\nfunction basicDirectiveMatcher(directiveAlias, noArgs) {\n    var regex = makeBasicDirectiveRegExp(directiveAlias, noArgs);\n    return function (state) { return !!state.line.match(regex); };\n}\nfunction makeBasicDirectiveRegExp(directiveAlias, noArgs) {\n    return new RegExp("^\\\\." + directiveAlias + (noArgs ? "" : "\\\\s+"), "i");\n}\nfunction makeNumericExprListRegExp(directiveAlias) {\n    return new RegExp("^\\\\." + directiveAlias + "\\\\s+([" + _expressions__WEBPACK_IMPORTED_MODULE_0__["EXPR_CHARS"] + "]+)$", "i");\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/directiveHelpers.ts?')},"./src/directives/else.ts":function srcDirectivesElseTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return elseblock; });\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _conditionals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../conditionals */ "./src/conditionals.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * .else\n *\n * @param state Current assembler state.\n */\nfunction elseblock(state) {\n    if (state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The else directive cannot take a condition or parameters", state);\n    if (!state.ifElseStack.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("An else directive was reached, but there was no previous if directive", state);\n    var curState = state.ifElseStack[state.ifElseStack.length - 1];\n    if (curState & _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].SawElse)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Encountered another else directive, but an else directive was already passed", state);\n    switch (curState & _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseBlockStateMask"]) {\n        case _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].AcceptingBlock:\n            Object(_conditionals__WEBPACK_IMPORTED_MODULE_1__["setIfElseBlockState"])(state, _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].ExecutingBlock);\n            break;\n        case _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].ExecutingBlock:\n            Object(_conditionals__WEBPACK_IMPORTED_MODULE_1__["setIfElseBlockState"])(state, _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].NoLongerAcceptingBlock);\n            break;\n        case _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].NoLongerAcceptingBlock:\n            break;\n        default:\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Unexpected conditional block state: " + curState.toString(16), state);\n    }\n    state.ifElseStack[state.ifElseStack.length - 1] |= _conditionals__WEBPACK_IMPORTED_MODULE_1__["IfElseStateFlags"].SawElse;\n    return true;\n}\nelseblock.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_0__["basicDirectiveMatcher"])("else", true);\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/else.ts?')},"./src/directives/elseif.ts":function srcDirectivesElseifTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return elseif; });\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _conditionals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../conditionals */ "./src/conditionals.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n\n/**\n * .elseif cond\n *\n * `cond` is met if it evaluates to a non-zero integer.\n *\n * @param state Current assembler state.\n */\nfunction elseif(state) {\n    if (!state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("A condition must be passed to an elseif directive", state);\n    if (state.lineExpressions.length > 1)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Only a single condition can be passed to an elseif directive", state);\n    if (!state.ifElseStack.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("An elseif directive was reached, but there was no previous if directive", state);\n    var curState = state.ifElseStack[state.ifElseStack.length - 1];\n    if (curState & _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].SawElse)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Encountered an elseif after seeing an else directive", state);\n    var value = Object(_functions__WEBPACK_IMPORTED_MODULE_1__["runFunction"])(state.lineExpressions[0], state);\n    if (value === null)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Could not parse .elseif condition", state);\n    if (typeof value !== "number")\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Condition of elseif directive must evaluate to a numeric value, saw: " + value, state);\n    switch (curState & _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseBlockStateMask"]) {\n        case _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].AcceptingBlock:\n            if (value) {\n                Object(_conditionals__WEBPACK_IMPORTED_MODULE_2__["setIfElseBlockState"])(state, _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].ExecutingBlock);\n            }\n            break;\n        case _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].ExecutingBlock:\n            Object(_conditionals__WEBPACK_IMPORTED_MODULE_2__["setIfElseBlockState"])(state, _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].NoLongerAcceptingBlock);\n            break;\n        case _conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].NoLongerAcceptingBlock:\n            break;\n        default:\n            Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Unexpected conditional block state: " + curState.toString(16), state);\n    }\n    return true;\n}\nelseif.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_0__["basicDirectiveMatcher"])("elseif");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/elseif.ts?')},"./src/directives/endfile.ts":function srcDirectivesEndfileTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return beginfile; });\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../symbols */ "./src/symbols.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * .endfile\n *\n * @param state Current assembler state.\n */\nfunction beginfile(state) {\n    if (state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The endfile directive takes no arguments", state);\n    Object(_symbols__WEBPACK_IMPORTED_MODULE_1__["popStaticLabelStateLevel"])(state);\n    return true;\n}\nbeginfile.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_0__["basicDirectiveMatcher"])("endfile", true);\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/endfile.ts?')},"./src/directives/endif.ts":function srcDirectivesEndifTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return endif; });\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n/**\n * .endif\n * Ends the last open if or else block.\n *\n * @param state Current assembler state.\n */\nfunction endif(state) {\n    if (state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])("The endif directive cannot take a condition or parameters", state);\n    if (!state.ifElseStack.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])("An endif directive was reached, but there was no previous if directive", state);\n    state.ifElseStack.pop();\n    return true;\n}\nendif.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_0__["basicDirectiveMatcher"])("endif", true);\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/endif.ts?')},"./src/directives/fill.ts":function srcDirectivesFillTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return fill; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n\n/**\n * .fill length[,value]\n * @param state Current assembler state.\n */\nfunction fill(state) {\n    if (!state.lineExpressions.length || state.lineExpressions.length > 2) {\n        throw new Error(".fill directive takes a length and optional value");\n    }\n    var length, value;\n    length = Object(_functions__WEBPACK_IMPORTED_MODULE_1__["runFunction"])(state.lineExpressions[0], state);\n    if (typeof length !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Could not parse .fill length " + state.lineExpressions[0], state);\n        return false;\n    }\n    if (length < 0)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".fill length must be positive.", state);\n    if (state.lineExpressions.length > 1) {\n        value = Object(_functions__WEBPACK_IMPORTED_MODULE_1__["runFunction"])(state.lineExpressions[1], state);\n        if (typeof value !== "number") {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Could not parse .fill value " + state.lineExpressions[1], state);\n            return false;\n        }\n    }\n    else\n        value = 0;\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n        for (var i = 0; i < length; i++)\n            state.dataView.setInt8(state.outIndex + i, value);\n    }\n    state.outIndex += length;\n    return true;\n}\nfill.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_3__["basicDirectiveMatcher"])("fill");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/fill.ts?')},"./src/directives/float.ts":function srcDirectivesFloatTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return float; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n/**\n * Writes 32-bit float values.\n * .float value[,...]\n * @param state Current assembler state.\n */\nfunction float(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n        if (!state.evaluatedLineExpressions.length) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".float directive requires arguments", state);\n        }\n        if (state.evaluatedLineExpressions.some(function (v) { return typeof v !== "number"; })) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".float directive requires numeric arguments", state);\n        }\n        var numbers = state.evaluatedLineExpressions;\n        for (var i = 0; i < numbers.length; i++) {\n            state.dataView.setFloat32(state.outIndex + (i * 4), numbers[i]);\n        }\n    }\n    state.outIndex += 4 * state.lineExpressions.length;\n    return true;\n}\nfloat.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_2__["basicDirectiveMatcher"])("float");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/float.ts?')},"./src/directives/halfword.ts":function srcDirectivesHalfwordTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return halfword; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * Writes 16-bit values.\n * .halfword value[,...]\n * .dh value[,...]\n * @param state Current assembler state.\n */\nfunction halfword(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n        if (!state.evaluatedLineExpressions.length) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".halfword directive requires arguments", state);\n        }\n        if (state.evaluatedLineExpressions.some(function (v) { return typeof v !== "number"; })) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".halfword directive requires numeric arguments", state);\n        }\n        var numbers = state.evaluatedLineExpressions;\n        for (var i = 0; i < numbers.length; i++) {\n            if (numbers[i] < 0)\n                state.dataView.setInt16(state.outIndex + (i * 2), numbers[i]);\n            else\n                state.dataView.setUint16(state.outIndex + (i * 2), numbers[i]);\n        }\n    }\n    state.outIndex += 2 * state.lineExpressions.length;\n    return true;\n}\nvar hwMatcher = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("halfword");\nvar dhMatcher = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("dh");\nhalfword.matches = function (state) {\n    return hwMatcher(state) || dhMatcher(state);\n};\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/halfword.ts?')},"./src/directives/if.ts":function srcDirectivesIfTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ifcond; });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _conditionals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../conditionals */ "./src/conditionals.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n\n/**\n * .if cond\n *\n * `cond` is met if it evaluates to a non-zero integer.\n *\n * @param state Current assembler state.\n */\nfunction ifcond(state) {\n    if (!state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("A condition must be passed to an if directive", state);\n    if (state.lineExpressions.length > 1)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Only a single condition can be passed to an if directive", state);\n    var value = Object(_functions__WEBPACK_IMPORTED_MODULE_0__["runFunction"])(state.lineExpressions[0], state);\n    if (value === null)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Could not parse .if condition", state);\n    if (typeof value !== "number")\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Condition of if directive must evaluate to a numeric value, saw: " + value, state);\n    if (value) {\n        state.ifElseStack.push(_conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].ExecutingBlock);\n    }\n    else {\n        state.ifElseStack.push(_conditionals__WEBPACK_IMPORTED_MODULE_2__["IfElseStateFlags"].AcceptingBlock);\n    }\n    return true;\n}\nifcond.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("if");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/if.ts?')},"./src/directives/include.ts":function srcDirectivesIncludeTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return include; });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n\n/**\n * .include FileName\n *\n * `FileName` is a key in the `files` object passed to `assemble`.\n *\n * @param state Current assembler state.\n */\nfunction include(state) {\n    if (!state.lineExpressions.length)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("A file name must be passed to an include directive", state);\n    if (state.lineExpressions.length > 1)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Only a single file name can be passed to an include directive", state);\n    var filename = Object(_functions__WEBPACK_IMPORTED_MODULE_0__["runFunction"])(state.lineExpressions[0], state);\n    if (filename === null)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Could not parse .include file name", state);\n    if (typeof filename !== "string") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("File name of include directive must evaluate to a string, saw: " + filename, state);\n        return;\n    }\n    var file = state.files[filename];\n    if (typeof file !== "string")\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("The " + filename + " file was not a string", state);\n    if (state.currentPass !== _types__WEBPACK_IMPORTED_MODULE_2__["AssemblerPhase"].firstPass) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("The `include` directive shouldn\'t be present after the first assembly phase", state);\n        return;\n    }\n    state.linesToInsert =\n        ".beginfile\\n" + file + "\\n.endfile";\n    state.line = ""; // Delete this directive.\n}\ninclude.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("include");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/include.ts?')},"./src/directives/org.ts":function srcDirectivesOrgTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return org; });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n/**\n * .org changes the effective memory position.\n * @param state Current assembler state.\n */\nfunction org(state) {\n    if (state.lineExpressions.length !== 1) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".org directive requires one numeric argument", state);\n    }\n    var imm = Object(_functions__WEBPACK_IMPORTED_MODULE_0__["runFunction"])(state.lineExpressions[0], state);\n    if (typeof imm !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])("Could not parse .org immediate " + imm, state);\n        return false;\n    }\n    if (imm < 0)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".org directive cannot be negative", state);\n    state.memPos = imm >>> 0; // Better be 32-bit\n    return true;\n}\norg.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_2__["basicDirectiveMatcher"])("org");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/org.ts?')},"./src/directives/orga.ts":function srcDirectivesOrgaTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return orga; });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n/**\n * .orga updates the current output buffer index.\n * @param state Current assembler state.\n */\nfunction orga(state) {\n    if (state.lineExpressions.length !== 1) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".orga directive requires one numeric argument", state);\n    }\n    var imm = Object(_functions__WEBPACK_IMPORTED_MODULE_0__["runFunction"])(state.lineExpressions[0], state);\n    if (typeof imm !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])("Could not parse .orga immediate " + imm, state);\n        return false;\n    }\n    if (imm < 0)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".orga directive cannot be negative.", state);\n    state.outIndex = imm >>> 0; // Better be 32-bit\n    return true;\n}\norga.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_2__["basicDirectiveMatcher"])("orga");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/orga.ts?')},"./src/directives/skip.ts":function srcDirectivesSkipTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return skip; });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n\n\n\n/**\n * .skip passes over a given amout of bytes without overwriting them.\n * @param state Current assembler state.\n */\nfunction skip(state) {\n    if (state.lineExpressions.length !== 1) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".skip directive requires one numeric argument", state);\n    }\n    var imm = Object(_functions__WEBPACK_IMPORTED_MODULE_0__["runFunction"])(state.lineExpressions[0], state);\n    if (typeof imm !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])("Could not parse .skip immediate " + imm, state);\n        return false;\n    }\n    if (imm < 0)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_1__["throwError"])(".skip directive cannot skip a negative length.", state);\n    state.outIndex += imm;\n    return true;\n}\nskip.matches = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_2__["basicDirectiveMatcher"])("skip");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/skip.ts?')},"./src/directives/word.ts":function srcDirectivesWordTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return word; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _directiveHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directiveHelpers */ "./src/directives/directiveHelpers.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * Writes 32-bit values.\n * .word value[,...]\n * .dw value[,...]\n * @param state Current assembler state.\n */\nfunction word(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].secondPass) {\n        if (!state.evaluatedLineExpressions.length) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".word directive requires arguments", state);\n        }\n        if (state.evaluatedLineExpressions.some(function (v) { return typeof v !== "number"; })) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])(".word directive requires numeric arguments", state);\n        }\n        var numbers = state.evaluatedLineExpressions;\n        for (var i = 0; i < numbers.length; i++) {\n            if (numbers[i] < 0)\n                state.dataView.setInt32(state.outIndex + (i * 4), numbers[i]);\n            else\n                state.dataView.setUint32(state.outIndex + (i * 4), numbers[i]);\n        }\n    }\n    state.outIndex += 4 * state.lineExpressions.length;\n    return true;\n}\nvar wMatcher = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("word");\nvar dwMatcher = Object(_directiveHelpers__WEBPACK_IMPORTED_MODULE_1__["basicDirectiveMatcher"])("dw");\nword.matches = function (state) {\n    return wMatcher(state) || dwMatcher(state);\n};\n\n\n//# sourceURL=webpack://MIPSAssem/./src/directives/word.ts?')},"./src/errors.ts":function srcErrorsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throwError", function() { return throwError; });\nfunction throwError(message, state) {\n    throw new Error(message + "\\nLine: " + state.line);\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/errors.ts?')},"./src/expressions.ts":function srcExpressionsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EXPR_CHARS", function() { return EXPR_CHARS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseExpressionsOnCurrentLine", function() { return parseExpressionsOnCurrentLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "evaluateExpressionsOnCurrentLine", function() { return evaluateExpressionsOnCurrentLine; });\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functions */ "./src/functions.ts");\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./immediates */ "./src/immediates.ts");\n/* harmony import */ var _labels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./labels */ "./src/labels.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./src/errors.ts");\n\n\n\n\nvar EXPR_CHARS = ",-\\\\w\\\\s\\\\(\\\\)" + _labels__WEBPACK_IMPORTED_MODULE_2__["LABEL_CHARS"];\nfunction parseExpressionsOnCurrentLine(state) {\n    var line = state.line;\n    var firstWhitespaceIndex = firstIndexOf(line, " ", "\\t");\n    if (firstWhitespaceIndex === -1) {\n        state.lineExpressions = [];\n        return; // Must not have any arguments, there would need to be whitespace for those.\n    }\n    var exprList = line.substr(firstWhitespaceIndex + 1);\n    var exprs = splitExpressionList(exprList);\n    state.lineExpressions = exprs;\n}\nfunction evaluateExpressionsOnCurrentLine(state) {\n    var line = state.line;\n    var firstWhitespaceIndex = firstIndexOf(line, " ", "\\t");\n    if (firstWhitespaceIndex === -1)\n        return line; // Must not have any arguments, there would need to be whitespace for those.\n    var firstPiece = line.substring(0, firstWhitespaceIndex);\n    var exprList = line.substr(firstWhitespaceIndex + 1);\n    var exprs = splitExpressionList(exprList);\n    state.lineExpressions = exprs;\n    if (exprs.length > 0) {\n        var evaluatedExprs = exprs.map(function (expr, i) {\n            var evaluated = Object(_functions__WEBPACK_IMPORTED_MODULE_0__["runFunction"])(expr, state);\n            // For the last piece, do extra logic to fix branch values.\n            if (typeof evaluated === "number" && i === exprs.length - 1) {\n                evaluated = _fixBranch(firstPiece, evaluated, state);\n            }\n            return evaluated;\n        });\n        state.evaluatedLineExpressions = evaluatedExprs;\n        line = firstPiece + " " + _formatEvaluatedExprs(evaluatedExprs, exprs).join(" ");\n    }\n    return line;\n}\nfunction _formatEvaluatedExprs(values, originalValues) {\n    return values.map(function (value, i) {\n        if (typeof value === "number") {\n            return Object(_immediates__WEBPACK_IMPORTED_MODULE_1__["formatImmediate"])(value);\n        }\n        if (value === null) {\n            return originalValues[i];\n        }\n        return value;\n    });\n}\n/** Transforms branches from absolute to relative. */\nfunction _fixBranch(inst, offset, state) {\n    if (_instIsBranch(inst)) {\n        var memOffset = state.memPos + state.outIndex;\n        var offsetDiff = offset - memOffset;\n        if (offsetDiff % 4 !== 0) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_3__["throwError"])("Misaligned branch instruction detected", state);\n        }\n        var diff = (offsetDiff / 4) - 1;\n        return diff;\n    }\n    return offset; // Leave as is.\n}\nfunction _instIsBranch(inst) {\n    inst = inst.toLowerCase();\n    if (inst[0] !== "b")\n        return false;\n    switch (inst) {\n        case "bc1f":\n        case "bc1fl":\n        case "bc1t":\n        case "bc1tl":\n        case "beq":\n        case "beql":\n        case "bgez":\n        case "bgezal":\n        case "bgezall":\n        case "bgezl":\n        case "bgtz":\n        case "bgtzl":\n        case "blez":\n        case "blezl":\n        case "bltz":\n        case "bltzal":\n        case "bltzall":\n        case "bltzl":\n        case "bne":\n        case "bnel":\n            return true;\n    }\n    return false;\n}\nfunction splitExpressionList(str) {\n    var pieces = [];\n    var currentPiece = "";\n    var currentStrQuoteChar = ""; // When set, we\'re writing a string\n    var currentParenLevel = 0; // When > 0, we\'re inside a parenthesis grouper\n    var escaped = false;\n    var prevChar = "";\n    function writeToCurrentPiece(char) {\n        currentPiece += char;\n    }\n    function endCurrentPiece() {\n        while (charSplitsExpressions(currentPiece[currentPiece.length - 1])) {\n            currentPiece = currentPiece.slice(0, -1);\n        }\n        currentPiece = currentPiece.trim(); // Sanity check\n        // We actually have only seen white spaces, so don\'t create a separate piece yet.\n        if (!currentPiece)\n            return;\n        pieces.push(currentPiece);\n        currentPiece = "";\n    }\n    function endPieceIfApplicable() {\n        if (currentStrQuoteChar || currentParenLevel)\n            return; // Still need to close a string/group, can\'t end piece.\n        if (!charSplitsExpressions(prevChar))\n            return; // Still writing something.\n        endCurrentPiece();\n    }\n    for (var i = 0; i < str.length; i++) {\n        var char = str[i];\n        endPieceIfApplicable();\n        switch (char) {\n            case "\\\\":\n                if (!escaped) {\n                    escaped = true;\n                }\n                break;\n            case "(":\n                if (!escaped && !currentStrQuoteChar) {\n                    currentParenLevel++;\n                }\n                break;\n            case ")":\n                if (!escaped && !currentStrQuoteChar) {\n                    if (currentParenLevel <= 0) {\n                        throw new Error("Imbalanced parenthesis in expression: " + str);\n                    }\n                    currentParenLevel--;\n                }\n                break;\n            case "\\"":\n            case "\'":\n                if (!escaped) {\n                    if (currentStrQuoteChar) {\n                        if (currentStrQuoteChar === char) { // Ending string\n                            currentStrQuoteChar = "";\n                        }\n                        // Else just writing a quote inside, ex: "assembler\'s"\n                    }\n                    else { // Beginning string\n                        currentStrQuoteChar = char;\n                    }\n                }\n                break;\n        }\n        writeToCurrentPiece(char);\n        if (char !== "\\\\") {\n            escaped = false;\n        }\n        prevChar = char;\n    }\n    if (currentParenLevel > 0)\n        throw new Error("Imbalanced parenthesis in expression: " + str);\n    if (currentStrQuoteChar)\n        throw new Error("Unterminated string: " + currentPiece);\n    endCurrentPiece();\n    return pieces;\n}\nfunction charSplitsExpressions(char) {\n    return char === "," || charIsWhitespace(char);\n}\nfunction charIsWhitespace(char) {\n    return char === " " || char === "\\t";\n}\nfunction firstIndexOf(str) {\n    var searchTokens = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        searchTokens[_i - 1] = arguments[_i];\n    }\n    var results = [];\n    for (var _a = 0, searchTokens_1 = searchTokens; _a < searchTokens_1.length; _a++) {\n        var token = searchTokens_1[_a];\n        var index = str.indexOf(token);\n        if (index >= 0) {\n            results.push(index);\n        }\n    }\n    if (results.length === 0) {\n        return -1; // Didn\'t find any search token.\n    }\n    return Math.min.apply(Math, results);\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/expressions.ts?')},"./src/functions.ts":function srcFunctionsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "runFunction", function() { return runFunction; });\n/* harmony import */ var _immediates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./immediates */ "./src/immediates.ts");\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./symbols */ "./src/symbols.ts");\n/* harmony import */ var _strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strings */ "./src/strings.ts");\n/* harmony import */ var _labels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./labels */ "./src/labels.ts");\n/* harmony import */ var _functions_abs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./functions/abs */ "./src/functions/abs.ts");\n/* harmony import */ var _functions_hi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./functions/hi */ "./src/functions/hi.ts");\n/* harmony import */ var _functions_lo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./functions/lo */ "./src/functions/lo.ts");\n/* harmony import */ var _functions_org__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./functions/org */ "./src/functions/org.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./errors */ "./src/errors.ts");\n\n\n\n\n\n\n\n\n\n/** Runs any built-in functions, and also resolves symbols. */\nfunction runFunction(value, state) {\n    return _runFunction(value, state);\n}\nvar fnRegex = new RegExp("^([-\\\\w]+)\\\\(([\\\\(\\\\),-\\\\w" + _labels__WEBPACK_IMPORTED_MODULE_3__["LABEL_CHARS"] + "]*)\\\\)$", "i");\nfunction _runFunction(value, state) {\n    var results = fnRegex.exec(value);\n    if (results === null) { // Not a function\n        // Symbol?\n        var symbolValue = Object(_symbols__WEBPACK_IMPORTED_MODULE_1__["getSymbolValue"])(state, value);\n        if (symbolValue !== null) {\n            return symbolValue;\n        }\n        // Number?\n        var imm = Object(_immediates__WEBPACK_IMPORTED_MODULE_0__["parseImmediate"])(value);\n        if (imm !== null) {\n            return imm;\n        }\n        // String?\n        var str = Object(_strings__WEBPACK_IMPORTED_MODULE_2__["unescapeString"])(value);\n        if (typeof str === "string") {\n            return str;\n        }\n        return null;\n    }\n    else {\n        var fn = results[1];\n        if (!fns[fn]) {\n            // Did a symbol label accidentally look like a function?\n            var symbolValue = Object(_symbols__WEBPACK_IMPORTED_MODULE_1__["getSymbolValue"])(state, fn);\n            if (symbolValue !== null) {\n                return symbolValue;\n            }\n            return null; // Might have been something like 0x10(V0)\n        }\n        // Parse args slightly different than the regex suggests,\n        // to support lo(label)(V0)\n        var fnArgs = "";\n        var parenLevel = 0;\n        var i = void 0;\n        for (i = fn.length + 1; i < value.length - 1; i++) {\n            var char = value[i];\n            if (char === "(") {\n                parenLevel++;\n            }\n            else if (char === ")") {\n                parenLevel--;\n                if (parenLevel < 0) {\n                    i++;\n                    break;\n                }\n            }\n            fnArgs += char;\n        }\n        var extraStr = "";\n        if (i < value.length - 1) {\n            // There was extra content after the end of the function,\n            // like the (VO) of lo(label)(V0)\n            extraStr = value.substring(i, value.length);\n        }\n        // TODO: Doesn\'t support nested calls, multiple arguments.\n        var arg = 0;\n        if (fnArgs) {\n            arg = _runFunction(fnArgs, state);\n        }\n        if (arg === null) {\n            Object(_errors__WEBPACK_IMPORTED_MODULE_8__["throwError"])("Could not evaluate " + fnArgs, state);\n            return null;\n        }\n        var result = fns[fn](state, arg);\n        if (extraStr) {\n            result = result + extraStr;\n        }\n        return result;\n    }\n}\n/** Built-in functions */\nvar fns = Object.create(null);\nfns.abs = _functions_abs__WEBPACK_IMPORTED_MODULE_4__["abs"];\nfns.hi = _functions_hi__WEBPACK_IMPORTED_MODULE_5__["hi"];\nfns.lo = _functions_lo__WEBPACK_IMPORTED_MODULE_6__["lo"];\nfns.org = _functions_org__WEBPACK_IMPORTED_MODULE_7__["org"];\n\n\n//# sourceURL=webpack://MIPSAssem/./src/functions.ts?')},"./src/functions/abs.ts":function srcFunctionsAbsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "abs", function() { return abs; });\n/**\n * Absolute value of the given `value`.\n */\nfunction abs(state, value) {\n    if (typeof value === "string")\n        throw new Error("Assembler function abs cannot be called with string \\"" + value + "\\", value must be a number.");\n    return Math.abs(value);\n}\n;\n\n\n//# sourceURL=webpack://MIPSAssem/./src/functions/abs.ts?')},"./src/functions/hi.ts":function srcFunctionsHiTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hi", function() { return hi; });\n/**\n * Returns the high half of a 32-bit `value`, adjusted for sign extension of\n * the low half.\n */\nfunction hi(state, value) {\n    if (typeof value === "string")\n        throw new Error("Assembler function hi cannot be called with string \\"" + value + "\\", value must be a number.");\n    var lower = value & 0x0000FFFF;\n    var upper = value >>> 16;\n    if (lower & 0x8000)\n        upper += 1;\n    return upper;\n}\n;\n\n\n//# sourceURL=webpack://MIPSAssem/./src/functions/hi.ts?')},"./src/functions/lo.ts":function srcFunctionsLoTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "lo", function() { return lo; });\n/** Returns the sign-extended low half of a 32-bit `value`. */\nfunction lo(state, value) {\n    if (typeof value === "string")\n        throw new Error("Assembler function lo cannot be called with string \\"" + value + "\\", value must be a number.");\n    return value & 0x0000FFFF;\n}\n;\n\n\n//# sourceURL=webpack://MIPSAssem/./src/functions/lo.ts?')},"./src/functions/org.ts":function srcFunctionsOrgTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "org", function() { return org; });\n/** Current memory address */\nfunction org(state, value) {\n    return state.memPos + state.outIndex;\n}\n;\n\n\n//# sourceURL=webpack://MIPSAssem/./src/functions/org.ts?')},"./src/immediates.ts":function srcImmediatesTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseImmediate", function() { return parseImmediate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "formatImmediate", function() { return formatImmediate; });\nfunction parseImmediate(value) {\n    if (typeof value !== "string")\n        return null;\n    var negative = value[0] === "-";\n    if (negative)\n        value = value.substr(1);\n    var result;\n    if (value[0] === "b" || value[0] === "0" && value[1] === "b")\n        result = parseInt(value.substr(2), 2);\n    else if (value[0] === "o" || value[0] === "0" && value[1] === "o")\n        result = parseInt(value.substr(2), 8);\n    else if (value[0] === "x" || value[0] === "0" && value[1] === "x")\n        result = parseInt(value.substr(2), 16);\n    else\n        result = parseInt(value, 10);\n    if (isNaN(result))\n        return null;\n    if (negative)\n        result = -result;\n    return result;\n}\n/**\n * Formats a numeric value for use in final assembly.\n * @param value Numeric value\n */\nfunction formatImmediate(value) {\n    var isZero = value === 0;\n    var isNegative = value < 0;\n    var result = value.toString(16).toUpperCase();\n    if (isNegative) {\n        result = result.substr(1); // Remove the negative sign.\n    }\n    return (isNegative ? "-" : "")\n        + (isZero ? "" : "0x")\n        + result;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/immediates.ts?')},"./src/index.ts":function srcIndexTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _assembler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assembler */ "./src/assembler.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "assemble", function() { return _assembler__WEBPACK_IMPORTED_MODULE_0__["assemble"]; });\n\n\n\n\n//# sourceURL=webpack://MIPSAssem/./src/index.ts?')},"./src/labels.ts":function srcLabelsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LABEL_CHARS", function() { return LABEL_CHARS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LABEL_REGEX_STR", function() { return LABEL_REGEX_STR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseGlobalLabel", function() { return parseGlobalLabel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isLocalLabel", function() { return isLocalLabel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isStaticLabel", function() { return isStaticLabel; });\n/* harmony import */ var _symbols__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./symbols */ "./src/symbols.ts");\n\nvar LABEL_CHARS = "\\\\?\\\\!\\\\@";\nvar LABEL_REGEX_STR = "@?@?[\\\\w\\\\?\\\\!]+";\nvar labelRegex = new RegExp("^(" + LABEL_REGEX_STR + ")\\\\:");\n/**\n * Parses a LABEL: expression and adds it to the symbol table.\n * Examples of valid labels:\n *    basicLabel:    excited!Label!:    mystery?Label?:\n *    @@localLabel:  12345:             !?!:\n */\nfunction parseGlobalLabel(state) {\n    var results = state.line.match(labelRegex);\n    if (results === null)\n        return false; // Not a label.\n    var name = results[1];\n    if (!isLocalLabel(name) && !isStaticLabel(name)) {\n        state.currentLabel = name;\n    }\n    Object(_symbols__WEBPACK_IMPORTED_MODULE_0__["addSymbol"])(state, name, getLabelValueFromState(state));\n    return name;\n}\nfunction isLocalLabel(name) {\n    return name.indexOf("@@") === 0;\n}\nfunction isStaticLabel(name) {\n    return name.indexOf("@") === 0 && name[1] !== "@";\n}\nfunction getLabelValueFromState(state) {\n    return (state.memPos + state.outIndex) >>> 0;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/labels.ts?')},"./src/macros/beqz.ts":function srcMacrosBeqzTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return beqz; });\n/* harmony import */ var _macroHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./macroHelpers */ "./src/macros/macroHelpers.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * beqz reg,dest\n *\n * @param state Current assembler state.\n */\nfunction beqz(state) {\n    if (state.currentPass !== _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `beqz` macro shouldn\'t be present after the first assembly phase", state);\n        return;\n    }\n    if (state.lineExpressions.length !== 2)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `beqz` macro must take a register and label", state);\n    state.line = ""; // Delete this line.\n    state.linesToInsert = "BEQ " + state.lineExpressions[0] + " R0 " + state.lineExpressions[1];\n}\nbeqz.matches = Object(_macroHelpers__WEBPACK_IMPORTED_MODULE_0__["basicMacroMatcher"])("beqz");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/macros/beqz.ts?')},"./src/macros/bnez.ts":function srcMacrosBnezTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return bnez; });\n/* harmony import */ var _macroHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./macroHelpers */ "./src/macros/macroHelpers.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * bnez reg,dest\n *\n * @param state Current assembler state.\n */\nfunction bnez(state) {\n    if (state.currentPass !== _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `bnez` macro shouldn\'t be present after the first assembly phase", state);\n        return;\n    }\n    if (state.lineExpressions.length !== 2)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `bnez` macro must take a register and label", state);\n    state.line = ""; // Delete this line.\n    state.linesToInsert = "BNE " + state.lineExpressions[0] + " R0 " + state.lineExpressions[1];\n}\nbnez.matches = Object(_macroHelpers__WEBPACK_IMPORTED_MODULE_0__["basicMacroMatcher"])("bnez");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/macros/bnez.ts?')},"./src/macros/bnezl.ts":function srcMacrosBnezlTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return bnezl; });\n/* harmony import */ var _macroHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./macroHelpers */ "./src/macros/macroHelpers.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * bnezl reg,dest\n *\n * @param state Current assembler state.\n */\nfunction bnezl(state) {\n    if (state.currentPass !== _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `bnezl` macro shouldn\'t be present after the first assembly phase", state);\n        return;\n    }\n    if (state.lineExpressions.length !== 2)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `bnezl` macro must take a register and label", state);\n    state.line = ""; // Delete this line.\n    state.linesToInsert = "BNEL " + state.lineExpressions[0] + " R0 " + state.lineExpressions[1];\n}\nbnezl.matches = Object(_macroHelpers__WEBPACK_IMPORTED_MODULE_0__["basicMacroMatcher"])("bnezl");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/macros/bnezl.ts?')},"./src/macros/li.ts":function srcMacrosLiTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return li; });\n/* harmony import */ var _macroHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./macroHelpers */ "./src/macros/macroHelpers.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../functions */ "./src/functions.ts");\n\n\n\n\n/**\n * li dest,value\n *\n * @param state Current assembler state.\n */\nfunction li(state) {\n    if (state.currentPass !== _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `li` macro shouldn\'t be present after the first assembly phase", state);\n        return;\n    }\n    if (state.lineExpressions.length <= 1)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `li` macro must take a register and immediate", state);\n    var dest = state.lineExpressions[0];\n    var value = Object(_functions__WEBPACK_IMPORTED_MODULE_3__["runFunction"])(state.lineExpressions[1], state);\n    if (value === null) {\n        // Most likely a label is not yet defined in the first pass.\n        // We can try to salvage this situation with "worst case" handling.\n        state.line = ""; // Delete this line.\n        state.linesToInsert =\n            "LUI " + dest + ", hi(" + state.lineExpressions[1] + ")\\nADDIU " + dest + ", " + dest + ", lo(" + state.lineExpressions[1] + ")";\n        return;\n    }\n    if (typeof value !== "number") {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("Immediate value of `li` macro must evaluate to a number, saw: " + value, state);\n        return;\n    }\n    state.line = ""; // Delete this line.\n    if (value >= -32768 && value <= 32767) {\n        state.linesToInsert = "ADDIU " + dest + ", R0, " + value;\n    }\n    else if (value > 0 && value <= 65535) {\n        state.linesToInsert = "ORI " + dest + ", R0, " + value;\n    }\n    else if ((value & 0xFFFF) === 0) {\n        state.linesToInsert = "LUI " + dest + ", " + (value >> 16);\n    }\n    else if (value >= -0xFFFFFFFF && value <= 0xFFFEFFFF) {\n        var needsSignAdjust = (value & 0x8000) !== 0;\n        state.linesToInsert =\n            "LUI " + dest + ", " + ((value >>> 16) + (needsSignAdjust ? 1 : 0)) + "\\nADDIU " + dest + ", " + dest + ", " + (value & 0xFFFF);\n    }\n    else {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("li immediate value " + value + " seems out of range", state);\n    }\n}\nli.matches = Object(_macroHelpers__WEBPACK_IMPORTED_MODULE_0__["basicMacroMatcher"])("li");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/macros/li.ts?')},"./src/macros/macroHelpers.ts":function srcMacrosMacroHelpersTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "basicMacroMatcher", function() { return basicMacroMatcher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeMacroRegExp", function() { return makeMacroRegExp; });\nfunction basicMacroMatcher(macroAlias) {\n    var regex = makeMacroRegExp(macroAlias);\n    return function (state) { return !!state.line.match(regex); };\n}\nfunction makeMacroRegExp(macroAlias) {\n    return new RegExp("^" + macroAlias + "\\\\s+", "i");\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/macros/macroHelpers.ts?')},"./src/macros/move.ts":function srcMacrosMoveTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return move; });\n/* harmony import */ var _macroHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./macroHelpers */ "./src/macros/macroHelpers.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ "./src/types.ts");\n/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors */ "./src/errors.ts");\n\n\n\n/**\n * move dest,reg\n *\n * @param state Current assembler state.\n */\nfunction move(state) {\n    if (state.currentPass !== _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `move` macro shouldn\'t be present after the first assembly phase", state);\n        return;\n    }\n    if (state.lineExpressions.length !== 2)\n        Object(_errors__WEBPACK_IMPORTED_MODULE_2__["throwError"])("The `move` macro must take two registers", state);\n    state.line = ""; // Delete this line.\n    state.linesToInsert = "ADDU " + state.lineExpressions[0] + " " + state.lineExpressions[1] + " R0";\n}\nmove.matches = Object(_macroHelpers__WEBPACK_IMPORTED_MODULE_0__["basicMacroMatcher"])("move");\n\n\n//# sourceURL=webpack://MIPSAssem/./src/macros/move.ts?')},"./src/state.ts":function srcStateTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeNewAssemblerState", function() { return makeNewAssemblerState; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\nfunction makeNewAssemblerState(opts) {\n    var staticSymbolIndices = [0];\n    staticSymbolIndices.before = Object.create(null);\n    return {\n        buffer: null,\n        dataView: null,\n        line: "",\n        memPos: 0,\n        outIndex: 0,\n        symbols: Object.create(null),\n        symbolsByValue: Object.create(null),\n        symbolOutputMap: opts.symbolOutputMap,\n        currentLabel: null,\n        localSymbols: Object.create(null),\n        staticSymbols: [Object.create(null)],\n        staticSymbolIndices: staticSymbolIndices,\n        currentPass: _types__WEBPACK_IMPORTED_MODULE_0__["AssemblerPhase"].firstPass,\n        lineExpressions: [],\n        evaluatedLineExpressions: null,\n        ifElseStack: [],\n        files: opts.files || Object.create(null),\n        linesToInsert: null,\n    };\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/state.ts?')},"./src/strings.ts":function srcStringsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unescapeString", function() { return unescapeString; });\n/**\n * Takes a string like\n * "\\"has quotes\\""\n * and returns\n * "has quotes"\n * Also handles escape sequences.\n * @returns Parsed string, or null if could not parse.\n */\nfunction unescapeString(str) {\n    if (str.length < 2)\n        return null;\n    var startQuoteChar = str[0];\n    if (str[str.length - 1] !== startQuoteChar) {\n        return null;\n    }\n    if (startQuoteChar !== "\\"" && startQuoteChar !== "\'") {\n        return null; // Not a string\n    }\n    var output = "";\n    for (var i = 1; i < str.length - 1; i++) {\n        var char = str[i];\n        if (char === "\\\\") {\n            var nextChar = str[i + 1];\n            var charTwoOver = str[i + 2];\n            var charThreeOver = str[i + 3];\n            switch (nextChar) {\n                case "\\\\":\n                case "\\"":\n                case "\'":\n                case "?":\n                    output += nextChar;\n                    i++;\n                    continue;\n                case "n":\n                    output += "\\n";\n                    i++;\n                    continue;\n                case "r":\n                    output += "\\r";\n                    i++;\n                    continue;\n                case "t":\n                    output += "\\t";\n                    i++;\n                    continue;\n                case "x":\n                    if (!isHexDigit(charTwoOver)) {\n                        throw new Error("Hex escape sequence followed by non-hex character: " + nextChar);\n                    }\n                    else {\n                        // This only supports \\xN or \\xNN currently.\n                        if (isHexDigit(charThreeOver)) {\n                            output += String.fromCharCode(parseInt(charTwoOver + charThreeOver, 16));\n                            i += 3;\n                        }\n                        else {\n                            output += String.fromCharCode(parseInt(charTwoOver, 16));\n                            i += 2;\n                        }\n                    }\n                    continue;\n                default:\n                    if (isOctalDigit(nextChar)) {\n                        if (isOctalDigit(charTwoOver)) {\n                            if (isOctalDigit(charThreeOver)) {\n                                // \\nnn\n                                output += String.fromCharCode(parseInt(nextChar + charTwoOver + charThreeOver, 8));\n                                i += 3;\n                            }\n                            else {\n                                // \\nn\n                                output += String.fromCharCode(parseInt(nextChar + charTwoOver, 8));\n                                i += 2;\n                            }\n                        }\n                        else {\n                            // \\n\n                            output += String.fromCharCode(parseInt(nextChar, 8));\n                            i++;\n                        }\n                        continue;\n                    }\n            }\n        }\n        output += char;\n    }\n    return output;\n}\nfunction isOctalDigit(chr) {\n    switch (chr) {\n        case "0":\n        case "1":\n        case "2":\n        case "3":\n        case "4":\n        case "5":\n        case "6":\n        case "7":\n            return true;\n    }\n    return false;\n}\nfunction isHexDigit(chr) {\n    switch (chr.toUpperCase()) {\n        case "0":\n        case "1":\n        case "2":\n        case "3":\n        case "4":\n        case "5":\n        case "6":\n        case "7":\n        case "8":\n        case "9":\n        case "A":\n        case "B":\n        case "C":\n        case "D":\n        case "E":\n        case "F":\n            return true;\n    }\n    return false;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/strings.ts?')},"./src/symbols.ts":function srcSymbolsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addSymbol", function() { return addSymbol; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addGlobalSymbol", function() { return addGlobalSymbol; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addLocalSymbol", function() { return addLocalSymbol; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addStaticLabel", function() { return addStaticLabel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pushStaticLabelStateLevel", function() { return pushStaticLabelStateLevel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "popStaticLabelStateLevel", function() { return popStaticLabelStateLevel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSymbolValue", function() { return getSymbolValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSymbolByValue", function() { return getSymbolByValue; });\n/* harmony import */ var _labels__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labels */ "./src/labels.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\n\n/**\n * Adds a symbol to the symbol table.\n * @param state Assembler state\n * @param name Symbol name\n * @param value Symbol value\n */\nfunction addSymbol(state, name, value) {\n    if (Object(_labels__WEBPACK_IMPORTED_MODULE_0__["isLocalLabel"])(name)) {\n        if (!state.currentLabel) {\n            throw new Error("Local label " + name + " (starts with @@) cannot be used before a global label");\n        }\n        addLocalSymbol(state, name, value);\n    }\n    else if (Object(_labels__WEBPACK_IMPORTED_MODULE_0__["isStaticLabel"])(name)) {\n        addStaticLabel(state, name, value);\n    }\n    else {\n        addGlobalSymbol(state, name, value);\n    }\n}\n/**\n * Adds a global symbol to the symbol table.\n * @param state Assembler state\n * @param name Symbol name\n * @param value Symbol value\n */\nfunction addGlobalSymbol(state, name, value) {\n    state.symbols[name] = value;\n    state.symbolsByValue[value] = name;\n    if (state.symbolOutputMap) {\n        state.symbolOutputMap[name] = state.outIndex;\n    }\n}\n/**\n * Adds a local symbol to the symbol table.\n * @param state Assembler state\n * @param name Local symbol name\n * @param value Local symbol value\n *\n * Assumes !!state.currentLabel\n */\nfunction addLocalSymbol(state, name, value) {\n    var localTable = state.localSymbols[state.currentLabel];\n    if (!localTable) {\n        localTable = state.localSymbols[state.currentLabel] = Object.create(null);\n    }\n    localTable[name] = value;\n}\nfunction addStaticLabel(state, name, value) {\n    var staticsTable = state.staticSymbols[state.staticSymbols.length - 1];\n    staticsTable[name] = value;\n}\nfunction pushStaticLabelStateLevel(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        state.staticSymbols.push(Object.create(null));\n        var prevIndex = state.staticSymbolIndices[state.staticSymbolIndices.length - 1];\n        var newIndex = state.staticSymbols.length - 1;\n        state.staticSymbolIndices.before[newIndex] = prevIndex;\n        state.staticSymbolIndices.push(newIndex);\n    }\n    else {\n        state.staticSymbolIndices.shift();\n    }\n}\nfunction popStaticLabelStateLevel(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        var indices = state.staticSymbolIndices;\n        indices.push(indices.before[indices[indices.length - 1]]);\n    }\n    else {\n        state.staticSymbolIndices.shift();\n    }\n}\nfunction getCurrentStaticSymbols(state) {\n    if (state.currentPass === _types__WEBPACK_IMPORTED_MODULE_1__["AssemblerPhase"].firstPass) {\n        return state.staticSymbols[state.staticSymbolIndices[state.staticSymbolIndices.length - 1]];\n    }\n    else {\n        return state.staticSymbols[state.staticSymbolIndices[0]];\n    }\n}\n/**\n * Retrieves a symbol by name. Works for all: global, static, or local.\n */\nfunction getSymbolValue(state, name) {\n    if (Object(_labels__WEBPACK_IMPORTED_MODULE_0__["isLocalLabel"])(name)) {\n        if (!state.currentLabel) {\n            throw new Error("Local label " + name + " cannot be referenced in the current scope");\n        }\n        var localTable = state.localSymbols[state.currentLabel];\n        if (localTable && Object.prototype.hasOwnProperty.call(localTable, name)) {\n            return localTable[name];\n        }\n        return null;\n    }\n    if (Object(_labels__WEBPACK_IMPORTED_MODULE_0__["isStaticLabel"])(name)) {\n        var staticTable = getCurrentStaticSymbols(state);\n        if (Object.prototype.hasOwnProperty.call(staticTable, name)) {\n            return staticTable[name];\n        }\n        return null;\n    }\n    if (Object.prototype.hasOwnProperty.call(state.symbols, name)) {\n        return state.symbols[name];\n    }\n    return null;\n}\n/**\n * Retrieves a symbol by value from the symbol table.\n * Does not retrieve local labels.\n * TODO: Should do static labels too.\n */\nfunction getSymbolByValue(state, value) {\n    // Don\'t need hasOwnProperty check here, all values in key->value should be truthy strings.\n    return state.symbolsByValue[value] || null;\n}\n\n\n//# sourceURL=webpack://MIPSAssem/./src/symbols.ts?')},"./src/types.ts":function srcTypesTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssemblerPhase", function() { return AssemblerPhase; });\nvar AssemblerPhase;\n(function (AssemblerPhase) {\n    AssemblerPhase[AssemblerPhase["firstPass"] = 0] = "firstPass";\n    AssemblerPhase[AssemblerPhase["secondPass"] = 1] = "secondPass";\n})(AssemblerPhase || (AssemblerPhase = {}));\n\n\n//# sourceURL=webpack://MIPSAssem/./src/types.ts?')}})},module.exports=factory()},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(34),i=n(494),o=n(495),a=n(497),s=n(121),c=n(15),u=n(500),l=n(501),f=n(16),h=n(231),d=n(229),p=n(502),m=n(503),g=c.OrderedSet,_={replaceText:function(e,t,n,i,o){var a=d(e,t),s=p(a,t),c=r.create({style:i||g(),entity:o||null});return l(s,s.getSelectionAfter(),n,c)},insertText:function(e,t,n,r,i){return t.isCollapsed()||f(!1),_.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=s(e,t),i=_.removeRange(e,t,"backward");return _.replaceWithFragment(i,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=d(e,t),o=p(i,t);return u(o,o.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,i,o,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),o=e.getBlockForKey(r),s=e.getBlockForKey(i);var c=t.getStartOffset(),u=t.getEndOffset(),l=o.getEntityAt(c),f=s.getEntityAt(u-1);if(r===i&&l&&l===f){var h=a(e.getEntityMap(),o,s,t,n);return p(e,h)}var m=d(e,t);return p(m,t)},splitBlock:function(e,t){var n=d(e,t),r=p(n,t);return m(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return i.add(e,t,n)},removeInlineStyle:function(e,t,n){return i.remove(e,t,n)},setBlockType:function(e,t,n){return h(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return h(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return h(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=d(e,t);return o(r,t,n)}};e.exports=_},function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(512),i=n(514),o=n(515),a=n(516);function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,i.contains(o,t))}function c(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var u={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,c)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=o(u,a)},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=t,i=n(22),o=n(32),a=n(215);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var o,a,s,c=e.andln(3)+r&3,u=t.andln(3)+i&3;if(3===c&&(c=-1),3===u&&(u=-1),0===(1&c))o=0;else o=3!==(s=e.andln(7)+r&7)&&5!==s||2!==u?c:-c;if(n[0].push(o),0===(1&u))a=0;else a=3!==(s=t.andln(7)+i&7)&&5!==s||2!==c?u:-u;n[1].push(a),2*r===o+1&&(r=1-r),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";var r=n(15),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),c={style:s,entity:null},u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getStyle=function(){return this.get("style")},o.getEntity=function(){return this.get("entity")},o.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return l;var t=i({style:s,entity:null}).merge(e),n=f.get(t);if(n)return n;var o=new r(t);return f=f.set(t,o),o},r}(a(c)),l=new u,f=i([[i(c),l]]);u.EMPTY=l,e.exports=u},function(e,t,n){"use strict";var r=n(34),i=n(106),o=n(15),a=o.List,s=o.Map,c=o.OrderedSet,u=o.Record,l=o.Repeat,f=c(),h={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},d=function(e,t){return e.getStyle()===t.getStyle()},p=function(e,t){return e.getEntity()===t.getEntity()},m=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(l(r.EMPTY,n.length))),e},g=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return e.call(this,m(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){i(this.getCharacterList(),d,e,t)},o.findEntityRanges=function(e,t){i(this.getCharacterList(),p,e,t)},r}(u(h));e.exports=g},function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),c=!o&&/WebKit\//.test(e),u=c&&/Qt\/\d+\.\d+/.test(e),l=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),_=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=m||/Mac/.test(t),y=/\bCrOS\b/.test(e),b=/win/i.test(t),w=f&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(f=!1,c=!0);var x=v&&(u||f&&(null==w||w<12.11)),E=n||a&&s>=9;function M(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,T=function(e,t){var n=e.className,r=M(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function k(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function C(e,t){return k(e).appendChild(t)}function O(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function A(e,t,n,r){var i=O(e,t,n,r);return i.setAttribute("role","presentation"),i}function P(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function D(e,t){var n=e.className;M(t).test(n)||(e.className+=(n?" ":"")+t)}function I(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!M(n[r]).test(t)&&(t+=" "+n[r]);return t}S=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var R=function(e){e.select()};function B(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function N(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function U(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}m?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(R=function(e){try{e.select()}catch(t){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=B(this.onTimeout,this)};function F(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var j={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},H={origin:"*mouse"},V={origin:"+move"};function K(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var G=[""];function q(e){for(;G.length<=e;)G.push(Y(G)+" ");return G[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Z(){}function J(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&N(t,n),n}var $=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||$.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Q(e))||t.test(e):Q(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}var ae=null;function se(e,t,n){var r;ae=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ae=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ae=i)}return null!=r?r:ae}var ce=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(a,s){var c="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var u,l=a.length,f=[],h=0;h<l;++h)f.push((u=a.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var d=0,p=c;d<l;++d){var m=f[d];"m"==m?f[d]=p:p=m}for(var g=0,_=c;g<l;++g){var v=f[g];"1"==v&&"r"==_?f[g]="n":n.test(v)&&(_=v,"r"==v&&(f[g]="R"))}for(var y=1,b=f[0];y<l-1;++y){var w=f[y];"+"==w&&"1"==b&&"1"==f[y+1]?f[y]="1":","!=w||b!=f[y+1]||"1"!=b&&"n"!=b||(f[y]=b),b=w}for(var x=0;x<l;++x){var E=f[x];if(","==E)f[x]="N";else if("%"==E){var M=void 0;for(M=x+1;M<l&&"%"==f[M];++M);for(var S=x&&"!"==f[x-1]||M<l&&"1"==f[M]?"1":"N",T=x;T<M;++T)f[T]=S;x=M-1}}for(var k=0,C=c;k<l;++k){var O=f[k];"L"==C&&"1"==O?f[k]="L":n.test(O)&&(C=O)}for(var A=0;A<l;++A)if(t.test(f[A])){var P=void 0;for(P=A+1;P<l&&t.test(f[P]);++P);for(var L="L"==(A?f[A-1]:c),D=L==("L"==(P<l?f[P]:c))?L?"L":"R":c,I=A;I<P;++I)f[I]=D;A=P-1}for(var R,B=[],N=0;N<l;)if(r.test(f[N])){var U=N;for(++N;N<l&&r.test(f[N]);++N);B.push(new o(0,U,N))}else{var z=N,F=B.length;for(++N;N<l&&"L"!=f[N];++N);for(var j=z;j<N;)if(i.test(f[j])){z<j&&B.splice(F,0,new o(1,z,j));var W=j;for(++j;j<N&&i.test(f[j]);++j);B.splice(F,0,new o(2,W,j)),z=j}else++j;z<N&&B.splice(F,0,new o(1,z,N))}return"ltr"==s&&(1==B[0].level&&(R=a.match(/^\s+/))&&(B[0].from=R[0].length,B.unshift(new o(0,0,R[0].length))),1==Y(B).level&&(R=a.match(/\s+$/))&&(Y(B).to-=R[0].length,B.push(new o(0,l-R[0].length,l)))),"rtl"==s?B.reverse():B}}();function ue(e,t){var n=e.order;return null==n&&(n=e.order=ce(e.text,t)),n}var le=[],fe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||le).concat(n)}};function he(e,t){return e._handlers&&e._handlers[t]||le}function de(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=F(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function pe(e,t){var n=he(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function me(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),pe(e,n||t.type,e,t),we(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==F(n,t[r])&&n.push(t[r])}function _e(e,t){return he(e,t).length>0}function ve(e){e.prototype.on=function(e,t){fe(this,e,t)},e.prototype.off=function(e,t){de(this,e,t)}}function ye(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function be(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function we(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xe(e){ye(e),be(e)}function Ee(e){return e.target||e.srcElement}function Me(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var Se,Te,ke=function(){if(a&&s<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in e}();function Ce(e){if(null==Se){var t=O("span","\u200b");C(e,O("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Se=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Se?O("span","\u200b"):O("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Oe(e){if(null!=Te)return Te;var t=C(e,document.createTextNode("A\u062eA")),n=S(t,0,1).getBoundingClientRect(),r=S(t,1,2).getBoundingClientRect();return k(e),!(!n||n.left==n.right)&&(Te=r.right-n.right<3)}var Ae=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Pe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Le=function(){var e=O("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),De=null,Ie={},Re={};function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ie[e]=t}function Ne(e){if("string"==typeof e&&Re.hasOwnProperty(e))e=Re[e];else if(e&&"string"==typeof e.name&&Re.hasOwnProperty(e.name)){var t=Re[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ne("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ne("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ue(e,t){t=Ne(t);var n=Ie[t.name];if(!n)return Ue(e,"text/plain");var r=n(e,t);if(ze.hasOwnProperty(t.name)){var i=ze[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var ze={};function Fe(e,t){N(t,ze.hasOwnProperty(e)?ze[e]:ze[e]={})}function je(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function We(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function He(e,t,n){return!e.startState||e.startState(t,n)}var Ve=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ke(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ge(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function qe(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Ye(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Xe(e){if(null==e.parent)return null;for(var t=e.parent,n=F(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Ze(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function Je(e,t){return t>=e.first&&t<e.first+e.size}function $e(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Qe(e,t,n){if(void 0===n&&(n=null),!(this instanceof Qe))return new Qe(e,t,n);this.line=e,this.ch=t,this.sticky=n}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function nt(e){return Qe(e.line,e.ch)}function rt(e,t){return et(e,t)<0?t:e}function it(e,t){return et(e,t)<0?e:t}function ot(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return Qe(e.first,0);var n=e.first+e.size-1;return t.line>n?Qe(n,Ke(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?Qe(e.line,t):n<0?Qe(e.line,0):e}(t,Ke(e,t.line).text.length)}function st(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}Ve.prototype.eol=function(){return this.pos>=this.string.length},Ve.prototype.sol=function(){return this.pos==this.lineStart},Ve.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ve.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ve.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ve.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ve.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ve.prototype.skipToEnd=function(){this.pos=this.string.length},Ve.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ve.prototype.backUp=function(e){this.pos-=e},Ve.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=U(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.indentation=function(){return U(this.string,null,this.tabSize)-(this.lineStart?U(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ve.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ve.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ve.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ve.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function lt(e,t,n,r){var i=[e.state.modeGen],o={};yt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],c=1,u=0;n.state=!0,yt(e,t.text,s.mode,n,(function(e,t){for(var n=c;u<e;){var r=i[c];r>e&&i.splice(c,1,e,i[c+1],r),c+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,c-n,e,"overlay "+t),c=n+2;else for(;n<c;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)s(c);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ft(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=ht(e,Xe(t)),i=t.text.length>e.options.maxHighlightLength&&je(e.doc.mode,r.state),o=lt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ht(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ut(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var c=Ke(o,s-1),u=c.stateAfter;if(u&&(!n||s+(u instanceof ct?u.lookAhead:0)<=o.modeFrontier))return s;var l=U(c.text,null,e.options.tabSize);(null==i||r>l)&&(i=s-1,r=l)}return i}(e,t,n),a=o>r.first&&Ke(r,o-1).stateAfter,s=a?ut.fromSaved(r,a,o):new ut(r,He(r.mode),o);return r.iter(o,t,(function(n){dt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function dt(e,t,n,r){var i=e.doc.mode,o=new Ve(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&pt(i,n.state);!o.eol();)mt(i,o,n.state),o.start=o.pos}function pt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=We(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function mt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=We(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,n){return t instanceof ct?new ut(e,je(e.mode,t.state),n,t.lookAhead):new ut(e,je(e.mode,t),n)},ut.prototype.save=function(e){var t=!1!==e?je(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var gt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function _t(e,t,n,r){var i,o,a=e.doc,s=a.mode,c=Ke(a,(t=at(a,t)).line),u=ht(e,t.line,n),l=new Ve(c.text,e.options.tabSize,u);for(r&&(o=[]);(r||l.pos<t.ch)&&!l.eol();)l.start=l.pos,i=mt(s,l,u.state),r&&o.push(new gt(l,i,je(a.mode,u.state)));return r?o:new gt(l,i,u.state)}function vt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function yt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var c,u=0,l=null,f=new Ve(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&vt(pt(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&dt(e,t,r,f.pos),f.pos=t.length,c=null):c=vt(mt(n,f,r.state,h),o),h){var d=h[0].name;d&&(c="m-"+(c?d+" "+c:d))}if(!s||l!=c){for(;u<f.start;)i(u=Math.min(f.start,u+5e3),l);l=c}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,l),u=p}}var bt=!1,wt=!1;function xt(e,t,n){this.marker=e,this.from=t,this.to=n}function Et(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Mt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function St(e,t){if(t.full)return null;var n=Je(e,t.from.line)&&Ke(e,t.from.line).markedSpans,r=Je(e,t.to.line)&&Ke(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==et(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new xt(a,o.from,s?null:o.to))}}return r}(n,i,a),c=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new xt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),u=1==t.text.length,l=Y(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Et(c,h.marker);d?u&&(h.to=null==d.to?null:d.to+l):h.to=i}}if(c)for(var p=0;p<c.length;++p){var m=c[p];null!=m.to&&(m.to+=l),null==m.from?Et(s,m.marker)||(m.from=l,u&&(s||(s=[])).push(m)):(m.from+=l,u&&(s||(s=[])).push(m))}s&&(s=Tt(s)),c&&c!=s&&(c=Tt(c));var g=[s];if(!u){var _,v=t.text.length-2;if(v>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(_||(_=[])).push(new xt(s[y].marker,null,null));for(var b=0;b<v;++b)g.push(_);g.push(c)}return g}function Tt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function kt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ct(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ot(e){return e.inclusiveLeft?-1:0}function At(e){return e.inclusiveRight?1:0}function Pt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=et(r.from,i.from)||Ot(e)-Ot(t);if(o)return-o;var a=et(r.to,i.to)||At(e)-At(t);return a||t.id-e.id}function Lt(e,t){var n,r=wt&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Pt(n,i.marker)<0)&&(n=i.marker);return n}function Dt(e){return Lt(e,!0)}function It(e){return Lt(e,!1)}function Rt(e,t){var n,r=wt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Pt(n,o.marker)<0)&&(n=o.marker)}return n}function Bt(e,t,n,r,i){var o=Ke(e,t),a=wt&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var c=a[s];if(c.marker.collapsed){var u=c.marker.find(0),l=et(u.from,n)||Ot(c.marker)-Ot(i),f=et(u.to,r)||At(c.marker)-At(i);if(!(l>=0&&f<=0||l<=0&&f>=0)&&(l<=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?et(u.to,n)>=0:et(u.to,n)>0)||l>=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?et(u.from,r)<=0:et(u.from,r)<0)))return!0}}}function Nt(e){for(var t;t=Dt(e);)e=t.find(-1,!0).line;return e}function Ut(e,t){var n=Ke(e,t),r=Nt(n);return n==r?t:Xe(r)}function zt(e,t){if(t>e.lastLine())return t;var n,r=Ke(e,t);if(!Ft(e,r))return t;for(;n=It(r);)r=n.find(1,!0).line;return Xe(r)+1}function Ft(e,t){var n=wt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&jt(e,t,r))return!0}}function jt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return jt(e,r.line,Et(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&jt(e,t,i))return!0}function Wt(e){for(var t=0,n=(e=Nt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Ht(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Dt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=It(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Vt(e){var t=e.display,n=e.doc;t.maxLine=Ke(n,n.first),t.maxLineLength=Ht(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Ht(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var Kt=function(e,t,n){this.text=e,Ct(this,t),this.height=n?n(this):1};function Gt(e){e.parent=null,kt(e)}Kt.prototype.lineNo=function(){return Xe(this)},ve(Kt);var qt={},Yt={};function Xt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Yt:qt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Zt(e,t){var n=A("span",null,null,c?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=$t,Oe(e.display.measure)&&(a=ue(o,e.doc.direction))&&(r.addToken=Qt(r.addToken,a)),r.map=[],tn(o,r,ft(e,o,t!=e.display.externalMeasured&&Xe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=I(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=I(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ce(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return pe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=I(r.pre.className,r.textClass||"")),r}function Jt(e){var t=O("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function $t(e,t,n,r,i,o,c){if(t){var u,l=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,f=e.cm.state.specialChars,h=!1;if(f.test(t)){u=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var p=f.exec(t),m=p?p.index-d:t.length-d;if(m){var g=document.createTextNode(l.slice(d,d+m));a&&s<9?u.appendChild(O("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;d+=m+1;var _=void 0;if("\t"==p[0]){var v=e.cm.options.tabSize,y=v-e.col%v;(_=u.appendChild(O("span",q(y),"cm-tab"))).setAttribute("role","presentation"),_.setAttribute("cm-text","\t"),e.col+=y}else"\r"==p[0]||"\n"==p[0]?((_=u.appendChild(O("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((_=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?u.appendChild(O("span",[_])):u.appendChild(_),e.col+=1);e.map.push(e.pos,e.pos+1,_),e.pos++}}else e.col+=t.length,u=document.createTextNode(l),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==l.charCodeAt(t.length-1),n||r||i||h||o){var b=n||"";r&&(b+=r),i&&(b+=i);var w=O("span",[u],b,o);if(c)for(var x in c)c.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,c[x]);return e.content.appendChild(w)}e.content.appendChild(u)}}function Qt(e,t){return function(n,r,i,o,a,s,c){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,l=u+r.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>u&&f.from<=u);h++);if(f.to>=l)return e(n,r,i,o,a,s,c);e(n,r.slice(0,f.to-u),i,o,null,s,c),o=null,r=r.slice(f.to-u),u=f.to}}}function en(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,c,u,l,f,h,d=i.length,p=0,m=1,g="",_=0;;){if(_==p){c=u=l=s="",h=null,f=null,_=1/0;for(var v=[],y=void 0,b=0;b<r.length;++b){var w=r[b],x=w.marker;if("bookmark"==x.type&&w.from==p&&x.widgetNode)v.push(x);else if(w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&_>w.to&&(_=w.to,u=""),x.className&&(c+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==p&&(l+=" "+x.startStyle),x.endStyle&&w.to==_&&(y||(y=[])).push(x.endStyle,w.to),x.title&&((h||(h={})).title=x.title),x.attributes)for(var E in x.attributes)(h||(h={}))[E]=x.attributes[E];x.collapsed&&(!f||Pt(f.marker,x)<0)&&(f=w)}else w.from>p&&_>w.from&&(_=w.from)}if(y)for(var M=0;M<y.length;M+=2)y[M+1]==_&&(u+=" "+y[M]);if(!f||f.from==p)for(var S=0;S<v.length;++S)en(t,0,v[S]);if(f&&(f.from||0)==p){if(en(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var T=Math.min(d,_);;){if(g){var k=p+g.length;if(!f){var C=k>T?g.slice(0,T-p):g;t.addToken(t,C,a?a+c:c,l,p+C.length==_?u:"",s,h)}if(k>=T){g=g.slice(T-p),p=T;break}p=k,l=""}g=i.slice(o,o=n[m++]),a=Xt(n[m++],t.cm.options)}}else for(var O=1;O<n.length;O+=2)t.addToken(t,i.slice(o,o=n[O]),Xt(n[O+1],t.cm.options))}function nn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=It(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Xe(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ft(e,t)}function rn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new nn(e.doc,Ke(e.doc,o),o);r=o+a.size,i.push(a)}return i}var on=null,an=null;function sn(e,t){var n=he(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);on?r=on.delayedCallbacks:an?r=an:(r=an=[],setTimeout(cn,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function cn(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?hn(e,t):"gutter"==o?pn(e,t,n,r):"class"==o?dn(e,t):"widget"==o&&mn(e,t,r)}t.changes=null}function ln(e){return e.node==e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function fn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Zt(e,t)}function hn(e,t){var n=t.text.className,r=fn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,dn(e,t)):n&&(t.text.className=n)}function dn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=ln(t);t.background=r.insertBefore(O("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?ln(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function pn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=ln(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=ln(t),s=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(O("div",$e(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var c=0;c<e.display.gutterSpecs.length;++c){var u=e.display.gutterSpecs[c].className,l=o.hasOwnProperty(u)&&o[u];l&&s.appendChild(O("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function mn(e,t,n){t.alignable&&(t.alignable=null);for(var r=M("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);_n(e,t,n)}function gn(e,t,n,r){var i=fn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),dn(e,t),pn(e,t,n,r),_n(e,t,r),t.node}function _n(e,t,n){if(vn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)vn(e,t.rest[r],t,n,!1)}function vn(e,t,n,r,i){if(t.widgets)for(var o=ln(n),a=0,s=t.widgets;a<s.length;++a){var c=s[a],u=O("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),yn(c,u,n,r),e.display.input.setUneditable(u),i&&c.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),sn(c,"redraw")}}function yn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function bn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!P(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),C(t.display.measure,O("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function wn(e,t){for(var n=Ee(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function xn(e){return e.lineSpace.offsetTop}function En(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Mn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=C(e.measure,O("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Sn(e){return 30-e.display.nativeBarWidth}function Tn(e){return e.display.scroller.clientWidth-Sn(e)-e.display.barWidth}function kn(e){return e.display.scroller.clientHeight-Sn(e)-e.display.barHeight}function Cn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Xe(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function On(e,t,n,r){return Ln(e,Pn(e,t),n,r)}function An(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ur(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Pn(e,t){var n=Xe(t),r=An(e,n);r&&!r.text?r=null:r&&r.changes&&(un(e,r,n,ir(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Xe(t=Nt(t)),r=e.display.externalMeasured=new nn(e.doc,t,n);r.lineN=n;var i=r.built=Zt(e,r);return r.text=i.pre,C(e.display.lineMeasure,i.pre),r}(e,t));var i=Cn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ln(e,t,n,r,i){t.before&&(n=-1);var o,c=n+(r||"");return t.cache.hasOwnProperty(c)?o=t.cache[c]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&Tn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var c=a[s],u=a[s+1];Math.abs(c.bottom-u.bottom)>2&&o.push((c.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Rn(t.map,n,r),c=o.node,u=o.start,l=o.end,f=o.collapse;if(3==c.nodeType){for(var h=0;h<4;h++){for(;u&&re(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+l<o.coverEnd&&re(t.line.text.charAt(o.coverStart+l));)++l;if((i=a&&s<9&&0==u&&l==o.coverEnd-o.coverStart?c.parentNode.getBoundingClientRect():Bn(S(c,u,l).getClientRects(),r)).left||i.right||0==u)break;l=u,u-=1,f="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=De)return De;var t=C(e,O("span","x")),n=t.getBoundingClientRect(),r=S(t,0,1).getBoundingClientRect();return De=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var d;u>0&&(f=r="right"),i=e.options.lineWrapping&&(d=c.getClientRects()).length>1?d["right"==r?d.length-1:0]:c.getBoundingClientRect()}if(a&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=c.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+rr(e.display),top:p.top,bottom:p.bottom}:In}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,_=(m+g)/2,v=t.view.measure.heights,y=0;y<v.length-1&&!(_<v[y]);y++);var b=y?v[y-1]:0,w=v[y],x={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:b,bottom:w};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}(e,t,n,r)).bogus||(t.cache[c]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Dn,In={left:0,right:0,top:0,bottom:0};function Rn(e,t,n){for(var r,i,o,a,s,c,u=0;u<e.length;u+=3)if(s=e[u],c=e[u+1],t<s?(i=0,o=1,a="left"):t<c?o=1+(i=t-s):(u==e.length-3||t==c&&e[u+3]>t)&&(i=(o=c-s)-1,t>=c&&(a="right")),null!=i){if(r=e[u+2],s==c&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==c-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:c}}function Bn(e,t){var n=In;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Nn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Un(e){e.display.externalMeasure=null,k(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Nn(e.display.view[t])}function zn(e){Un(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Fn(){return l&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function jn(){return l&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=bn(e.widgets[n]));return t}function Hn(e,t,n,r,i){if(!i){var o=Wn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Wt(t);if("local"==r?a+=xn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:jn());var c=s.left+("window"==r?0:Fn());n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function Vn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Fn(),i-=jn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Kn(e,t,n,r,i){return r||(r=Ke(e.doc,t.line)),Hn(e,r,On(e,r,t.ch,i),n)}function Gn(e,t,n,r,i,o){function a(t,a){var s=Ln(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Hn(e,r,s,n)}r=r||Ke(e.doc,t.line),i||(i=Pn(e,r));var s=ue(r,e.doc.direction),c=t.ch,u=t.sticky;if(c>=r.text.length?(c=r.text.length,u="before"):c<=0&&(c=0,u="after"),!s)return a("before"==u?c-1:c,"before"==u);function l(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var f=se(s,c,u),h=ae,d=l(c,f,"before"==u);return null!=h&&(d.other=l(c,h,"before"!=u)),d}function qn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=rr(e.display)*t.ch);var r=Ke(e.doc,t.line),i=Wt(r)+xn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Yn(e,t,n,r,i){var o=Qe(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Xn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Yn(r.first,0,null,-1,-1);var i=Ze(r,n),o=r.first+r.size-1;if(i>o)return Yn(r.first+r.size-1,Ke(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=Ke(r,i);;){var s=Qn(e,a,i,t,n),c=Rt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!c)return s;var u=c.find(1);if(u.line==i)return u;a=Ke(r,i=u.line)}}function Zn(e,t,n,r){r-=Wn(t);var i=t.text.length,o=oe((function(t){return Ln(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=oe((function(t){return Ln(e,n,t).top>r}),o,i)}}function Jn(e,t,n,r){return n||(n=Pn(e,t)),Zn(e,t,n,Hn(e,t,Ln(e,n,r),"line").top)}function $n(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Qn(e,t,n,r,i){i-=Wt(t);var o=Pn(e,t),a=Wn(t),s=0,c=t.text.length,u=!0,l=ue(t,e.doc.direction);if(l){var f=(e.options.lineWrapping?tr:er)(e,t,n,o,l,r,i);s=(u=1!=f.level)?f.from:f.to-1,c=u?f.to:f.from-1}var h,d,p=null,m=null,g=oe((function(t){var n=Ln(e,o,t);return n.top+=a,n.bottom+=a,!!$n(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,m=n),!0)}),s,c),_=!1;if(m){var v=r-m.left<m.right-r,y=v==u;g=p+(y?0:1),d=y?"after":"before",h=v?m.left:m.right}else{u||g!=c&&g!=s||g++,d=0==g?"after":g==t.text.length?"before":Ln(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var b=Gn(e,Qe(n,g,d),"line",t,o);h=b.left,_=i<b.top?-1:i>=b.bottom?1:0}return Yn(n,g=ie(t.text,g,1),d,_,r-h)}function er(e,t,n,r,i,o,a){var s=oe((function(s){var c=i[s],u=1!=c.level;return $n(Gn(e,Qe(n,u?c.to:c.from,u?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),c=i[s];if(s>0){var u=1!=c.level,l=Gn(e,Qe(n,u?c.from:c.to,u?"after":"before"),"line",t,r);$n(l,o,a,!0)&&l.top>a&&(c=i[s-1])}return c}function tr(e,t,n,r,i,o,a){var s=Zn(e,t,r,a),c=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var l=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=c)){var p=Ln(e,r,1!=d.level?Math.min(u,d.to)-1:Math.max(c,d.from)).right,m=p<o?o-p+1e9:p-o;(!l||f>m)&&(l=d,f=m)}}return l||(l=i[i.length-1]),l.from<c&&(l={from:c,to:l.to,level:l.level}),l.to>u&&(l={from:l.from,to:u,level:l.level}),l}function nr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Dn){Dn=O("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Dn.appendChild(document.createTextNode("x")),Dn.appendChild(O("br"));Dn.appendChild(document.createTextNode("x"))}C(e.measure,Dn);var n=Dn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),k(e.measure),n||1}function rr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx"),n=O("pre",[t],"CodeMirror-line-like");C(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function ir(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:or(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function or(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ar(e){var t=nr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/rr(e.display)-3);return function(i){if(Ft(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function sr(e){var t=e.doc,n=ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Ye(e,t)}))}function cr(e,t,n,r){var i=e.display;if(!n&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var c,u=Xn(e,o,a);if(r&&u.xRel>0&&(c=Ke(e.doc,u.line).text).length==u.ch){var l=U(c,c.length,e.options.tabSize)-c.length;u=Qe(u.line,Math.max(0,Math.round((o-Mn(e.display).left)/rr(e.display))-l))}return u}function ur(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function lr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)wt&&Ut(e.doc,t)<i.viewTo&&hr(e);else if(n<=i.viewFrom)wt&&zt(e.doc,n+r)>i.viewFrom?hr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)hr(e);else if(t<=i.viewFrom){var o=dr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):hr(e)}else if(n>=i.viewTo){var a=dr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):hr(e)}else{var s=dr(e,t,t,-1),c=dr(e,n,n+r,1);s&&c?(i.view=i.view.slice(0,s.index).concat(rn(e,s.lineN,c.lineN)).concat(i.view.slice(c.index)),i.viewTo+=r):hr(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function fr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[ur(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==F(a,n)&&a.push(n)}}}function hr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function dr(e,t,n,r){var i,o=ur(e,t),a=e.display.view;if(!wt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,c=0;c<o;c++)s+=a[c].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Ut(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function pr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function mr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function gr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var c=s.empty();(c||e.options.showCursorWhenSelecting)&&_r(e,s.head,i),c||yr(e,s,o)}}return r}function _r(e,t,n){var r=Gn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(O("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(O("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function vr(e,t){return e.top-t.top||e.left-t.left}function yr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=Mn(e.display),s=a.left,c=Math.max(r.sizerWidth,Tn(e)-r.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function l(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?c-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var o,a,f=Ke(i,t),h=f.text.length;function d(n,r){return Kn(e,Qe(t,n),"div",f,r)}function p(t,n,r){var i=Jn(e,f,null,t),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var m=ue(f,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(m,n||0,null==r?h:r,(function(e,t,i,f){var g="ltr"==i,_=d(e,g?"left":"right"),v=d(t-1,g?"right":"left"),y=null==n&&0==e,b=null==r&&t==h,w=0==f,x=!m||f==m.length-1;if(v.top-_.top<=3){var E=(u?b:y)&&x,M=(u?y:b)&&w?s:(g?_:v).left,S=E?c:(g?v:_).right;l(M,_.top,S-M,_.bottom)}else{var T,k,C,O;g?(T=u&&y&&w?s:_.left,k=u?c:p(e,i,"before"),C=u?s:p(t,i,"after"),O=u&&b&&x?c:v.right):(T=u?p(e,i,"before"):s,k=!u&&y&&w?c:_.right,C=!u&&b&&x?s:v.left,O=u?p(t,i,"after"):c),l(T,_.top,k-T,_.bottom),_.bottom<v.top&&l(s,_.bottom,null,v.top),l(C,v.top,O-C,v.bottom)}(!o||vr(_,o)<0)&&(o=_),vr(v,o)<0&&(o=v),(!a||vr(_,a)<0)&&(a=_),vr(v,a)<0&&(a=v)})),{start:o,end:a}}var h=t.from(),d=t.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var p=Ke(i,h.line),m=Ke(i,d.line),g=Nt(p)==Nt(m),_=f(h.line,h.ch,g?p.text.length+1:null).end,v=f(d.line,g?0:null,d.ch).start;g&&(_.top<v.top-2?(l(_.right,_.top,null,_.bottom),l(s,v.top,v.left,v.bottom)):l(_.right,_.top,v.left-_.right,_.bottom)),_.bottom<v.top&&l(s,_.bottom,null,v.top)}n.appendChild(o)}function br(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function wr(e){e.state.focused||(e.display.input.focus(),Er(e))}function xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Mr(e))}),100)}function Er(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(pe(e,"focus",e,t),e.state.focused=!0,D(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),br(e))}function Mr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(pe(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Sr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,c=void 0,u=0;if(!i.hidden){if(a&&s<8){var l=i.node.offsetTop+i.node.offsetHeight;c=l-n,n=l}else{var f=i.node.getBoundingClientRect();c=f.bottom-f.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-f.left-1)}var h=i.line.height-c;if((h>.005||h<-.005)&&(Ye(i.line,c),Tr(i.line),i.rest))for(var d=0;d<i.rest.length;d++)Tr(i.rest[d]);if(u>e.display.sizerWidth){var p=Math.ceil(u/rr(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Tr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function kr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-xn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Ze(t,r),a=Ze(t,i);if(n&&n.ensure){var s=n.ensure.from.line,c=n.ensure.to.line;s<o?(o=s,a=Ze(t,Wt(Ke(t,s))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=a&&(o=Ze(t,Wt(Ke(t,c))-e.wrapper.clientHeight),a=c)}return{from:o,to:Math.max(a,o+1)}}function Cr(e,t){var n=e.display,r=nr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=kn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+En(n),c=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=c?0:t.top;else if(t.bottom>i+o){var l=Math.min(t.top,(u?s:t.bottom)-o);l!=i&&(a.scrollTop=l)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Tn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(a.scrollLeft=t.right+(d?0:10)-h),a}function Or(e,t){null!=t&&(Lr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ar(e){Lr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Pr(e,t,n){null==t&&null==n||Lr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Lr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Dr(e,qn(e,t.from),qn(e,t.to),t.margin))}function Dr(e,t,n,r){var i=Cr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Pr(e,i.scrollLeft,i.scrollTop)}function Ir(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||si(e,{top:t}),Rr(e,t,!0),n&&si(e),ni(e,100))}function Rr(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Br(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,li(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Nr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+En(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Sn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Ur=function(e,t,n){this.cm=n;var r=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),fe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),fe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ur.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Ur.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ur.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ur.prototype.zeroWidthHack=function(){var e=v&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},Ur.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}))},Ur.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var zr=function(){};function Fr(e,t){t||(t=Nr(e));var n=e.display.barWidth,r=e.display.barHeight;jr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Sr(e),jr(e,Nr(e)),n=e.display.barWidth,r=e.display.barHeight}function jr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}zr.prototype.update=function(){return{bottom:0,right:0}},zr.prototype.setScrollLeft=function(){},zr.prototype.setScrollTop=function(){},zr.prototype.clear=function(){};var Wr={native:Ur,null:zr};function Hr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Wr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),fe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Br(e,t):Ir(e,t)}),e),e.display.scrollbars.addClass&&D(e.display.wrapper,e.display.scrollbars.addClass)}var Vr=0;function Kr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vr},t=e.curOp,on?on.ops.push(t):t.ownsGroup=on={ops:[t],delayedCallbacks:[]}}function Gr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{on=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)qr(t[n]);for(var r=0;r<t.length;r++)Yr(t[r]);for(var i=0;i<t.length;i++)Xr(t[i]);for(var o=0;o<t.length;o++)Zr(t[o]);for(var a=0;a<t.length;a++)Jr(t[a])}(e)}))}function qr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Sn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Sn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Vt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Yr(e){e.updatedDisplay=e.mustUpdate&&oi(e.cm,e.update)}function Xr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Sr(t),e.barMeasure=Nr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=On(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Sn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Tn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Zr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Br(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==L();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Fr(t,e.barMeasure),e.updatedDisplay&&ui(t,e.barMeasure),e.selectionChanged&&br(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&wr(e.cm)}function Jr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Rr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Br(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!me(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=O("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-xn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Sn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?Qe(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Qe(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Gn(e,t),c=n&&n!=t?Gn(e,n):s,u=Cr(e,i={left:Math.min(s.left,c.left),top:Math.min(s.top,c.top)-r,right:Math.max(s.left,c.left),bottom:Math.max(s.bottom,c.bottom)+r}),l=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(Ir(e,u.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(a=!0)),null!=u.scrollLeft&&(Br(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||pe(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&pe(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&pe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function $r(e,t){if(e.curOp)return t();Kr(e);try{return t()}finally{Gr(e)}}function Qr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Kr(e);try{return t.apply(e,arguments)}finally{Gr(e)}}}function ei(e){return function(){if(this.curOp)return e.apply(this,arguments);Kr(this);try{return e.apply(this,arguments)}finally{Gr(this)}}}function ti(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Kr(t);try{return e.apply(this,arguments)}finally{Gr(t)}}}function ni(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,B(ri,e))}function ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ht(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?je(t.mode,r.state):null,c=lt(e,o,r,!0);s&&(r.state=s),o.styles=c.styles;var u=o.styleClasses,l=c.classes;l?o.styleClasses=l:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=l&&(!u||!l||u.bgClass!=l.bgClass||u.textClass!=l.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&dt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ni(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&$r(e,(function(){for(var t=0;t<i.length;t++)fr(e,i[t],"text")}))}}var ii=function(e,t,n){var r=e.display;this.viewport=t,this.visible=kr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Tn(e),this.force=n,this.dims=ir(e),this.events=[]};function oi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return hr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==pr(e))return!1;fi(e)&&(hr(e),t.dims=ir(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),wt&&(o=Ut(e.doc,o),a=zt(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=rn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=rn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(ur(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(rn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,ur(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=Wt(Ke(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=pr(e);if(!s&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var l=function(e){if(e.hasFocus())return null;var t=L();if(!t||!P(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&P(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return u>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return c&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,l=r.viewFrom,f=0;f<u.length;f++){var h=u[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var d=i&&null!=t&&t<=l&&h.lineNumber;h.changes&&(F(h.changes,"gutter")>-1&&(d=!1),un(e,h,l,n)),d&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode($e(e.options,l)))),a=h.node.nextSibling}else{var p=gn(e,h,l,n);o.insertBefore(p,a)}l+=h.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=L()&&(e.activeElt.focus(),e.anchorNode&&P(document.body,e.anchorNode)&&P(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(l),k(n.cursorDiv),k(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ni(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Tn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+En(e.display)-kn(e),n.top)}),t.visible=kr(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&oi(e,t);r=!1){Sr(e);var i=Nr(e);mr(e),Fr(e,i),ui(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var n=new ii(e,t);if(oi(e,n)){Sr(e),ai(e,n);var r=Nr(e);mr(e),Fr(e,r),ui(e,r),n.finish()}}function ci(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ui(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Sn(e)+"px"}function li(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=or(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var c=0;c<s.length;c++)s[c].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function fi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=$e(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(O("div",[O("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ci(e.display),!0}return!1}function hi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function di(e){var t=e.gutters,n=e.gutterSpecs;k(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(O("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ci(e)}function pi(e){di(e.display),lr(e),li(e)}function mi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=A("div",null,"CodeMirror-code"),o.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=O("div",null,"CodeMirror-cursors"),o.measure=O("div",null,"CodeMirror-measure"),o.lineMeasure=O("div",null,"CodeMirror-measure"),o.lineSpace=A("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=A("div",[o.lineSpace],"CodeMirror-lines");o.mover=O("div",[u],null,"position: relative"),o.sizer=O("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=O("div",null,null,"position: absolute; height: 30px; width: 1px;"),o.gutters=O("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=O("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=O("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),c||n&&_||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=hi(i.gutters,i.lineNumbers),di(o),r.init(o)}ii.prototype.signal=function(e,t){_e(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)pe.apply(null,this.events[e])};var gi=0,_i=null;function vi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function yi(e){var t=vi(e);return t.x*=_i,t.y*=_i,t}function bi(e,t){var r=vi(t),i=r.x,o=r.y,a=e.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(i&&u||o&&l){if(o&&v&&c)e:for(var h=t.target,d=a.view;h!=s;h=h.parentNode)for(var p=0;p<d.length;p++)if(d[p].node==h){e.display.currentWheelTarget=h;break e}if(i&&!n&&!f&&null!=_i)return o&&l&&Ir(e,Math.max(0,s.scrollTop+o*_i)),Br(e,Math.max(0,s.scrollLeft+i*_i)),(!o||o&&l)&&ye(t),void(a.wheelStartX=null);if(o&&null!=_i){var m=o*_i,g=e.doc.scrollTop,_=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):_=Math.min(e.doc.height,_+m+50),si(e,{top:g,bottom:_})}gi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(_i=(_i*gi+n)/(gi+1),++gi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?_i=-.53:n?_i=15:l?_i=-.7:h&&(_i=-1/3);var wi=function(e,t){this.ranges=e,this.primIndex=t};wi.prototype.primary=function(){return this.ranges[this.primIndex]},wi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!tt(n.anchor,r.anchor)||!tt(n.head,r.head))return!1}return!0},wi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new xi(nt(this.ranges[t].anchor),nt(this.ranges[t].head));return new wi(e,this.primIndex)},wi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},wi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(et(t,r.from())>=0&&et(e,r.to())<=0)return n}return-1};var xi=function(e,t){this.anchor=e,this.head=t};function Ei(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return et(e.from(),t.from())})),n=F(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],c=et(s.to(),a.from());if(r&&!a.empty()?c>0:c>=0){var u=it(s.from(),a.from()),l=rt(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new xi(f?l:u,f?u:l))}}return new wi(t,n)}function Mi(e,t){return new wi([new xi(e,t||e)],0)}function Si(e){return e.text?Qe(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ti(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return Si(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Si(t).ch-t.to.ch),Qe(n,r)}function ki(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new xi(Ti(i.anchor,t),Ti(i.head,t)))}return Ei(e.cm,n,e.sel.primIndex)}function Ci(e,t,n){return e.line==t.line?Qe(n.line,e.ch-t.ch+n.ch):Qe(n.line+(e.line-t.line),e.ch)}function Oi(e){e.doc.mode=Ue(e.options,e.doc.modeOption),Ai(e)}function Ai(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ni(e,100),e.state.modeGen++,e.curOp&&lr(e)}function Pi(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Li(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),kt(e),Ct(e,n);var i=r?r(e):1;i!=e.height&&Ye(e,i)}(e,n,i,r),sn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new Kt(u[o],i(o),r));return n}var s=t.from,c=t.to,u=t.text,l=Ke(e,s.line),f=Ke(e,c.line),h=Y(u),d=i(u.length-1),p=c.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Pi(e,t)){var m=a(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(l==f)if(1==u.length)o(l,l.text.slice(0,s.ch)+h+l.text.slice(c.ch),d);else{var g=a(1,u.length-1);g.push(new Kt(h+l.text.slice(c.ch),d,r)),o(l,l.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,g)}else if(1==u.length)o(l,l.text.slice(0,s.ch)+u[0]+f.text.slice(c.ch),i(0)),e.remove(s.line+1,p);else{o(l,l.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(c.ch),d);var _=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,_)}sn(e,"change",e,t)}function Di(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var c=o&&s.sharedHist;n&&!c||(t(s.doc,c),e(s.doc,r,c))}}}(e,null,!0)}function Ii(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sr(e),Oi(e),Ri(e),e.options.lineWrapping||Vt(e),e.options.mode=t.modeOption,lr(e)}function Ri(e){("rtl"==e.doc.direction?D:T)(e.display.lineDiv,"CodeMirror-rtl")}function Bi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ni(e,t){var n={from:nt(t.from),to:Si(t),text:Ge(e,t.from,t.to)};return Wi(e,n,t.from.line,t.to.line+1),Di(e,(function(e){return Wi(e,n,t.from.line,t.to.line+1)}),!0),n}function Ui(e){for(;e.length&&Y(e).ranges;)e.pop()}function zi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Ui(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(i,i.lastOp==r)))a=Y(o.changes),0==et(t.from,t.to)&&0==et(t.from,a.to)?a.to=Si(t):o.changes.push(Ni(e,t));else{var c=Y(i.done);for(c&&c.ranges||ji(e.sel,i.done),o={changes:[Ni(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||pe(e,"historyAdded")}function Fi(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:ji(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Ui(i.undone)}function ji(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Wi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Hi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Vi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Hi(n[i]));return r}(e,t),r=St(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var c=a[s],u=0;u<o.length;++u)if(o[u].marker==c.marker)continue e;o.push(c)}else a&&(n[i]=a)}return n}function Ki(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?wi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var c=0;c<a.length;++c){var u=a[c],l=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(l=f.match(/^spans_(\d+)$/))&&F(t,Number(l[1]))>-1&&(Y(s)[f]=u[f],delete u[f])}}}return r}function Gi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=et(t,i)<0;o!=et(n,i)<0?(i=t,t=n):o!=et(t,n)<0&&(t=n)}return new xi(i,t)}return new xi(n||t,t)}function qi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),$i(e,new wi([Gi(e.sel.primary(),t,n,i)],0),r)}function Yi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Gi(e.sel.ranges[o],t[o],null,i);$i(e,Ei(e.cm,r,e.sel.primIndex),n)}function Xi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,$i(e,Ei(e.cm,i,e.sel.primIndex),r)}function Zi(e,t,n,r){$i(e,Mi(t,n),r)}function Ji(e,t,n){var r=e.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=t,Qi(e,t,n)):$i(e,t,n)}function $i(e,t,n){Qi(e,t,n),Fi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Qi(e,t,n){(_e(e,"beforeSelectionChange")||e.cm&&_e(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new xi(at(e,t[n].anchor),at(e,t[n].head))},origin:n&&n.origin};return pe(e,"beforeSelectionChange",e,r),e.cm&&pe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Ei(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);eo(e,no(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Ar(e.cm)}function eo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),sn(e,"cursorActivity",e))}function to(e){eo(e,no(e,e.sel,null,!1))}function no(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],c=io(e,a.anchor,s&&s.anchor,n,r),u=io(e,a.head,s&&s.head,n,r);(i||c!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new xi(c,u))}return i?Ei(e.cm,i,t.primIndex):t}function ro(e,t,n,r,i){var o=Ke(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],c=s.marker,u="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,l="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l?s.to>=t.ch:s.to>t.ch))){if(i&&(pe(c,"beforeCursorEnter"),c.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!c.atomic)continue;if(n){var f=c.find(r<0?1:-1),h=void 0;if((r<0?l:u)&&(f=oo(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(h=et(f,n))&&(r<0?h<0:h>0))return ro(e,f,t,r,i)}var d=c.find(r<0?-1:1);return(r<0?u:l)&&(d=oo(e,d,r,d.line==t.line?o:null)),d?ro(e,d,t,r,i):null}}return t}function io(e,t,n,r,i){var o=r||1,a=ro(e,t,n,o,i)||!i&&ro(e,t,n,o,!0)||ro(e,t,n,-o,i)||!i&&ro(e,t,n,-o,!0);return a||(e.cantEdit=!0,Qe(e.first,0))}function oo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,Qe(t.line-1)):null:n>0&&t.ch==(r||Ke(e,t.line)).text.length?t.line<e.first+e.size-1?Qe(t.line+1,0):null:new Qe(t.line,t.ch+n)}function ao(e){e.setSelection(Qe(e.firstLine(),0),Qe(e.lastLine()),W)}function so(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),pe(e,"beforeChange",e,r),e.cm&&pe(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function co(e,t,n){if(e.cm){if(!e.cm.curOp)return Qr(e.cm,co)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"))||(t=so(e,t,!0))){var r=bt&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=F(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),c=0;c<i.length;++c){var u=i[c];if(!(et(u.to,s.from)<0||et(u.from,s.to)>0)){var l=[c,1],f=et(u.from,s.from),h=et(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&l.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&l.push({from:s.to,to:u.to}),i.splice.apply(i,l),c+=l.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)uo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else uo(e,t)}}function uo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var n=ki(e,t);zi(e,t,n,e.cm?e.cm.curOp.id:NaN),ho(e,t,n,St(e,t));var r=[];Di(e,(function(e,n){n||-1!=F(r,e.history)||(_o(e.history,t),r.push(e.history)),ho(e,t,null,St(e,t))}))}}function lo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,c="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(ji(i,c),n&&!i.equals(e.sel))return void $i(e,i,{clearRedo:!1});a=i}var l=[];ji(a,c),c.push({changes:l,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=_e(e,"beforeChange")||e.cm&&_e(e.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=t,f&&!so(e,r,!1))return s.length=0,{};l.push(Ni(e,r));var o=n?ki(e,r):Y(s);ho(e,r,o,Vi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Si(r)});var a=[];Di(e,(function(e,t){t||-1!=F(a,e.history)||(_o(e.history,r),a.push(e.history)),ho(e,r,null,Vi(e,r))}))},d=i.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function fo(e,t){if(0!=t&&(e.first+=t,e.sel=new wi(X(e.sel.ranges,(function(e){return new xi(Qe(e.anchor.line+t,e.anchor.ch),Qe(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){lr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)fr(e.cm,r,"gutter")}}function ho(e,t,n,r){if(e.cm&&!e.cm.curOp)return Qr(e.cm,ho)(e,t,n,r);if(t.to.line<e.first)fo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);fo(e,i),t={from:Qe(e.first,0),to:Qe(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Qe(o,Ke(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ge(e,t.from,t.to),n||(n=ki(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,c=o.line;e.options.lineWrapping||(c=Xe(Nt(Ke(r,o.line))),r.iter(c,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ge(e),Li(r,t,n,ar(e)),e.options.lineWrapping||(r.iter(c,o.line+t.text.length,(function(e){var t=Ht(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=Ke(e,r).stateAfter;if(i&&(!(i instanceof ct)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),ni(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?lr(e):o.line!=a.line||1!=t.text.length||Pi(e.doc,t)?lr(e,o.line,a.line+1,u):fr(e,o.line,"text");var l=_e(e,"changes"),f=_e(e,"change");if(f||l){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&sn(e,"change",e,h),l&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,r):Li(e,t,r),Qi(e,n,W),e.cantEdit&&io(e,Qe(e.firstLine(),0))&&(e.cantEdit=!1)}}function po(e,t,n,r,i){var o;r||(r=n),et(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),co(e,{from:n,to:r,text:t,origin:i})}function mo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function go(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)mo(o.ranges[s].anchor,t,n,r),mo(o.ranges[s].head,t,n,r)}else{for(var c=0;c<o.changes.length;++c){var u=o.changes[c];if(n<u.from.line)u.from=Qe(u.from.line+r,u.from.ch),u.to=Qe(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function _o(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;go(e.done,n,r,i),go(e.undone,n,r,i)}function vo(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Ke(e,ot(e,t)):i=Xe(t),null==i?null:(r(o,i)&&e.cm&&fr(e.cm,i,n),o)}function yo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function bo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}xi.prototype.from=function(){return it(this.anchor,this.head)},xi.prototype.to=function(){return rt(this.anchor,this.head)},xi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},yo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Gt(i),sn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},bo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof yo))){var s=[];this.collapse(s),this.children=[new yo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var c=new yo(i.lines.slice(s,s+=25));i.height-=c.height,this.children.splice(++r,0,c),c.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new bo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=F(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new bo(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var wo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function xo(e,t,n){Wt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Or(e,n)}wo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Xe(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=bn(this);Ye(n,Math.max(0,n.height-o)),e&&($r(e,(function(){xo(e,n,-o),fr(e,r,"widget")})),sn(e,"lineWidgetCleared",e,this,r))}},wo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=bn(this)-t;i&&(Ft(this.doc,r)||Ye(r,r.height+i),n&&$r(n,(function(){n.curOp.forceUpdate=!0,xo(n,r,i),sn(n,"lineWidgetChanged",n,e,Xe(r))})))},ve(wo);var Eo=0,Mo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Eo};function So(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=N(r)).shared=!1;var o=[So(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Di(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(So(e,at(e,t),at(e,n),r,i));for(var c=0;c<e.linked.length;++c)if(e.linked[c].isParent)return;a=Y(o)})),new To(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Qr(e.cm,So)(e,t,n,r,i);var o=new Mo(e,i),a=et(t,n);if(r&&N(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=A("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Bt(e,t.line,t,n,o)||t.line!=n.line&&Bt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");wt=!0}o.addToHistory&&zi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,c=t.line,u=e.cm;if(e.iter(c,n.line+1,(function(e){u&&o.collapsed&&!u.options.lineWrapping&&Nt(e)==u.display.maxLine&&(s=!0),o.collapsed&&c!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new xt(o,c==t.line?t.ch:null,c==n.line?n.ch:null)),++c})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){Ft(e,t)&&Ye(t,0)})),o.clearOnEnter&&fe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(bt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Eo,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)lr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var l=t.line;l<=n.line;l++)fr(u,l,"text");o.atomic&&to(u.doc),sn(u,"markerAdded",u,o)}return o}Mo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Kr(e),_e(this,"clear")){var n=this.find();n&&sn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Et(a.markedSpans,this);e&&!this.collapsed?fr(e,Xe(a),"text"):e&&(null!=s.to&&(i=Xe(a)),null!=s.from&&(r=Xe(a))),a.markedSpans=Mt(a.markedSpans,s),null==s.from&&this.collapsed&&!Ft(this.doc,a)&&e&&Ye(a,nr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=Nt(this.lines[c]),l=Ht(u);l>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=l,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&lr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&to(e.doc)),e&&sn(e,"markerCleared",e,this,r,i),t&&Gr(e),this.parent&&this.parent.clear()}},Mo.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Et(o.markedSpans,this);if(null!=a.from&&(n=Qe(t?o:Xe(o),a.from),-1==e))return n;if(null!=a.to&&(r=Qe(t?o:Xe(o),a.to),1==e))return r}return n&&{from:n,to:r}},Mo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&$r(r,(function(){var i=t.line,o=Xe(t.line),a=An(r,o);if(a&&(Nn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ft(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var c=bn(n)-s;c&&Ye(i,i.height+c)}sn(r,"markerChanged",r,e)}))},Mo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=F(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Mo.prototype.detachLine=function(e){if(this.lines.splice(F(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ve(Mo);var To=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ko(e){return e.findMarks(Qe(e.first,0),e.clipPos(Qe(e.lastLine())),(function(e){return e.parent}))}function Co(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Di(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==F(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}To.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sn(this,"clear")}},To.prototype.find=function(e,t){return this.primary.find(e,t)},ve(To);var Oo=0,Ao=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),bo.call(this,[new yo([new Kt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=Qe(r,0);this.sel=Mi(a),this.history=new Bi(null),this.id=++Oo,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Li(this,{from:a,to:a,text:t}),$i(this,Mi(a),W)};(Ao.prototype=J(bo.prototype,{constructor:Ao,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=qe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ti((function(e){var t=Qe(this.first,0),n=this.first+this.size-1;co(this,{from:t,to:Qe(n,Ke(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),$i(this,Mi(t),W)})),replaceRange:function(e,t,n,r){po(this,e,t=at(this,t),n=n?at(this,n):t,r)},getRange:function(e,t,n){var r=Ge(this,at(this,e),at(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Je(this,e))return Ke(this,e)},getLineNumber:function(e){return Xe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ke(this,e)),Nt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ti((function(e,t,n){Zi(this,at(this,"number"==typeof e?Qe(e,t||0):e),null,n)})),setSelection:ti((function(e,t,n){Zi(this,at(this,e),at(this,t||e),n)})),extendSelection:ti((function(e,t,n){qi(this,at(this,e),t&&at(this,t),n)})),extendSelections:ti((function(e,t){Yi(this,st(this,e),t)})),extendSelectionsBy:ti((function(e,t){Yi(this,st(this,X(this.sel.ranges,e)),t)})),setSelections:ti((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new xi(at(this,e[i].anchor),at(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),$i(this,Ei(this.cm,r,t),n)}})),addSelection:ti((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new xi(at(this,e),at(this,t||e))),$i(this,Ei(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ti((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=Qe(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],c=Ci(s.from,i,o),u=Ci(Si(s),i,o);if(i=s.to,o=u,"around"==n){var l=e.sel.ranges[a],f=et(l.head,l.anchor)<0;r[a]=new xi(f?u:c,f?c:u)}else r[a]=new xi(c,c)}return new wi(r,e.sel.primIndex)}(this,r,t),c=r.length-1;c>=0;c--)co(this,r[c]);s?Ji(this,s):this.cm&&Ar(this.cm)})),undo:ti((function(){lo(this,"undo")})),redo:ti((function(){lo(this,"redo")})),undoSelection:ti((function(){lo(this,"undo",!0)})),redoSelection:ti((function(){lo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Bi(this.history.maxGeneration),Di(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ki(this.history.done),undone:Ki(this.history.undone)}},setHistory:function(e){var t=this.history=new Bi(this.history.maxGeneration);t.done=Ki(e.done.slice(0),null,!0),t.undone=Ki(e.undone.slice(0),null,!0)},setGutterMarker:ti((function(e,t,n){return vo(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&te(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ti((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&vo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Je(this,e))return null;if(t=e,!(e=Ke(this,e)))return null}else if(null==(t=Xe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ti((function(e,t,n){return vo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(M(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:ti((function(e,t,n){return vo(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(M(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:ti((function(e,t,n){return function(e,t,n,r){var i=new wo(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),vo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ft(e,t)){var r=Wt(t)<e.scrollTop;Ye(t,t.height+bn(i)),r&&Or(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&sn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Xe(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return So(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return So(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ke(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var c=a[s];null!=c.to&&i==e.line&&e.ch>=c.to||null==c.from&&i!=e.line||null!=c.from&&i==t.line&&c.from>=t.ch||n&&!n(c.marker)||r.push(c.marker.parent||c.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),at(this,Qe(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Ao(qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ao(qe(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(et(o,a)){var s=So(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,ko(this)),r},unlinkDoc:function(e){if(e instanceof Ta&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Co(ko(this));break}if(e.history==this.history){var n=[e.id];Di(e,(function(e){return n.push(e.id)}),!0),e.history=new Bi(null),e.history.done=Ki(this.history.done,n),e.history.undone=Ki(this.history.undone,n)}},iterLinkedDocs:function(e){Di(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ae(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ti((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&$r(t=this.cm,(function(){Ri(t),lr(t)})))}))})).eachLine=Ao.prototype.iter;var Po=0;function Lo(e){var t=this;if(Do(t),!me(t,e)&&!wn(t.display,e)){ye(e),a&&(Po=+new Date);var n=cr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,c=function(){++s==i&&Qr(t,(function(){var e={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};co(t.doc,e),Ji(t.doc,Mi(n,Si(e)))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==F(t.options.allowDropFileTypes,e.type))c();else{var r=new FileReader;r.onerror=function(){return c()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)?c():(o[n]=e,c())},r.readAsText(e)}},l=0;l<r.length;l++)u(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Qi(t.doc,Mi(n,n)),h)for(var d=0;d<h.length;++d)po(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Do(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Io(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ro=!1;function Bo(){Ro||(function(){var e;fe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Io(No)}),100))})),fe(window,"blur",(function(){return Io(Mr)}))}(),Ro=!0)}function No(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Uo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zo=0;zo<10;zo++)Uo[zo+48]=Uo[zo+96]=String(zo);for(var Fo=65;Fo<=90;Fo++)Uo[Fo]=String.fromCharCode(Fo);for(var jo=1;jo<=12;jo++)Uo[jo+111]=Uo[jo+63235]="F"+jo;var Wo={};function Ho(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Vo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=X(n.split(" "),Ho),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var c=t[s];if(c){if(c!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function Ko(e,t,n,r){var i=(t=Xo(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ko(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Ko(e,t.fallthrough[o],n,r);if(a)return a}}}function Go(e){var t="string"==typeof e?e:Uo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function qo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Yo(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Uo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),qo(n,e,t))}function Xo(e){return"string"==typeof e?Wo[e]:e}function Zo(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&et(o.from,Y(r).to)<=0;){var a=r.pop();if(et(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}$r(e,(function(){for(var t=r.length-1;t>=0;t--)po(e.doc,"",r[t].from,r[t].to,"+delete");Ar(e)}))}function Jo(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function $o(e,t,n){var r=Jo(e,t.ch,n);return null==r?null:new Qe(t.line,r,n<0?"after":"before")}function Qo(e,t,n,r,i){if(e){"rtl"==t.getOption("direction")&&(i=-i);var o=ue(n,t.doc.direction);if(o){var a,s=i<0?Y(o):o[0],c=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=Pn(t,n);a=i<0?n.text.length-1:0;var l=Ln(t,u,a).top;a=oe((function(e){return Ln(t,u,e).top==l}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=Jo(n,a,1))}else a=i<0?s.to:s.from;return new Qe(r,a,c)}}return new Qe(r,i<0?n.text.length:0,i<0?"before":"after")}Wo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Wo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Wo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Wo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Wo.default=v?Wo.macDefault:Wo.pcDefault;var ea={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Zo(e,(function(t){if(t.empty()){var n=Ke(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Qe(t.head.line+1,0)}:{from:t.head,to:Qe(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Zo(e,(function(t){return{from:Qe(t.from().line,0),to:at(e.doc,Qe(t.to().line+1,0))}}))},delLineLeft:function(e){return Zo(e,(function(e){return{from:Qe(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Zo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Zo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Qe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Qe(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ta(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return na(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=Ke(e.doc,t),r=function(e){for(var t;t=It(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Xe(r)),Qo(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),V)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),V)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?na(e,t.head):r}),V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=U(e.getLine(o.line),o.ch,r);t.push(q(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return $r(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=Ke(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Qe(i.line,i.ch-1)),i.ch>0)i=new Qe(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Qe(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Ke(e.doc,i.line-1).text;a&&(i=new Qe(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Qe(i.line-1,a.length-1),i,"+transpose"))}n.push(new xi(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return $r(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Ar(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ta(e,t){var n=Ke(e.doc,t),r=Nt(n);return r!=n&&(t=Xe(r)),Qo(!0,e,r,t,1)}function na(e,t){var n=ta(e,t.line),r=Ke(e.doc,n.line),i=ue(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Qe(n.line,a?0:o,n.sticky)}return n}function ra(e,t,n){if("string"==typeof t&&!(t=ea[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=j}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var ia=new z;function oa(e,t,n,r){var i=e.state.keySeq;if(i){if(Go(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ia.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),aa(e,i+" "+t,n,r))return!0}return aa(e,t,n,r)}function aa(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ko(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Ko(t,e.options.extraKeys,n,e)||Ko(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&sn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ye(n),br(e)),!!i}function sa(e,t){var n=Yo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?oa(e,"Shift-"+n,t,(function(t){return ra(e,t,!0)}))||oa(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ra(e,t)})):oa(e,n,t,(function(t){return ra(e,t)})))}var ca=null;function ua(e){var t=this;if(t.curOp.focus=L(),!me(t,e)){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=sa(t,e);f&&(ca=i?r:null,!i&&88==r&&!Le&&(v?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n&&!v&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n))}D(t,"CodeMirror-crosshair"),fe(document,"keyup",n),fe(document,"mouseover",n)}(t)}}function la(e){16==e.keyCode&&(this.doc.sel.shift=!1),me(this,e)}function fa(e){var t=this;if(!(wn(t.display,e)||me(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==ca)return ca=null,void ye(e);if(!f||e.which&&!(e.which<10)||!sa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return oa(e,"'"+n+"'",t,(function(t){return ra(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var ha,da,pa=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ma(e){var t=this,n=t.display;if(!(me(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,wn(n,e))c||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!va(t,e)){var r=cr(t,e),i=Me(e),o=r?function(e,t){var n=+new Date;return da&&da.compare(n,e,t)?(ha=da=null,"triple"):ha&&ha.compare(n,e,t)?(da=new pa(n,e,t),ha=null,"double"):(ha=new pa(n,e,t),da=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),oa(e,qo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=ea[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=j}finally{e.state.suppressEdits=!1}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){a?setTimeout(B(wr,e),0):e.curOp.focus=L();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=v?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(v?n.altKey:n.ctrlKey)),i}(e,n,r),u=e.doc.sel;e.options.dragDrop&&ke&&!e.isReadOnly()&&"single"==n&&(i=u.contains(t))>-1&&(et((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(et(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,u=Qr(e,(function(t){c&&(i.scroller.draggable=!1),e.state.draggingText=!1,de(i.wrapper.ownerDocument,"mouseup",u),de(i.wrapper.ownerDocument,"mousemove",l),de(i.scroller,"dragstart",f),de(i.scroller,"drop",u),o||(ye(t),r.addNew||qi(e.doc,n,null,null,r.extend),c||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()}),20):i.input.focus())})),l=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};c&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),fe(i.wrapper.ownerDocument,"mouseup",u),fe(i.wrapper.ownerDocument,"mousemove",l),fe(i.scroller,"dragstart",f),fe(i.scroller,"drop",u),xr(e),setTimeout((function(){return i.input.focus()}),20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;ye(t);var a,s,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?u[s]:new xi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new xi(n,n)),n=cr(e,t,!0,!0),s=-1;else{var l=ga(e,n,r.unit);a=r.extend?Gi(a,l.anchor,l.head,r.extend):l}r.addNew?-1==s?(s=u.length,$i(o,Ei(e,u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?($i(o,Ei(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Xi(o,s,a,H):(s=0,$i(o,new wi([a],0),H),c=o.sel);var f=n;function h(t){if(0!=et(f,t))if(f=t,"rectangle"==r.unit){for(var i=[],u=e.options.tabSize,l=U(Ke(o,n.line).text,n.ch,u),h=U(Ke(o,t.line).text,t.ch,u),d=Math.min(l,h),p=Math.max(l,h),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var _=Ke(o,m).text,v=K(_,d,u);d==p?i.push(new xi(Qe(m,v),Qe(m,v))):_.length>v&&i.push(new xi(Qe(m,v),Qe(m,K(_,p,u))))}i.length||i.push(new xi(n,n)),$i(o,Ei(e,c.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,b=a,w=ga(e,t,r.unit),x=b.anchor;et(w.anchor,x)>0?(y=w.head,x=it(b.from(),w.anchor)):(y=w.anchor,x=rt(b.to(),w.head));var E=c.ranges.slice(0);E[s]=function(e,t){var n=t.anchor,r=t.head,i=Ke(e.doc,n.line);if(0==et(n,r)&&n.sticky==r.sticky)return t;var o=ue(i);if(!o)return t;var a=se(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var c,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)c=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var l=se(o,r.ch,r.sticky),f=l-a||(r.ch-n.ch)*(1==s.level?-1:1);c=l==u-1||l==u?f<0:f>0}var h=o[u+(c?-1:0)],d=c==(1==h.level),p=d?h.from:h.to,m=d?"after":"before";return n.ch==p&&n.sticky==m?t:new xi(new Qe(n.line,p,m),r)}(e,new xi(at(o,x),y)),$i(o,Ei(e,E,s),H)}}var d=i.wrapper.getBoundingClientRect(),p=0;function m(t){e.state.selectingText=!1,p=1/0,t&&(ye(t),i.input.focus()),de(i.wrapper.ownerDocument,"mousemove",g),de(i.wrapper.ownerDocument,"mouseup",_),o.history.lastSelOrigin=null}var g=Qr(e,(function(t){0!==t.buttons&&Me(t)?function t(n){var a=++p,s=cr(e,n,!0,"rectangle"==r.unit);if(s)if(0!=et(s,f)){e.curOp.focus=L(),h(s);var c=kr(i,o);(s.line>=c.to||s.line<c.from)&&setTimeout(Qr(e,(function(){p==a&&t(n)})),150)}else{var u=n.clientY<d.top?-20:n.clientY>d.bottom?20:0;u&&setTimeout(Qr(e,(function(){p==a&&(i.scroller.scrollTop+=u,t(n))})),50)}}(t):m(t)})),_=Qr(e,m);e.state.selectingText=_,fe(i.wrapper.ownerDocument,"mousemove",g),fe(i.wrapper.ownerDocument,"mouseup",_)}(e,r,t,o)}(t,r,o,e):Ee(e)==n.scroller&&ye(e):2==i?(r&&qi(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(E?t.display.input.onContextMenu(e):xr(t)))}}function ga(e,t,n){if("char"==n)return new xi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new xi(Qe(t.line,0),at(e.doc,Qe(t.line+1,0)));var r=n(e,t);return new xi(r.from,r.to)}function _a(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ye(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!_e(e,n))return we(t);o-=s.top-a.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=i)return pe(e,n,e,Ze(e.doc,o),e.display.gutterSpecs[c].className,t),we(t)}}function va(e,t){return _a(e,t,"gutterClick",!0)}function ya(e,t){wn(e.display,t)||function(e,t){return!!_e(e,"gutterContextMenu")&&_a(e,t,"gutterContextMenu",!1)}(e,t)||me(e,t,"contextmenu")||E||e.display.input.onContextMenu(t)}function ba(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),zn(e)}pa.prototype.compare=function(e,t,n){return this.time+400>e&&0==et(t,this.pos)&&n==this.button};var wa={toString:function(){return"CodeMirror.Init"}},xa={},Ea={};function Ma(e,t,n){if(!t!=!(n&&n!=wa)){var r=e.display.dragFunctions,i=t?fe:de;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Sa(e){e.options.lineWrapping?(D(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),Vt(e)),sr(e),lr(e),zn(e),setTimeout((function(){return Fr(e)}),100)}function Ta(e,t){var n=this;if(!(this instanceof Ta))return new Ta(e,t);this.options=t=t?N(t):{},N(xa,t,!1);var r=t.value;"string"==typeof r?r=new Ao(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ta.inputStyles[t.inputStyle](this),o=this.display=new mi(e,r,i,t);for(var u in o.wrapper.CodeMirror=this,ba(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Hr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!_&&o.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;fe(t.scroller,"mousedown",Qr(e,ma)),fe(t.scroller,"dblclick",a&&s<11?Qr(e,(function(t){if(!me(e,t)){var n=cr(e,t);if(n&&!va(e,t)&&!wn(e.display,t)){ye(t);var r=e.findWordAt(n);qi(e.doc,r.anchor,r.head)}}})):function(t){return me(e,t)||ye(t)}),fe(t.scroller,"contextmenu",(function(t){return ya(e,t)})),fe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||ya(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}fe(t.scroller,"touchstart",(function(i){if(!me(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!va(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),fe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),fe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!wn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new xi(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new xi(Qe(s.line,0),at(e.doc,Qe(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ye(n)}i()})),fe(t.scroller,"touchcancel",i),fe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Ir(e,t.scroller.scrollTop),Br(e,t.scroller.scrollLeft,!0),pe(e,"scroll",e))})),fe(t.scroller,"mousewheel",(function(t){return bi(e,t)})),fe(t.scroller,"DOMMouseScroll",(function(t){return bi(e,t)})),fe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){me(e,t)||xe(t)},over:function(t){me(e,t)||(function(e,t){var n=cr(e,t);if(n){var r=document.createDocumentFragment();_r(e,n,r),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),C(e.display.dragCursor,r)}}(e,t),xe(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-Po<100))xe(t);else if(!me(e,t)&&!wn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var n=O("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(e,t)},drop:Qr(e,Lo),leave:function(t){me(e,t)||Do(e)}};var c=t.input.getField();fe(c,"keyup",(function(t){return la.call(e,t)})),fe(c,"keydown",Qr(e,ua)),fe(c,"keypress",Qr(e,fa)),fe(c,"focus",(function(t){return Er(e,t)})),fe(c,"blur",(function(t){return Mr(e,t)}))}(this),Bo(),Kr(this),this.curOp.forceUpdate=!0,Ii(this,r),t.autofocus&&!_||this.hasFocus()?setTimeout(B(Er,this),20):Mr(this),Ea)Ea.hasOwnProperty(u)&&Ea[u](this,t[u],wa);fi(this),t.finishInit&&t.finishInit(this);for(var l=0;l<ka.length;++l)ka[l](this);Gr(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ta.defaults=xa,Ta.optionHandlers=Ea;var ka=[];function Ca(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=ht(e,t).state:n="prev");var a=e.options.tabSize,s=Ke(o,t),c=U(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,l=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(l.length),s.text))==j||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?U(Ke(o,t-1).text,null,a):0:"add"==n?u=c+e.options.indentUnit:"subtract"==n?u=c-e.options.indentUnit:"number"==typeof n&&(u=c+n),u=Math.max(0,u);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(u/a);d;--d)h+=a,f+="\t";if(h<u&&(f+=q(u-h)),f!=l)return po(o,f,Qe(t,0),Qe(t,l.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<l.length){var g=Qe(t,l.length);Xi(o,p,new xi(g,g));break}}}Ta.defineInitHook=function(e){return ka.push(e)};var Oa=null;function Aa(e){Oa=e}function Pa(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,c=Ae(t),u=null;if(s&&r.ranges.length>1)if(Oa&&Oa.text.join("\n")==t){if(r.ranges.length%Oa.text.length==0){u=[];for(var l=0;l<Oa.text.length;l++)u.push(o.splitLines(Oa.text[l]))}}else c.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=X(c,(function(e){return[e]})));for(var f=e.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],p=d.from(),m=d.to();d.empty()&&(n&&n>0?p=Qe(p.line,p.ch-n):e.state.overwrite&&!s?m=Qe(m.line,Math.min(Ke(o,m.line).text.length,m.ch+Y(c).length)):s&&Oa&&Oa.lineWise&&Oa.text.join("\n")==t&&(p=m=Qe(p.line,0)));var g={from:p,to:m,text:u?u[h%u.length]:c,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};co(e.doc,g),sn(e,"inputRead",e,g)}t&&!s&&Da(e,t),Ar(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function La(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||$r(t,(function(){return Pa(t,n,0,null,"paste")})),!0}function Da(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Ca(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ke(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ca(e,i.head.line,"smart"));a&&sn(e,"electricInput",e,i.head.line)}}}function Ia(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Qe(i,0),head:Qe(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ra(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ba(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ra(e),t}function Na(e,t,n,r,i){var o=t,a=n,s=Ke(e,t.line),c=i&&e.cm&&"rtl"==e.cm.getOption("direction")?-n:n;function u(r){var o;if(null==(o=i?function(e,t,n,r){var i=ue(t,e.doc.direction);if(!i)return $o(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=se(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return $o(t,n,r);var s,c=function(e,n){return Jo(t,e instanceof Qe?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Pn(e,t),Jn(e,t,s,n)):{begin:0,end:t.text.length}},l=u("before"==n.sticky?c(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,h=c(n,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=l.end:h>=a.from&&h>=l.begin)){var d=f?"before":"after";return new Qe(n.line,h,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new Qe(n.line,c(e,1),"before"):new Qe(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?r.begin:c(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:c(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},m=p(o+r,r,l);if(m)return m;var g=r>0?l.end:c(l.begin,-1);return null==g||r>0&&g==t.text.length||!(m=p(r>0?0:i.length-1,r,u(g)))?null:m}(e.cm,s,t,n):$o(s,t,n))){if(r||!function(){var n=t.line+c;return!(n<e.first||n>=e.first+e.size)&&(t=new Qe(n,t.ch,t.sticky),s=Ke(e,n))}())return!1;t=Qo(i,e.cm,s,t.line,c)}else t=o;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var l=null,f="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||u(!d);d=!1){var p=s.text.charAt(t.ch)||"\n",m=ee(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||m||(m="s"),l&&l!=m){n<0&&(n=1,u(),t.sticky="after");break}if(m&&(l=m),n>0&&!u(!d))break}var g=io(e,t,o,a,!0);return tt(o,g)&&(g.hitSide=!0),g}function Ua(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var c=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(c-.5*nr(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Xn(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var za=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fa(e,t){var n=An(e,t.line);if(!n||n.hidden)return null;var r=Ke(e.doc,t.line),i=Cn(n,r,t.line),o=ue(r,e.doc.direction),a="left";o&&(a=se(o,t.ch)%2?"right":"left");var s=Rn(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ja(e,t){return t&&(e.bad=!0),e}function Wa(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return ja(e.clipPos(Qe(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Ha(o,t,n)}}function Ha(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!P(r,t))return ja(Qe(Xe(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return ja(Qe(Xe(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var c=e.measure,u=c.maps;function l(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?c.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=Xe(i<0?e.line:e.rest[i]),f=o[a]+r;return(r<0||s!=t)&&(f=o[a+(r?1:0)]),Qe(l,f)}}}var f=l(a,s,n);if(f)return ja(f,i);for(var h=s.nextSibling,d=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(f=l(h,h.firstChild,0))return ja(Qe(f.line,f.ch-d),i);d+=h.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(f=l(p,p.firstChild,-1))return ja(Qe(f.line,f.ch+m),i);m+=p.textContent.length}}za.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){if(!me(r,e)){if(r.somethingSelected())Aa({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ia(r);Aa({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,W),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Oa.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var a=Ba(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Oa.text.join("\n");var c=document.activeElement;R(s),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}Ra(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),fe(i,"paste",(function(e){me(r,e)||La(e,r)||s<=11&&setTimeout(Qr(r,(function(){return t.updateFromDOM()})),20)})),fe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),fe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),fe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),fe(i,"touchstart",(function(){return n.forceCompositionEnd()})),fe(i,"input",(function(){t.composing||t.readFromDOMSoon()})),fe(i,"copy",o),fe(i,"cut",o)},za.prototype.prepareSelection=function(){var e=gr(this.cm,!1);return e.focus=this.cm.state.focused,e},za.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},za.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},za.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Wa(t,e.anchorNode,e.anchorOffset),s=Wa(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=et(it(a,s),i)||0!=et(rt(a,s),o)){var c=t.display.view,u=i.line>=t.display.viewFrom&&Fa(t,i)||{node:c[0].measure.map[2],offset:0},l=o.line<t.display.viewTo&&Fa(t,o);if(!l){var f=c[c.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;l={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(u&&l){var d,p=e.rangeCount&&e.getRangeAt(0);try{d=S(u.node,u.offset,l.offset,l.node)}catch(m){}d&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},za.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},za.prototype.showMultipleSelections=function(e){C(this.cm.display.cursorDiv,e.cursors),C(this.cm.display.selectionDiv,e.selection)},za.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},za.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return P(this.div,t)},za.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},za.prototype.blur=function(){this.div.blur()},za.prototype.getField=function(){return this.div},za.prototype.supportsTouch=function(){return!0},za.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():$r(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},za.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},za.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&l&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Wa(t,e.anchorNode,e.anchorOffset),r=Wa(t,e.focusNode,e.focusOffset);n&&r&&$r(t,(function(){$i(t.doc,Mi(n,r),W),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},za.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=Qe(a.line-1,Ke(r.doc,a.line-1).length)),s.ch==Ke(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=Qe(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=ur(r,a.line))?(t=Xe(i.view[0].line),n=i.view[0].node):(t=Xe(i.view[e].line),n=i.view[e-1].node.nextSibling);var c,u,l=ur(r,s.line);if(l==i.view.length-1?(c=i.viewTo-1,u=i.lineDiv.lastChild):(c=Xe(i.view[l+1].line)-1,u=i.view[l+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),c=!1;function u(){a&&(o+=s,c&&(o+=s),a=c=!1)}function l(e){e&&(u(),o+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void l(n);var o,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(Qe(r,0),Qe(i+1,0),(g=+h,function(e){return e.id==g}));return void(d.length&&(o=d[0].find(0))&&l(Ge(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&u();for(var m=0;m<t.childNodes.length;m++)f(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(c=!0),p&&(a=!0)}else 3==t.nodeType&&l(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(t),t!=n;)t=t.nextSibling,c=!1;return o}(r,n,u,t,c)),h=Ge(r.doc,Qe(t,0),Qe(c,Ke(r.doc,c).text.length));f.length>1&&h.length>1;)if(Y(f)==Y(h))f.pop(),h.pop(),c--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),t++}for(var d=0,p=0,m=f[0],g=h[0],_=Math.min(m.length,g.length);d<_&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var v=Y(f),y=Y(h),b=Math.min(v.length-(1==f.length?d:0),y.length-(1==h.length?d:0));p<b&&v.charCodeAt(v.length-p-1)==y.charCodeAt(y.length-p-1);)++p;if(1==f.length&&1==h.length&&t==a.line)for(;d&&d>a.ch&&v.charCodeAt(v.length-p-1)==y.charCodeAt(y.length-p-1);)d--,p++;f[f.length-1]=v.slice(0,v.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var w=Qe(t,d),x=Qe(c,h.length?Y(h).length-p:0);return f.length>1||f[0]||et(w,x)?(po(r.doc,f,w,x,"+input"),!0):void 0},za.prototype.ensurePolled=function(){this.forceCompositionEnd()},za.prototype.reset=function(){this.forceCompositionEnd()},za.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},za.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},za.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||$r(this.cm,(function(){return lr(e.cm)}))},za.prototype.setUneditable=function(e){e.contentEditable="false"},za.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Qr(this.cm,Pa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},za.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},za.prototype.onContextMenu=function(){},za.prototype.resetPosition=function(){},za.prototype.needsContentAttribute=!0;var Va=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};Va.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!me(r,e)){if(r.somethingSelected())Aa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ia(r);Aa({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,W):(n.prevInput="",i.value=t.text.join("\n"),R(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),fe(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),fe(i,"paste",(function(e){me(r,e)||La(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),fe(i,"cut",o),fe(i,"copy",o),fe(e.scroller,"paste",(function(t){if(!wn(e,t)&&!me(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),fe(e.lineSpace,"selectstart",(function(t){wn(e,t)||ye(t)})),fe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),fe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Va.prototype.createField=function(e){this.wrapper=Ba(),this.textarea=this.wrapper.firstChild},Va.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=gr(e);if(e.options.moveInputWithCursor){var i=Gn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Va.prototype.showSelection=function(e){var t=this.cm.display;C(t.cursorDiv,e.cursors),C(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Va.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&R(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Va.prototype.getField=function(){return this.textarea},Va.prototype.supportsTouch=function(){return!1},Va.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!_||L()!=this.textarea))try{this.textarea.focus()}catch(e){}},Va.prototype.blur=function(){this.textarea.blur()},Va.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Va.prototype.receivedFocus=function(){this.slowPoll()},Va.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Va.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Va.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Pe(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||v&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var c=0,u=Math.min(r.length,i.length);c<u&&r.charCodeAt(c)==i.charCodeAt(c);)++c;return $r(t,(function(){Pa(t,i.slice(c),r.length-c,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Va.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Va.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Va.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=cr(n,e),u=r.scroller.scrollTop;if(o&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Qr(n,$i)(n.doc,Mi(o),W);var l,h=i.style.cssText,d=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(l=window.scrollY),r.input.focus(),c&&window.scrollTo(null,l),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=g,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&m(),E?(xe(e),fe(window,"mouseup",(function e(){de(window,"mouseup",e),setTimeout(g,20)}))):setTimeout(g,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function g(){if(t.contextMenuPending==g&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&s<9)&&m();var e=0;r.detectingSelectAll=setTimeout((function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Qr(n,ao)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())}),200)}}},Va.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Va.prototype.setUneditable=function(){},Va.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=wa&&i(e,t,n)}:i)}e.defineOption=n,e.Init=wa,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Oi(e)}),!0),n("indentUnit",2,Oi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Ai(e),zn(e),lr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Qe(r,o))}r++}));for(var i=n.length-1;i>=0;i--)po(e.doc,t,n[i],Qe(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=wa&&e.refresh()})),n("specialCharPlaceholder",Jt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",_?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){ba(e),pi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Xo(t),i=n!=wa&&Xo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Sa,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=hi(t,e.options.lineNumbers),pi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?or(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return Fr(e)}),!0),n("scrollbarStyle","native",(function(e){Hr(e),Fr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=hi(e.options.gutters,t),pi(e)}),!0),n("firstLineNumber",1,pi,!0),n("lineNumberFormatter",(function(e){return e}),pi,!0),n("showCursorWhenSelecting",!1,mr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Mr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Ma),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,mr,!0),n("singleCursorHeightPerLine",!0,mr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ai,!0),n("addModeClass",!1,Ai,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Ai,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(Ta),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Qr(this,t[e])(this,n,i),pe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ei((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,lr(this)})),removeOverlay:ei((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void lr(this)}})),indentLine:ei((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Je(this.doc,e)&&Ca(this,e,t,n)})),indentSelection:ei((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ca(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Ar(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var c=s;c<n;++c)Ca(this,c,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Xi(this.doc,r,new xi(o,u[r].to()),W)}}})),getTokenAt:function(e,t){return _t(this,e,t)},getLineTokens:function(e,t){return _t(this,Qe(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=ft(this,Ke(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var c=0;c<i._global.length;c++){var u=i._global[c];u.pred(o,this)&&-1==F(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return ht(this,(e=ot(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Kn(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Xn(this,(e=Vn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Vn(this,{top:e,left:0},t||"page").top,Ze(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=Ke(this.doc,e)}else r=e;return Hn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Wt(r):0)},defaultTextHeight:function(){return nr(this.display)},defaultCharWidth:function(){return rr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=Gn(this,at(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var c=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&function(e,t){var n=Cr(e,t);null!=n.scrollTop&&Ir(e,n.scrollTop),null!=n.scrollLeft&&Br(e,n.scrollLeft)}(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:ei(ua),triggerOnKeyPress:ei(fa),triggerOnKeyUp:la,triggerOnMouseDown:ei(ma),execCommand:function(e){if(ea.hasOwnProperty(e))return ea[e].call(null,this)},triggerElectric:ei((function(e){Da(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),a=0;a<t&&!(o=Na(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:ei((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Na(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),V)})),deleteH:ei((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Zo(this,(function(n){var i=Na(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=at(this.doc,e),s=0;s<t;++s){var c=Gn(this,a,"div");if(null==o?o=c.left:c.left=o,(a=Ua(this,c,i,n)).hitSide)break}return a},moveV:ei((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=Gn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var c=Ua(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Or(n,Kn(n,c,"div").top-s.top),c}),V),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Ke(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ee(o,i)?function(e){return ee(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new xi(Qe(e.line,n),Qe(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),pe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(e,t){Pr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Sn(this)-this.display.barHeight,width:e.scrollWidth-Sn(this)-this.display.barWidth,clientHeight:kn(this),clientWidth:Tn(this)}},scrollIntoView:ei((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Qe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Lr(e),e.curOp.scrollToPos=t}(this,e):Dr(this,e.from,e.to,e.margin)})),setSize:ei((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Un(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){fr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,pe(this,"refresh",this)})),operation:function(e){return $r(this,e)},startOperation:function(){return Kr(this)},endOperation:function(){return Gr(this)},refresh:ei((function(){var e=this.display.cachedTextHeight;lr(this),this.curOp.forceUpdate=!0,zn(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),ci(this.display),(null==e||Math.abs(e-nr(this.display))>.5)&&sr(this),pe(this,"refresh",this)})),swapDoc:ei((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ii(this,e),zn(this),this.display.input.reset(),Pr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ve(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Ta);var Ka="iter insert remove copy getEditor constructor".split(" ");for(var Ga in Ao.prototype)Ao.prototype.hasOwnProperty(Ga)&&F(Ka,Ga)<0&&(Ta.prototype[Ga]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ao.prototype[Ga]));return ve(Ao),Ta.inputStyles={textarea:Va,contenteditable:za},Ta.defineMode=function(e){Ta.defaults.mode||"null"==e||(Ta.defaults.mode=e),Be.apply(this,arguments)},Ta.defineMIME=function(e,t){Re[e]=t},Ta.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ta.defineMIME("text/plain","null"),Ta.defineExtension=function(e,t){Ta.prototype[e]=t},Ta.defineDocExtension=function(e,t){Ao.prototype[e]=t},Ta.fromTextArea=function(e,t){if((t=t?N(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=L();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(fe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(c){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(de(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Ta((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=de,e.on=fe,e.wheelEventPixels=yi,e.Doc=Ao,e.splitLines=Ae,e.countColumn=U,e.findColumn=K,e.isWordChar=Q,e.Pass=j,e.signal=pe,e.Line=Kt,e.changeEnd=Si,e.scrollbarModel=Wr,e.Pos=Qe,e.cmpPos=et,e.modes=Ie,e.mimeModes=Re,e.resolveMode=Ne,e.getMode=Ue,e.modeExtensions=ze,e.extendMode=Fe,e.copyState=je,e.startState=He,e.innerMode=We,e.commands=ea,e.keyMap=Wo,e.keyName=Yo,e.isModifierKey=Go,e.lookupKey=Ko,e.normalizeKeyMap=Vo,e.StringStream=Ve,e.SharedTextMarker=To,e.TextMarker=Mo,e.LineWidget=wo,e.e_preventDefault=ye,e.e_stopPropagation=be,e.e_stop=xe,e.addClass=D,e.contains=P,e.rmClass=T,e.keyNames=Uo}(Ta),Ta.version="5.51.0",Ta}()},,,,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,f=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(32),i=n(12);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=c(i.toString(16))}return n},t.zero2=s,t.zero8=c,t.join32=function(e,t,n,i){var o=n-t;r(o%4===0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[s]=u>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var c=0,u=t;return c+=(u=u+r>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+n+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,c,u){var l=0,f=t;return l+=(f=f+r>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+n+i+a+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,c,u){return t+r+o+s+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";var r={},i=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||r.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*i).toString(32);return r[e]=!0,e}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(c[s[f]]=n[s[f]])}}return c}},function(e,t,n){"use strict";var r={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-").reverse(),n=t[0],r=t[1];return{blockKey:t.slice(2).reverse().join("-"),decoratorKey:parseInt(r,10),leafKey:parseInt(n,10)}}};e.exports=r},,,,,,,,function(e,t,n){var r=n(13).Buffer,i=n(115).Transform,o=n(154).StringDecoder;function a(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(12)(a,i),a.prototype.update=function(e,t,n){"string"===typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){r=i}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(n){t=n}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return!("undefined"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array,t.nodebuffer="undefined"!==typeof e,t.uint8array="undefined"!==typeof Uint8Array,"undefined"===typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(o){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),t.blob=0===i.getBlob("application/zip").size}catch(o){t.blob=!1}}}try{t.nodestream=!!n(265).Readable}catch(o){t.nodestream=!1}}).call(this,n(21).Buffer)},function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){"use strict";var r=n(493),i=n(105),o=n(34),a=n(508),s=n(59),c=n(165),u=n(167),l=n(235),f=n(509),h=n(251),d=n(122),p=n(28),m=n(233),g=n(17),_=n(173),v=n(572),y=n(262),b=n(123),w=n(573),x=n(576),E=n(43),M=n(263),S=n(582),T={Editor:f,EditorBlock:h,EditorState:g,CompositeDecorator:a,Entity:d,EntityInstance:m,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:c,RawDraftContentState:v,SelectionState:b,AtomicBlockUtils:r,KeyBindingUtil:_,Modifier:p,RichUtils:y,DefaultDraftBlockRenderMap:u,DefaultDraftInlineStyle:l,convertFromHTML:n(260),convertFromRaw:x,convertToRaw:w,genKey:E,getDefaultKeyBinding:M,getVisibleSelectionRect:S};e.exports=T},function(e,t,n){"use strict";var r=n(116),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var o=n(100);o.inherits=n(12);var a=n(191),s=n(153);o.inherits(f,a);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(34),i=n(106),o=n(15),a=o.List,s=o.Map,c=o.OrderedSet,u=o.Record,l=o.Repeat,f=c(),h=u({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}),d=function(e){var t,n;function o(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(l(r.EMPTY,n.length))),e}(t))||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){i(this.getCharacterList(),p,e,t)},s.findEntityRanges=function(e,t){i(this.getCharacterList(),m,e,t)},o}(h);function p(e,t){return e.getStyle()===t.getStyle()}function m(e,t){return e.getEntity()===t.getEntity()}e.exports=d},function(e,t,n){"use strict";function r(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(r).join(" "):Array.prototype.map.call(arguments,r).join(" ")}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},function(e,t,n){"use strict";var r=n(16),i=/[\uD800-\uDFFF]/;function o(e){return 55296<=e&&e<=57343}function a(e){return i.test(e)}function s(e,t){return 1+o(e.charCodeAt(t))}function c(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!a(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=s(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=s(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=s(e,o);return e.substring(i,o)}var u={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),i=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(e){if(!a(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return c(e,t=t<n?t:n,r)},substr:c};e.exports=u},function(e,t,n){var r;!function(i,o){"use strict";var a=function(e){if("object"!==typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function e(t,n,r){return 1===arguments.length?e.get(t):e.set(t,n,r)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return void 0===n?void 0:decodeURIComponent(n)},t.set=function(e,n,r){return(r=t._getExtendedOptions(r)).expires=t._getExpiresDate(void 0===n?-1:r.expires),t._document.cookie=t._generateCookieString(e,n,r),t},t.expire=function(e,n){return t.set(e,void 0,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"===typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"===typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){var r=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return r+=(n=n||{}).path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},r=e?e.split("; "):[],i=0;i<r.length;i++){var o=t._getKeyValuePairFromCookieString(r[i]);void 0===n[t._cacheKeyPrefix+o.key]&&(n[t._cacheKeyPrefix+o.key]=o.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,r=e.substr(0,t);try{n=decodeURIComponent(r)}catch(i){console&&"function"===typeof console.error&&console.error('Could not decode cookie with key "'+r+'"',i)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),t},s=i&&"object"===typeof i.document?a(i):a;void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}("undefined"===typeof window?this:window)},function(e,t,n){"use strict";(function(t,r){var i=n(13).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);if("function"===typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(27),n(41))},function(e,t,n){var r=n(13).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%i,u=Math.min(o-s,i-c),l=0;l<u;l++)n[c+l]=e[s+l];s+=u,(a+=u)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){"use strict";for(var r=n(20),i=n(55),o=n(131),a=n(36),s=new Array(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}t.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):new Array(c),a=0,o=0;a<c;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},t.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,c=new Array(2*a);for(n=0,t=0;t<a;)if((i=e[t++])<128)c[n++]=i;else if((o=s[i])>4)c[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&t<a;)i=i<<6|63&e[t++],o--;o>1?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,a),u.prototype.processChunk=function(e){var n=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}(n),c=n;a!==n.length&&(i.uint8array?(c=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(c=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(c),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=u,r.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(12),i=n(149),o=n(155),a=n(156),s=n(53);function c(e){s.call(this,"digest"),this._hash=e}r(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,n(21).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=0;o<r;++o)i[o]=e[o]^n[o];return i}}).call(this,n(21).Buffer)},function(e,t,n){"use strict";var r=n(42),i=n(32);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){var r=t;r.bignum=n(22),r.define=n(470).define,r.base=n(104),r.constants=n(221),r.decoders=n(475),r.encoders=n(477)},function(e,t,n){var r=t;r.Reporter=n(472).Reporter,r.DecoderBuffer=n(220).DecoderBuffer,r.EncoderBuffer=n(220).EncoderBuffer,r.Node=n(473)},function(e,t,n){"use strict";var r=n(15).OrderedMap,i={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,r){if(e.size){var i=0;e.reduce((function(e,o,a){return t(e,o)||(n(e)&&r(i,a),i=a),o})),n(e.last())&&r(i,e.count())}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},function(e,t,n){"use strict";var r=n(28),i=n(54)("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),s=o,c=o.getAnchorKey(),u=o.getFocusKey(),l=a.getBlockForKey(c);if(i&&"forward"===n&&c!==u)return a;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(i)if(o.getAnchorOffset()===a.getBlockForKey(c).getLength()){var f=a.getBlockForKey(l.nextSibling);if(!f||0===f.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===o)return a}return r.removeRange(a,s,n)}},function(e,t,n){"use strict";var r=null;r="undefined"!==typeof Promise?Promise:n(589),e.exports={Promise:r}},,,,,,function(e,t,n){e.exports=i;var r=n(150).EventEmitter;function i(){r.call(this)}n(12)(i,r),i.Readable=n(151),i.Writable=n(417),i.Duplex=n(418),i.Transform=n(419),i.PassThrough=n(420),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(41))},function(e,t,n){var r=n(13).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,s,c,u=n[0],l=n[1],f=n[2],h=n[3],d=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],_=4,v=1;v<i;v++)o=u[d>>>24]^l[p>>>16&255]^f[m>>>8&255]^h[255&g]^t[_++],a=u[p>>>24]^l[m>>>16&255]^f[g>>>8&255]^h[255&d]^t[_++],s=u[m>>>24]^l[g>>>16&255]^f[d>>>8&255]^h[255&p]^t[_++],c=u[g>>>24]^l[d>>>16&255]^f[p>>>8&255]^h[255&m]^t[_++],d=o,p=a,m=s,g=c;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^t[_++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&d])^t[_++],s=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^t[_++],c=(r[g>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[_++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[a]=u,r[u]=a;var l=e[a],f=e[l],h=e[f],d=257*e[u]^16843008*u;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*h^65537*f^257*l^16843008*a,o[0][u]=d<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===a?a=s=1:(a=l^e[e[e[h^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t===0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t===4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-t]^a}for(var u=[],l=0;l<r;l++){var f=r-l,h=i[f-(l%4?0:4)];u[l]=l<4||f<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},function(e,t,n){var r=n(13).Buffer,i=n(149);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),c=r.alloc(o||0),u=r.alloc(0);a>0||o>0;){var l=new i;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var f=0;if(a>0){var h=s.length-a;f=Math.min(a,u.length),u.copy(s,h,0,f),a-=f}if(f<u.length&&o>0){var d=c.length-o,p=Math.min(o,u.length-f);u.copy(c,d,f,f+p),o-=p}}return u.fill(0),{key:s,iv:c}}},function(e,t,n){"use strict";var r=n(22),i=n(33),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;for(var a=[],c=0;c<r.length;c+=n.step){var u=0;for(t=c+n.step-1;t>=c;t--)u=(u<<1)+r[t];a.push(u)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(c=0;c<a.length;c++){(u=a[c])===h?f=f.mixedAdd(n.points[c]):u===-h&&(f=f.mixedAdd(n.points[c].neg()))}l=l.add(f)}return l.toP()},c.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(t=0;u>=0&&0===a[u];u--)t++;if(u>=0&&t++,c=c.dblp(t),u<0)break;var l=a[u];s(0!==l),c="affine"===e.type?l>0?c.mixedAdd(i[l-1>>1]):c.mixedAdd(i[-l-1>>1].neg()):l>0?c.add(i[l-1>>1]):c.add(i[-l-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,r,i){for(var s=this._wnafT1,c=this._wnafT2,u=this._wnafT3,l=0,f=0;f<r;f++){var h=(S=t[f])._getNAFPoints(e);s[f]=h.wnd,c[f]=h.points}for(f=r-1;f>=1;f-=2){var d=f-1,p=f;if(1===s[d]&&1===s[p]){var m=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(m[1]=t[d].add(t[p]),m[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(m[1]=t[d].toJ().mixedAdd(t[p]),m[2]=t[d].add(t[p].neg())):(m[1]=t[d].toJ().mixedAdd(t[p]),m[2]=t[d].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],_=a(n[d],n[p]);l=Math.max(_[0].length,l),u[d]=new Array(l),u[p]=new Array(l);for(var v=0;v<l;v++){var y=0|_[0][v],b=0|_[1][v];u[d][v]=g[3*(y+1)+(b+1)],u[p][v]=0,c[d]=m}}else u[d]=o(n[d],s[d],this._bitLength),u[p]=o(n[p],s[p],this._bitLength),l=Math.max(u[d].length,l),l=Math.max(u[p].length,l)}var w=this.jpoint(null,null,null),x=this._wnafT4;for(f=l;f>=0;f--){for(var E=0;f>=0;){var M=!0;for(v=0;v<r;v++)x[v]=0|u[v][f],0!==x[v]&&(M=!1);if(!M)break;E++,f--}if(f>=0&&E++,w=w.dblp(E),f<0)break;for(v=0;v<r;v++){var S,T=x[v];0!==T&&(T>0?S=c[v][T-1>>1]:T<0&&(S=c[v][-T-1>>1].neg()),w="affine"===S.type?w.mixedAdd(S):w.add(S))}}for(f=0;f<r;f++)c[f]=null;return i?w:w.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?s(e[e.length-1]%2===0):7===e[0]&&s(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var r=n(469),i=n(480),o=n(481),a=n(158),s=n(202),c=n(13).Buffer;function u(e){var t;"object"!==typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=c.from(e));var n,u,l=o(e,t),f=l.tag,h=l.data;switch(f){case"CERTIFICATE":u=r.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(h,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":h=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,h=s.pbkdf2Sync(t,n,r,f,"sha1"),d=a.createDecipheriv(o,h,u),p=[];return p.push(d.update(l)),p.push(d.final()),c.concat(p)}(h=r.EncryptedPrivateKey.decode(h,"der"),t);case"PRIVATE KEY":switch(n=(u=r.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=r.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+f)}}e.exports=u,u.signature=r.signature},function(e,t,n){"use strict";var r=n(228),i=n(229);e.exports=function(e,t){var n=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),c=i(e,t).getBlockMap(),u=c.keySeq(),l=u.indexOf(n),f=u.indexOf(a)+1;return r(c.slice(l,f).map((function(e,t){var r=e.getText(),i=e.getCharacterList();return n===a?e.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):t===n?e.merge({text:r.slice(o),characterList:i.slice(o)}):t===a?e.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):e})))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(233),o=n(15),a=n(16),s=(0,o.Map)(),c=0;function u(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var l={getLastCreatedEntityKey:function(){return u("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),l.__getLastCreatedEntityKey()},create:function(e,t,n){return u("DraftEntity.create","contentState.createEntity"),l.__create(e,t,n)},add:function(e){return u("DraftEntity.add","contentState.addEntity"),l.__add(e)},get:function(e){return u("DraftEntity.get","contentState.getEntity"),l.__get(e)},mergeData:function(e,t){return u("DraftEntity.mergeData","contentState.mergeEntityData"),l.__mergeData(e,t)},replaceData:function(e,t){return u("DraftEntity.replaceData","contentState.replaceEntityData"),l.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return""+c},__create:function(e,t,n){return l.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function(e){var t=""+ ++c;return s=s.set(t,e),t},__get:function(e){var t=s.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=l.__get(e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),o=n.set("data",i);return s=s.set(e,o),o},__replaceData:function(e,t){var n=l.__get(e).set("data",t);return s=s.set(e,n),n}};e.exports=l},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset(),a=this.getEndOffset();return t<=o&&o<=n||t<=a&&a<=n}if(e!==r&&e!==i)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(15).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},function(e,t,n){"use strict";var r=n(16),i=null;function o(e){return"LTR"===e||"RTL"===e}function a(e){return o(e)||r(!1),"LTR"===e?"ltr":"rtl"}function s(e){i=e}var c={NEUTRAL:"NEUTRAL",LTR:"LTR",RTL:"RTL",isStrong:o,getHTMLDir:a,getHTMLDirIfDifferent:function(e,t){return o(e)||r(!1),o(t)||r(!1),e===t?null:a(e)},setGlobalDir:s,initGlobalDir:function(){s("LTR")},getGlobalDir:function(){return i||this.initGlobalDir(),i||r(!1),i}};e.exports=c},function(e,t,n){"use strict";var r=n(126),i=n(236);e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=i(t);if(null!=n)return n;t=t.parentNode}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var i={get:n(526),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},function(e,t,n){"use strict";var r=n(530),i=n(531);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),o=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-o.clientWidth,s=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},function(e,t,n){"use strict";e.exports=function(e){return"handled"===e||!0===e}},function(e,t,n){"use strict";(function(t){e.exports={isNode:"undefined"!==typeof t,newBufferFrom:function(e,n){if(t.from&&t.from!==Uint8Array.from)return t.from(e,n);if("number"===typeof e)throw new Error('The "data" argument must not be a number');return new t(e,n)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var n=new t(e);return n.fill(0),n},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"===typeof e.on&&"function"===typeof e.pause&&"function"===typeof e.resume}}}).call(this,n(21).Buffer)},function(e,t,n){"use strict";var r=n(407);function i(e,t){for(var n=0,r=0;r<t.height;r++)for(var i=0;i<t.width;i++){var o=Math.floor(i*e.width/t.width),a=4*(Math.floor(r*e.height/t.height)*e.width+o);t.data[n++]=e.data[a++],t.data[n++]=e.data[a++],t.data[n++]=e.data[a++],t.data[n++]=e.data[a++]}}function o(e,t){function n(e,t,n,r,i){return Math.round((e-t)*i+(n-e)*r)}function r(t,r,i,o,a){var s=e.data[4*(i*e.width+o)+t];return o===a?s:n(r,o,a,s,e.data[4*(i*e.width+a)+t])}function i(e,t,i,o,a,s,c){var u=r(e,t,s,i,o);return s===c?u:n(a,s,c,u,r(e,t,c,i,o))}for(var o=0,a=0;a<t.height;a++)for(var s=0;s<t.width;s++){var c=s*e.width/t.width,u=a*e.height/t.height,l=Math.floor(c),f=Math.floor(u),h=Math.min(Math.ceil(c),e.width-1),d=Math.min(Math.ceil(u),e.height-1);t.data[o++]=i(0,c,l,h,u,f,d),t.data[o++]=i(1,c,l,h,u,f,d),t.data[o++]=i(2,c,l,h,u,f,d),t.data[o++]=i(3,c,l,h,u,f,d)}}e.exports=function(e,t,n,a){var s;switch(a=a||"biliniear-interpolation"){case"nearest-neighbor":s=i;break;case"biliniear-interpolation":s=o;break;default:throw new Error("Unknown algorithm: ".concat(a))}var c=new r(t,n);return s(e,c),c}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(8),i=new r.D,o=new r.D,a=new r.p,s=["a","b","c"];function c(e,t,n,i){this.object=e,this.size=void 0!==t?t:1;var o=void 0!==n?n:16711680,a=void 0!==i?i:1,s=0,c=this.object.geometry;c&&c.isGeometry?s=3*c.faces.length:c&&c.isBufferGeometry&&(s=c.attributes.normal.count);var u=new r.c,l=new r.k(2*s*3,3);u.setAttribute("position",l),r.n.call(this,u,new r.m({color:o,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}c.prototype=Object.create(r.n.prototype),c.prototype.constructor=c,c.prototype.update=function(){this.object.updateMatrixWorld(!0),a.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,c=n.faces,u=0,l=0,f=c.length;l<f;l++)for(var h=c[l],d=0,p=h.vertexNormals.length;d<p;d++){var m=r[h[s[d]]],g=h.vertexNormals[d];i.copy(m).applyMatrix4(e),o.copy(g).applyMatrix3(a).normalize().multiplyScalar(this.size).add(i),t.setXYZ(u,i.x,i.y,i.z),u+=1,t.setXYZ(u,o.x,o.y,o.z),u+=1}else if(n&&n.isBufferGeometry){var _=n.attributes.position,v=n.attributes.normal;for(u=0,d=0,p=_.count;d<p;d++)i.set(_.getX(d),_.getY(d),_.getZ(d)).applyMatrix4(e),o.set(v.getX(d),v.getY(d),v.getZ(d)),o.applyMatrix3(a).normalize().multiplyScalar(this.size).add(i),t.setXYZ(u,i.x,i.y,i.z),u+=1,t.setXYZ(u,o.x,o.y,o.z),u+=1}t.needsUpdate=!0}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!==typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=n(587),r.prototype.loadAsync=n(607),r.support=n(55),r.defaults=n(268),r.version="3.2.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n(109),e.exports=r},,function(module,exports,__webpack_require__){var factory;"undefined"!==typeof self&&self,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.ts")}({"./src/asset.ts":function srcAssetTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GLTFAsset", function() { return GLTFAsset; });\nvar GLTFAsset = /** @class */ (function () {\n    function GLTFAsset() {\n        this.copyright = "";\n        this.defaultScene = 0;\n        this.generator = "glTF-js-utils";\n        this._scenes = [];\n    }\n    GLTFAsset.prototype.setDefaultScene = function (scene) {\n        if (typeof scene === "number")\n            this.defaultScene = scene;\n        else {\n            var sceneIndex = this._scenes.indexOf(scene);\n            if (sceneIndex === -1)\n                throw new Error("Scene passed to setDefaultScene was not found.");\n            this.defaultScene = sceneIndex;\n        }\n    };\n    GLTFAsset.prototype.addScene = function (scene) {\n        if (this._scenes.indexOf(scene) >= 0)\n            throw new Error("Scene passed to addScene was added prior.");\n        this._scenes.push(scene);\n    };\n    GLTFAsset.prototype.removeScene = function (scene) {\n        var sceneIndex = this._scenes.indexOf(scene);\n        if (sceneIndex >= 0)\n            this._scenes.splice(sceneIndex, 1);\n    };\n    GLTFAsset.prototype.forEachScene = function (fn) {\n        this._scenes.forEach(fn);\n    };\n    return GLTFAsset;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/asset.ts?')},"./src/buffer.ts":function srcBufferTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Buffer", function() { return Buffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BufferView", function() { return BufferView; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\nvar Buffer = /** @class */ (function () {\n    function Buffer(gltf) {\n        this._bufferViews = [];\n        this._finalized = false;\n        this._gltf = gltf;\n        if (!gltf.buffers)\n            gltf.buffers = [];\n        this._index = gltf.buffers.length;\n        var gltfBuffer = {\n            byteLength: -1,\n        };\n        gltf.buffers.push(gltfBuffer);\n        this._gltfBuffer = gltfBuffer;\n    }\n    Buffer.prototype.getIndex = function () {\n        return this._index;\n    };\n    Buffer.prototype.addBufferView = function (componentType, dataType) {\n        if (this._finalizePromise)\n            throw new Error("Cannot add buffer view after finalizing buffer");\n        var view = new BufferView(this, this._gltf, componentType, dataType);\n        this._bufferViews.push(view);\n        return view;\n    };\n    Buffer.prototype.getByteOffset = function (bufferView) {\n        var byteOffset = 0;\n        for (var _i = 0, _a = this._bufferViews; _i < _a.length; _i++) {\n            var view = _a[_i];\n            if (view === bufferView) {\n                return byteOffset;\n            }\n            byteOffset += view.getSize();\n        }\n        throw "Given bufferView was not present in this buffer";\n    };\n    Buffer.prototype.getViewFinalizePromises = function (targetBufferView) {\n        var promises = [];\n        for (var _i = 0, _a = this._bufferViews; _i < _a.length; _i++) {\n            var view = _a[_i];\n            if (targetBufferView && view === targetBufferView) {\n                return promises;\n            }\n            promises.push(view.finalized);\n        }\n        return promises;\n    };\n    Buffer.prototype.getArrayBuffer = function () {\n        if (!this._finalized)\n            throw new Error("Cannot get ArrayBuffer from Buffer before it is finalized");\n        var byteLength = this._getTotalSize();\n        var buffer = new ArrayBuffer(byteLength);\n        var currentIndex = 0;\n        for (var _i = 0, _a = this._bufferViews; _i < _a.length; _i++) {\n            var bufferView = _a[_i];\n            bufferView.writeOutToBuffer(buffer, currentIndex);\n            currentIndex += bufferView.getSize();\n        }\n        return buffer;\n    };\n    Buffer.prototype.finalize = function () {\n        var _this = this;\n        if (this._finalizePromise)\n            throw new Error("Buffer " + this._index + " was already finalized");\n        this._finalizePromise = new Promise(function (resolve) {\n            resolve(Promise.all(_this.getViewFinalizePromises()));\n        }).then(function () {\n            _this._finalized = true;\n            var arrayBuffer = _this.getArrayBuffer();\n            _this._gltfBuffer.byteLength = arrayBuffer.byteLength;\n            _this._gltfBuffer.uri = arrayBuffer; // Still not totally finalized, see stringify\n        });\n        this._gltf.extras.promises.push(this._finalizePromise);\n        return this._finalizePromise;\n    };\n    Buffer.prototype._getTotalSize = function () {\n        var byteLength = 0;\n        for (var _i = 0, _a = this._bufferViews; _i < _a.length; _i++) {\n            var bufferView = _a[_i];\n            byteLength += bufferView.getSize();\n        }\n        return byteLength;\n    };\n    return Buffer;\n}());\n\nvar BufferView = /** @class */ (function () {\n    function BufferView(buffer, gltf, componentType, dataType) {\n        this._data = [];\n        this._finalized = false;\n        this._accessorIndex = -1;\n        this._accessorAttr = null;\n        this._accessorMin = null;\n        this._accessorMax = null;\n        this._buffer = buffer;\n        this._componentType = componentType;\n        this._dataType = dataType;\n        if (!gltf.bufferViews)\n            gltf.bufferViews = [];\n        this._index = gltf.bufferViews.length;\n        this._gltfBufferView = {\n            buffer: buffer.getIndex(),\n            byteLength: -1,\n        };\n        var elementSize = this._getElementSize();\n        if (elementSize >= 4) { // Not a very good check.\n            this._gltfBufferView.byteStride = elementSize;\n        }\n        gltf.bufferViews.push(this._gltfBufferView);\n    }\n    BufferView.prototype.getIndex = function () {\n        return this._index;\n    };\n    BufferView.prototype.push = function (item) {\n        var writeIndex = this._data.length;\n        this._data.push(item);\n        if (this._accessorIndex >= 0) {\n            var minmaxIndex = writeIndex % this._numComponentsForDataType();\n            var currentMin = this._accessorMin[minmaxIndex];\n            if (typeof currentMin !== "number")\n                this._accessorMin[minmaxIndex] = item;\n            else\n                this._accessorMin[minmaxIndex] = Math.min(currentMin, item);\n            var currentMax = this._accessorMax[minmaxIndex];\n            if (typeof currentMax !== "number")\n                this._accessorMax[minmaxIndex] = item;\n            else\n                this._accessorMax[minmaxIndex] = Math.max(currentMax, item);\n        }\n    };\n    BufferView.prototype.getDataSize = function () {\n        return this._data.length * this._sizeOfComponentType();\n    };\n    BufferView.prototype.getSize = function () {\n        // Technically there are some cases where the data could be more compact,\n        // but to be safe, we just always align each view to 4 bytes.\n        return makeDivisibleBy(this.getDataSize(), 4);\n    };\n    BufferView.prototype.getByteOffset = function () {\n        if (!this._finalized)\n            throw new Error("Cannot get BufferView offset until it is finalized");\n        return this._buffer.getByteOffset(this);\n    };\n    BufferView.prototype.writeOutToBuffer = function (buffer, startIndex) {\n        if (startIndex === void 0) { startIndex = this.getSize(); }\n        var dataView = new DataView(buffer, startIndex);\n        var sizeOfComponentType = this._sizeOfComponentType();\n        for (var i = 0; i < this._data.length; i++) {\n            var val = this._data[i];\n            this._writeValue(dataView, i * sizeOfComponentType, val);\n        }\n    };\n    BufferView.prototype.writeAsync = function (buffer, startIndex) {\n        var _this = this;\n        if (startIndex === void 0) { startIndex = this.getSize(); }\n        if (this._asyncWritePromise)\n            throw new Error("Can\'t write multiple buffer view values asynchronously");\n        this._asyncWritePromise = buffer.then(function (arrayBuffer) {\n            var uintArray = new Uint8Array(arrayBuffer);\n            for (var i = 0; i < uintArray.byteLength; i++) {\n                _this._data.push(uintArray[i]);\n            }\n            delete _this._asyncWritePromise;\n        });\n        return this._asyncWritePromise;\n    };\n    BufferView.prototype.startAccessor = function (attr) {\n        if (this._accessorIndex >= 0)\n            throw "Accessor was started without ending the previous one";\n        this._accessorIndex = this._data.length;\n        this._accessorAttr = attr;\n        this._accessorMin = new Array(this._numComponentsForDataType());\n        this._accessorMax = new Array(this._numComponentsForDataType());\n    };\n    BufferView.prototype.endAccessor = function () {\n        if (this._accessorIndex < 0)\n            throw "An accessor was not started, but was attempted to be ended";\n        var elementSize = this._getElementSize();\n        var numComponentsForDataType = this._numComponentsForDataType();\n        var numElements = (this._data.length - this._accessorIndex) / numComponentsForDataType;\n        if (numElements % 1)\n            throw "An accessor was ended with missing component values";\n        for (var i = 0; i < this._accessorMin.length; i++) {\n            if (typeof this._accessorMin[i] !== "number")\n                this._accessorMin[i] = 0;\n            if (typeof this._accessorMax[i] !== "number")\n                this._accessorMax[i] = 0;\n        }\n        var info = {\n            byteOffset: elementSize * (this._accessorIndex / numComponentsForDataType),\n            componentType: this._componentType,\n            count: numElements,\n            type: this._dataType,\n            min: this._accessorMin,\n            max: this._accessorMax,\n        };\n        switch (this._accessorAttr) {\n            case "TEXCOORD_0":\n            case "TEXCOORD_1":\n            case "COLOR_0":\n                switch (this._componentType) {\n                    case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_BYTE:\n                    case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_SHORT:\n                        info.normalized = true;\n                        break;\n                }\n                break;\n        }\n        this._accessorIndex = -1;\n        this._accessorAttr = null;\n        this._accessorMin = null;\n        this._accessorMax = null;\n        return info;\n    };\n    Object.defineProperty(BufferView.prototype, "finalized", {\n        get: function () {\n            var _this = this;\n            if (!this._finalizedPromise) {\n                if (this._finalized) {\n                    return this._finalizedPromise = Promise.resolve();\n                }\n                else {\n                    return this._finalizedPromise = new Promise(function (resolve) {\n                        _this._finalizedPromiseResolve = resolve;\n                    });\n                }\n            }\n            return this._finalizedPromise;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BufferView.prototype.finalize = function () {\n        var _this = this;\n        var gltfBufferView = this._gltfBufferView;\n        return new Promise(function (resolve) {\n            var prereqs = _this._buffer.getViewFinalizePromises(_this);\n            if (_this._asyncWritePromise)\n                prereqs.push(_this._asyncWritePromise);\n            resolve(Promise.all(prereqs));\n        }).then(function () {\n            _this._finalized = true;\n            gltfBufferView.byteOffset = _this.getByteOffset();\n            gltfBufferView.byteLength = _this.getDataSize();\n            if (_this._finalizedPromiseResolve)\n                _this._finalizedPromiseResolve();\n        });\n    };\n    BufferView.prototype._getElementSize = function () {\n        return this._sizeOfComponentType() * this._numComponentsForDataType();\n    };\n    BufferView.prototype._sizeOfComponentType = function () {\n        switch (this._componentType) {\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].BYTE:\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_BYTE:\n                return 1;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].SHORT:\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_SHORT:\n                return 2;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_INT:\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].FLOAT:\n                return 4;\n        }\n        throw "Unrecognized component type " + this._componentType;\n    };\n    BufferView.prototype._numComponentsForDataType = function () {\n        switch (this._dataType) {\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].SCALAR:\n                return 1;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC2:\n                return 2;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC3:\n                return 3;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC4:\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].MAT2:\n                return 4;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].MAT3:\n                return 9;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].MAT4:\n                return 16;\n        }\n        throw "Unsupported data type";\n    };\n    BufferView.prototype._writeValue = function (dataView, index, val) {\n        switch (this._componentType) {\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].BYTE:\n                dataView.setInt8(index, val);\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_BYTE:\n                dataView.setUint8(index, val);\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].SHORT:\n                dataView.setInt16(index, val, true);\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_SHORT:\n                dataView.setUint16(index, val, true);\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_INT:\n                dataView.setUint32(index, val, true);\n                break;\n            case _types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].FLOAT:\n                dataView.setFloat32(index, val, true);\n                break;\n            default:\n                throw "Unsupported data type";\n        }\n    };\n    return BufferView;\n}());\n\nfunction makeDivisibleBy(num, by) {\n    return by * Math.ceil(num / by);\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/buffer.ts?')},"./src/glb.ts":function srcGlbTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGLBBuffer", function() { return createGLBBuffer; });\nvar GLB_HEADER_SIZE = 12;\nvar GLB_CHUNK_HEADER_SIZE = 8;\nvar GLB_MAGIC = 0x46546C67;\nvar GLTF_VERSION = 2;\nvar GLBChunkType;\n(function (GLBChunkType) {\n    GLBChunkType[GLBChunkType["JSON"] = 1313821514] = "JSON";\n    GLBChunkType[GLBChunkType["BIN"] = 5130562] = "BIN";\n})(GLBChunkType || (GLBChunkType = {}));\nfunction createGLBBuffer(json, bin) {\n    if (!json)\n        throw new Error("GLB requires a JSON glTF chunk");\n    var glbLength = GLB_HEADER_SIZE;\n    glbLength += GLB_CHUNK_HEADER_SIZE;\n    var encodedJSON = textToArrayBuffer(json);\n    var jsonChunkSize = makeDivisibleBy(encodedJSON.byteLength, 4);\n    glbLength += jsonChunkSize;\n    if (bin) {\n        glbLength += GLB_CHUNK_HEADER_SIZE;\n        glbLength += bin.byteLength; // Already rounded\n        if (bin.byteLength % 4)\n            throw new Error("Expected BIN chunk length to be divisible by 4 at this point");\n    }\n    var glbBuffer = new ArrayBuffer(glbLength);\n    var glbDataView = new DataView(glbBuffer);\n    writeHeader(glbDataView, glbLength);\n    // Chunk 0 (JSON)\n    var offset = writeChunk(glbDataView, encodedJSON, 12, GLBChunkType.JSON, 0x20);\n    // Chunk 1 (Binary Buffer)\n    if (bin) {\n        writeChunk(glbDataView, bin, offset, GLBChunkType.BIN);\n    }\n    return glbBuffer;\n}\nfunction writeHeader(out, glbLength) {\n    out.setUint32(0, GLB_MAGIC, true);\n    out.setUint32(4, GLTF_VERSION, true);\n    out.setUint32(8, glbLength, true);\n}\nfunction writeChunk(out, chunk, offset, chunkType, pad) {\n    if (pad === void 0) { pad = 0; }\n    var chunkLength = makeDivisibleBy(chunk.byteLength, 4);\n    out.setUint32(offset, chunkLength, true);\n    out.setUint32(offset += 4, chunkType, true);\n    writeArrayBuffer(out.buffer, chunk, offset += 4, 0, chunk.byteLength);\n    offset += chunk.byteLength;\n    while (offset % 4) {\n        if (pad) {\n            out.setUint8(offset, pad);\n        }\n        offset++;\n    }\n    return offset;\n}\nfunction textToArrayBuffer(json) {\n    return (new TextEncoder()).encode(json).buffer;\n}\nfunction writeArrayBuffer(target, src, targetOffset, srcOffset, byteLength) {\n    new Uint8Array(target, targetOffset, byteLength).set(new Uint8Array(src, srcOffset, byteLength), 0);\n}\nfunction makeDivisibleBy(num, by) {\n    return by * Math.ceil(num / by);\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/glb.ts?')},"./src/gltf.ts":function srcGltfTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addScenes", function() { return addScenes; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n/* harmony import */ var _buffer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./buffer */ "./src/buffer.ts");\n/* harmony import */ var _imageutils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imageutils */ "./src/imageutils.ts");\n\n\n\nfunction addScenes(gltf, asset) {\n    gltf.scene = asset.defaultScene;\n    var doingGLB = gltf.extras.options.bufferOutputType === _types__WEBPACK_IMPORTED_MODULE_0__["BufferOutputType"].GLB\n        || gltf.extras.options.imageOutputType === _types__WEBPACK_IMPORTED_MODULE_0__["ImageOutputType"].GLB;\n    if (doingGLB) {\n        gltf.extras.binChunkBuffer = addBuffer(gltf);\n    }\n    asset.forEachScene(function (scene) {\n        addScene(gltf, scene);\n    });\n    if (doingGLB) {\n        gltf.extras.binChunkBuffer.finalize();\n    }\n}\nfunction addScene(gltf, scene) {\n    if (!gltf.scenes)\n        gltf.scenes = [];\n    var gltfScene = {};\n    if (scene.name)\n        gltfScene.name = scene.name;\n    scene.forEachNode(function (node) {\n        if (!gltfScene.nodes)\n            gltfScene.nodes = [];\n        var index = addNode(gltf, node);\n        gltfScene.nodes.push(index);\n    });\n    gltf.scenes.push(gltfScene);\n}\nfunction addNode(gltf, node) {\n    if (!gltf.nodes)\n        gltf.nodes = [];\n    var gltfNode = {};\n    if (node.name)\n        gltfNode.name = node.name;\n    var translation = node.getTranslation();\n    if (translation.x !== 0 || translation.y !== 0 || translation.z !== 0)\n        gltfNode.translation = translation.toArray();\n    var rotation = node.getRotationQuaternion();\n    if (rotation.x !== 0 || rotation.y !== 0 || rotation.z !== 0 || rotation.w !== 1)\n        gltfNode.rotation = rotation.toArray();\n    var scale = node.getScale();\n    if (scale.x !== 1 || scale.y !== 1 || scale.z !== 1)\n        gltfNode.scale = scale.toArray();\n    var addedIndex = gltf.nodes.length;\n    gltf.nodes.push(gltfNode);\n    if (node.mesh) {\n        gltfNode.mesh = addMesh(gltf, node.mesh);\n    }\n    else {\n        node.forEachNode(function (node) {\n            if (!gltfNode.children)\n                gltfNode.children = [];\n            var index = addNode(gltf, node);\n            gltfNode.children.push(index);\n        });\n    }\n    return addedIndex;\n}\nfunction addMesh(gltf, mesh) {\n    if (!gltf.meshes)\n        gltf.meshes = [];\n    if (mesh.mode !== _types__WEBPACK_IMPORTED_MODULE_0__["MeshMode"].TRIANGLES)\n        throw "MeshMode other than TRIANGLES not currently supported";\n    addMaterials(gltf, mesh.material);\n    var gltfMesh = {\n        primitives: [],\n    };\n    var addedIndex = gltf.meshes.length;\n    gltf.meshes.push(gltfMesh);\n    var singleGLBBuffer = gltf.extras.options.bufferOutputType === _types__WEBPACK_IMPORTED_MODULE_0__["BufferOutputType"].GLB;\n    var meshBuffer;\n    if (singleGLBBuffer) {\n        meshBuffer = gltf.extras.binChunkBuffer;\n    }\n    else {\n        meshBuffer = addBuffer(gltf);\n    }\n    var vertexBufferView = meshBuffer.addBufferView(_types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].FLOAT, _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC3);\n    var vertexNormalBufferView = meshBuffer.addBufferView(_types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].FLOAT, _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC3);\n    var vertexUVBufferView = meshBuffer.addBufferView(_types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].FLOAT, _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC2);\n    var vertexColorBufferView;\n    function _ensureColorBufferView() {\n        if (vertexColorBufferView)\n            return;\n        vertexColorBufferView = meshBuffer.addBufferView(_types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_BYTE, _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].VEC4);\n    }\n    function _completeMeshPrimitive(materialIndex) {\n        var vertexBufferAccessorInfo = vertexBufferView.endAccessor();\n        var vertexNormalBufferAccessorInfo = vertexNormalBufferView.endAccessor();\n        var vertexUVBufferAccessorInfo = vertexUVBufferView.endAccessor();\n        var primitive = {\n            attributes: {\n                POSITION: addAccessor(gltf, vertexBufferView.getIndex(), vertexBufferAccessorInfo),\n                NORMAL: addAccessor(gltf, vertexNormalBufferView.getIndex(), vertexNormalBufferAccessorInfo),\n                TEXCOORD_0: addAccessor(gltf, vertexUVBufferView.getIndex(), vertexUVBufferAccessorInfo),\n            },\n            mode: mesh.mode,\n        };\n        if (materialIndex >= 0) {\n            primitive.material = materialIndex;\n            // Only add color data if it is per-face/vertex.\n            var material = mesh.material[materialIndex];\n            if (material.vertexColorMode !== _types__WEBPACK_IMPORTED_MODULE_0__["VertexColorMode"].NoColors) {\n                var vertexColorBufferAccessorInfo = vertexColorBufferView.endAccessor();\n                primitive.attributes["COLOR_0"] =\n                    addAccessor(gltf, vertexColorBufferView.getIndex(), vertexColorBufferAccessorInfo);\n            }\n        }\n        return primitive;\n    }\n    var lastMaterialIndex = null;\n    mesh.forEachFace(function (v1, v2, v3, color, materialIndex) {\n        var currentMaterial = null;\n        if (materialIndex >= 0)\n            currentMaterial = mesh.material[materialIndex];\n        // Need to start new accessors\n        if (lastMaterialIndex !== materialIndex) {\n            // And end the previous ones.\n            if (lastMaterialIndex !== null) {\n                var primitive = _completeMeshPrimitive(lastMaterialIndex);\n                gltfMesh.primitives.push(primitive);\n            }\n            vertexBufferView.startAccessor("POSITION");\n            vertexNormalBufferView.startAccessor("NORMAL");\n            vertexUVBufferView.startAccessor("TEXCOORD_0");\n            if (currentMaterial && currentMaterial.vertexColorMode !== _types__WEBPACK_IMPORTED_MODULE_0__["VertexColorMode"].NoColors) {\n                _ensureColorBufferView();\n                vertexColorBufferView.startAccessor("COLOR_0");\n            }\n            lastMaterialIndex = materialIndex;\n        }\n        // Positions\n        vertexBufferView.push(v1.x);\n        vertexBufferView.push(v1.y);\n        vertexBufferView.push(v1.z);\n        vertexBufferView.push(v2.x);\n        vertexBufferView.push(v2.y);\n        vertexBufferView.push(v2.z);\n        vertexBufferView.push(v3.x);\n        vertexBufferView.push(v3.y);\n        vertexBufferView.push(v3.z);\n        // Vertex normals\n        vertexNormalBufferView.push(v1.normalX);\n        vertexNormalBufferView.push(v1.normalY);\n        vertexNormalBufferView.push(v1.normalZ);\n        vertexNormalBufferView.push(v2.normalX);\n        vertexNormalBufferView.push(v2.normalY);\n        vertexNormalBufferView.push(v2.normalZ);\n        vertexNormalBufferView.push(v3.normalX);\n        vertexNormalBufferView.push(v3.normalY);\n        vertexNormalBufferView.push(v3.normalZ);\n        // Texture UV coords\n        vertexUVBufferView.push(v1.u);\n        vertexUVBufferView.push(v1.v);\n        vertexUVBufferView.push(v2.u);\n        vertexUVBufferView.push(v2.v);\n        vertexUVBufferView.push(v3.u);\n        vertexUVBufferView.push(v3.v);\n        if (currentMaterial) {\n            // Vertex colors\n            switch (currentMaterial.vertexColorMode) {\n                case _types__WEBPACK_IMPORTED_MODULE_0__["VertexColorMode"].FaceColors:\n                    // Just duplicate the face colors 3 times.\n                    for (var v = 0; v < 3; v++) {\n                        addColorToBufferView(vertexColorBufferView, color || new _types__WEBPACK_IMPORTED_MODULE_0__["RGBColor"]());\n                    }\n                    break;\n                case _types__WEBPACK_IMPORTED_MODULE_0__["VertexColorMode"].VertexColors:\n                    addColorToBufferView(vertexColorBufferView, v1.color || new _types__WEBPACK_IMPORTED_MODULE_0__["RGBColor"]());\n                    addColorToBufferView(vertexColorBufferView, v2.color || new _types__WEBPACK_IMPORTED_MODULE_0__["RGBColor"]());\n                    addColorToBufferView(vertexColorBufferView, v3.color || new _types__WEBPACK_IMPORTED_MODULE_0__["RGBColor"]());\n                    break;\n                // NoColors? We won\'t have an accessor.\n            }\n        }\n    });\n    if (lastMaterialIndex !== null) {\n        var primitive = _completeMeshPrimitive(lastMaterialIndex);\n        gltfMesh.primitives.push(primitive);\n    }\n    vertexBufferView.finalize();\n    vertexNormalBufferView.finalize();\n    vertexUVBufferView.finalize();\n    if (vertexColorBufferView)\n        vertexColorBufferView.finalize();\n    if (!singleGLBBuffer)\n        meshBuffer.finalize();\n    return addedIndex;\n}\nfunction addColorToBufferView(bufferView, color) {\n    bufferView.push((color.r * 255) | 0);\n    bufferView.push((color.g * 255) | 0);\n    bufferView.push((color.b * 255) | 0);\n    if ("a" in color) {\n        bufferView.push((color.a * 255) | 0);\n    }\n    else {\n        bufferView.push(0xFF);\n    }\n}\nfunction addBuffer(gltf) {\n    return new _buffer__WEBPACK_IMPORTED_MODULE_1__["Buffer"](gltf);\n}\nfunction addAccessor(gltf, bufferViewIndex, accessorInfo) {\n    if (!gltf.accessors)\n        gltf.accessors = [];\n    var addedIndex = gltf.accessors.length;\n    var componentType = accessorInfo.componentType;\n    var accessor = {\n        bufferView: bufferViewIndex,\n        byteOffset: accessorInfo.byteOffset,\n        componentType: componentType,\n        count: accessorInfo.count,\n        type: accessorInfo.type,\n        min: accessorInfo.min,\n        max: accessorInfo.max,\n    };\n    if (accessorInfo.normalized) {\n        accessor.normalized = true;\n    }\n    gltf.accessors.push(accessor);\n    return addedIndex;\n}\nfunction addMaterials(gltf, materials) {\n    var indices = [];\n    for (var _i = 0, materials_1 = materials; _i < materials_1.length; _i++) {\n        var material = materials_1[_i];\n        indices.push(addMaterial(gltf, material));\n    }\n    return indices;\n}\nfunction addMaterial(gltf, material) {\n    if (!gltf.materials)\n        gltf.materials = [];\n    var gltfMaterial = {};\n    if (material.name)\n        gltfMaterial.name = material.name;\n    if (material.alphaMode !== _types__WEBPACK_IMPORTED_MODULE_0__["AlphaMode"].OPAQUE)\n        gltfMaterial.alphaMode = material.alphaMode;\n    if (material.alphaCutoff !== 0.5)\n        gltfMaterial.alphaCutoff = material.alphaCutoff;\n    if (material.doubleSided)\n        gltfMaterial.doubleSided = true;\n    if (material.pbrMetallicRoughness) {\n        if (material.pbrMetallicRoughness.baseColorFactor) {\n            gltfMaterial.pbrMetallicRoughness = {};\n            gltfMaterial.pbrMetallicRoughness.baseColorFactor = material.pbrMetallicRoughness.baseColorFactor;\n        }\n        if (material.pbrMetallicRoughness.baseColorTexture) {\n            if (!gltfMaterial.pbrMetallicRoughness)\n                gltfMaterial.pbrMetallicRoughness = {};\n            var textureIndex = addTexture(gltf, material.pbrMetallicRoughness.baseColorTexture);\n            gltfMaterial.pbrMetallicRoughness.baseColorTexture = { index: textureIndex };\n        }\n    }\n    var addedIndex = gltf.materials.length;\n    gltf.materials.push(gltfMaterial);\n    return addedIndex;\n}\nfunction addTexture(gltf, texture) {\n    if (!gltf.textures)\n        gltf.textures = [];\n    var gltfTexture = {\n        sampler: addSampler(gltf, texture),\n        source: addImage(gltf, texture.image),\n    };\n    var addedIndex = gltf.textures.length;\n    gltf.textures.push(gltfTexture);\n    return addedIndex;\n}\nfunction addImage(gltf, image) {\n    if (!gltf.images)\n        gltf.images = [];\n    for (var i = 0; i < gltf.images.length; i++) {\n        if (image === gltf.images[i].extras) {\n            return i; // Already had an identical image.\n        }\n    }\n    var gltfImage = {\n        extras: image,\n    };\n    switch (gltf.extras.options.imageOutputType) {\n        case _types__WEBPACK_IMPORTED_MODULE_0__["ImageOutputType"].GLB:\n            var bufferView_1 = gltf.extras.binChunkBuffer.addBufferView(_types__WEBPACK_IMPORTED_MODULE_0__["ComponentType"].UNSIGNED_BYTE, _types__WEBPACK_IMPORTED_MODULE_0__["DataType"].SCALAR);\n            bufferView_1.writeAsync(Object(_imageutils__WEBPACK_IMPORTED_MODULE_2__["imageToArrayBuffer"])(image)).then(function () {\n                bufferView_1.finalize();\n            });\n            gltfImage.bufferView = bufferView_1.getIndex();\n            gltfImage.mimeType = "image/png";\n            break;\n        case _types__WEBPACK_IMPORTED_MODULE_0__["ImageOutputType"].DataURI:\n            gltfImage.uri = Object(_imageutils__WEBPACK_IMPORTED_MODULE_2__["imageToDataURI"])(image);\n            break;\n        default: // ImageOutputType.External\n            gltf.extras.promises.push(Object(_imageutils__WEBPACK_IMPORTED_MODULE_2__["imageToArrayBuffer"])(image).then(function (pngBuffer) {\n                gltfImage.uri = pngBuffer; // Processed later\n            }));\n            break;\n    }\n    var addedIndex = gltf.images.length;\n    gltf.images.push(gltfImage);\n    return addedIndex;\n}\nfunction addSampler(gltf, texture) {\n    if (!gltf.samplers)\n        gltf.samplers = [];\n    var gltfSampler = {\n        wrapS: texture.wrapS,\n        wrapT: texture.wrapT,\n    };\n    for (var i = 0; i < gltf.samplers.length; i++) {\n        if (objectsEqual(gltfSampler, gltf.samplers[i])) {\n            return i; // Already had an identical sampler.\n        }\n    }\n    var addedIndex = gltf.samplers.length;\n    gltf.samplers.push(gltfSampler);\n    return addedIndex;\n}\nfunction objectsEqual(obj1, obj2) {\n    return JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/gltf.ts?')},"./src/imageutils.ts":function srcImageutilsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "imageToDataURI", function() { return imageToDataURI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "imageToArrayBuffer", function() { return imageToArrayBuffer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "encodeBase64DataUri", function() { return encodeBase64DataUri; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "arrayBufferIsPNG", function() { return arrayBufferIsPNG; });\n/**\n * Converts an image into a Data URI string.\n * @param image\n */\nfunction imageToDataURI(image) {\n    var canvas = _imageTypeToCanvas(image);\n    return canvas.toDataURL();\n}\n/**\n * Converts an image into an ArrayBuffer.\n * @param image\n */\nfunction imageToArrayBuffer(image) {\n    var canvas = _imageTypeToCanvas(image);\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n        promiseResolve = resolve;\n        promiseReject = reject;\n    });\n    canvas.toBlob(function (blob) {\n        if (!blob) {\n            promiseReject("Unable to convert image to PNG");\n            return;\n        }\n        var reader = new FileReader();\n        reader.addEventListener("loadend", function () {\n            promiseResolve(reader.result);\n        });\n        reader.readAsArrayBuffer(blob);\n    }, "image/png");\n    return promise;\n}\nfunction _imageTypeToCanvas(image) {\n    var canvas;\n    if (image instanceof HTMLImageElement) {\n        canvas = document.createElement("canvas");\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext("2d");\n        context.drawImage(image, 0, 0, image.width, image.height);\n    }\n    else {\n        canvas = image;\n    }\n    return canvas;\n}\n/**\n * Converts an ArrayBuffer into a base64 Data URI string.\n * @param buf\n */\nfunction encodeBase64DataUri(buf) {\n    var codes = [];\n    var uint8arr = new Uint8Array(buf);\n    for (var i = 0; i < uint8arr.length; i++) {\n        codes.push(String.fromCharCode(uint8arr[i]));\n    }\n    var b64 = btoa(codes.join(""));\n    var uri = "data:application/octet-stream;base64," + b64;\n    return uri;\n}\n/** Determines if an ArrayBuffer holds a PNG format image. */\nfunction arrayBufferIsPNG(buffer) {\n    // PNG starts with 89 50 4E 47 0D 0A 1A 0A\n    if (buffer.byteLength < 8)\n        return false;\n    var arr = new Uint8Array(buffer);\n    return arr[0] === 0x89\n        && arr[1] === 0x50\n        && arr[2] === 0x4E\n        && arr[3] === 0x47\n        && arr[4] === 0x0D\n        && arr[5] === 0x0A\n        && arr[6] === 0x1A\n        && arr[7] === 0x0A;\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/imageutils.ts?')},"./src/index.ts":function srcIndexTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exportGLTF", function() { return exportGLTF; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exportGLTFZip", function() { return exportGLTFZip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exportGLB", function() { return exportGLB; });\n/* harmony import */ var _asset__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asset */ "./src/asset.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GLTFAsset", function() { return _asset__WEBPACK_IMPORTED_MODULE_0__["GLTFAsset"]; });\n\n/* harmony import */ var _scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scene */ "./src/scene.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Scene", function() { return _scene__WEBPACK_IMPORTED_MODULE_1__["Scene"]; });\n\n/* harmony import */ var _node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node */ "./src/node.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Node", function() { return _node__WEBPACK_IMPORTED_MODULE_2__["Node"]; });\n\n/* harmony import */ var _mesh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mesh */ "./src/mesh.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Mesh", function() { return _mesh__WEBPACK_IMPORTED_MODULE_3__["Mesh"]; });\n\n/* harmony import */ var _material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./material */ "./src/material.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Material", function() { return _material__WEBPACK_IMPORTED_MODULE_4__["Material"]; });\n\n/* harmony import */ var _texture__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./texture */ "./src/texture.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Texture", function() { return _texture__WEBPACK_IMPORTED_MODULE_5__["Texture"]; });\n\n/* harmony import */ var _vertex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vertex */ "./src/vertex.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Vertex", function() { return _vertex__WEBPACK_IMPORTED_MODULE_6__["Vertex"]; });\n\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./math */ "./src/math.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "XYZPair", function() { return _math__WEBPACK_IMPORTED_MODULE_7__["XYZPair"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Quaternion", function() { return _math__WEBPACK_IMPORTED_MODULE_7__["Quaternion"]; });\n\n/* harmony import */ var _threejs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./threejs */ "./src/threejs.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "glTFAssetFromTHREE", function() { return _threejs__WEBPACK_IMPORTED_MODULE_8__["glTFAssetFromTHREE"]; });\n\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AlphaMode", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["AlphaMode"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ComponentType", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["ComponentType"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DataType", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["DataType"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MeshMode", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["MeshMode"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RGBColor", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["RGBColor"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RGBAColor", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["RGBAColor"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VertexColorMode", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["VertexColorMode"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WrappingMode", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["WrappingMode"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ImageOutputType", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["ImageOutputType"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BufferOutputType", function() { return _types__WEBPACK_IMPORTED_MODULE_9__["BufferOutputType"]; });\n\n/* harmony import */ var _gltf__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./gltf */ "./src/gltf.ts");\n/* harmony import */ var _imageutils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./imageutils */ "./src/imageutils.ts");\n/* harmony import */ var _glb__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./glb */ "./src/glb.ts");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MODEL_NAME_GLTF = "model.gltf";\nvar MODEL_NAME_GLB = "model.glb";\nvar BIN_CHUNK_NAME = "BIN";\n/**\n * Creates a glTF model from a GLTFAsset structure.\n * @param asset GLTFAsset model structure\n * @param options\n * @returns An object, each key pointing to a file.\n */\nfunction exportGLTF(asset, options) {\n    options = options || {};\n    var gltf = {\n        asset: {\n            version: "2.0",\n            copyright: asset.copyright,\n            generator: asset.generator,\n        },\n        extras: {\n            options: options,\n            binChunkBuffer: null,\n            promises: [],\n        }\n    };\n    Object(_gltf__WEBPACK_IMPORTED_MODULE_10__["addScenes"])(gltf, asset);\n    var promises = gltf.extras.promises;\n    var currentData = 1;\n    var currentImg = 1;\n    var binChunkBuffer = null;\n    return Promise.all(promises).then(function () {\n        var output = {};\n        delete gltf.extras;\n        var jsonSpacing = typeof options.jsonSpacing === "number" ? options.jsonSpacing : 4;\n        var gltfString = JSON.stringify(gltf, function (key, value) {\n            if (key === "extras")\n                return undefined;\n            if (value instanceof ArrayBuffer) {\n                if (Object(_imageutils__WEBPACK_IMPORTED_MODULE_11__["arrayBufferIsPNG"])(value)) {\n                    switch (options.imageOutputType) {\n                        case _types__WEBPACK_IMPORTED_MODULE_9__["ImageOutputType"].DataURI:\n                        case _types__WEBPACK_IMPORTED_MODULE_9__["ImageOutputType"].GLB:\n                            break; // Not applicable\n                        default: // ImageOutputType.External\n                            var filename = "img" + currentImg + ".png";\n                            currentImg++;\n                            output[filename] = value;\n                            return filename;\n                    }\n                }\n                switch (options.bufferOutputType) {\n                    case _types__WEBPACK_IMPORTED_MODULE_9__["BufferOutputType"].DataURI:\n                        return Object(_imageutils__WEBPACK_IMPORTED_MODULE_11__["encodeBase64DataUri"])(value);\n                    case _types__WEBPACK_IMPORTED_MODULE_9__["BufferOutputType"].GLB:\n                        if (binChunkBuffer)\n                            throw new Error("Already encountered an ArrayBuffer, there should only be one in the GLB format.");\n                        binChunkBuffer = value;\n                        return undefined;\n                    default: // BufferOutputType.External\n                        var filename = "data" + currentData + ".bin";\n                        currentData++;\n                        output[filename] = value;\n                        return filename;\n                }\n            }\n            return value;\n        }, jsonSpacing);\n        var doingGLB = options.bufferOutputType === _types__WEBPACK_IMPORTED_MODULE_9__["BufferOutputType"].GLB\n            || options.imageOutputType === _types__WEBPACK_IMPORTED_MODULE_9__["ImageOutputType"].GLB;\n        if (doingGLB) {\n            output[MODEL_NAME_GLB] = Object(_glb__WEBPACK_IMPORTED_MODULE_12__["createGLBBuffer"])(gltfString, binChunkBuffer);\n        }\n        else {\n            output[MODEL_NAME_GLTF] = gltfString;\n        }\n        return output;\n    });\n}\n/**\n * Creates a ZIP file of a glTF model from a GLTFAsset structure.\n * @param asset GLTFAsset model structure\n * @param options\n * @returns A Promise to receive a ZIP blob is returned instead.\n */\nfunction exportGLTFZip(asset, jsZip, options) {\n    return exportGLTF(asset, options).then(function (output) {\n        var zip = new jsZip();\n        for (var filename in output) {\n            zip.file(filename, output[filename]);\n        }\n        return zip.generateAsync({ type: "blob" });\n    });\n}\n/**\n * Creates a GLB binary format glTF model from a GLTFAsset structure.\n * @param asset GLTFAsset model structure\n * @param options\n * @returns An ArrayBuffer containing the GLB file.\n */\nfunction exportGLB(asset) {\n    return exportGLTF(asset, {\n        bufferOutputType: _types__WEBPACK_IMPORTED_MODULE_9__["BufferOutputType"].GLB,\n        imageOutputType: _types__WEBPACK_IMPORTED_MODULE_9__["ImageOutputType"].GLB,\n        jsonSpacing: 0,\n    }).then(function (output) {\n        return output[MODEL_NAME_GLB];\n    });\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/index.ts?')},"./src/material.ts":function srcMaterialTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Material", function() { return Material; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\nvar Material = /** @class */ (function () {\n    function Material() {\n        this.name = "";\n        this.alphaCutoff = 0.5;\n        this.alphaMode = _types__WEBPACK_IMPORTED_MODULE_0__["AlphaMode"].OPAQUE;\n        this.doubleSided = false;\n        this.vertexColorMode = _types__WEBPACK_IMPORTED_MODULE_0__["VertexColorMode"].NoColors;\n        this.pbrMetallicRoughness = {\n            metallicFactor: 1.0,\n            roughnessFactor: 1.0,\n        };\n    }\n    return Material;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/material.ts?')},"./src/math.ts":function srcMathTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "XYZPair", function() { return XYZPair; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Quaternion", function() { return Quaternion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toQuaternion", function() { return toQuaternion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "degreesToRadians", function() { return degreesToRadians; });\nvar XYZPair = /** @class */ (function () {\n    function XYZPair(x, y, z) {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    XYZPair.prototype.toArray = function () {\n        return [this.x, this.y, this.z];\n    };\n    return XYZPair;\n}());\n\nvar Quaternion = /** @class */ (function () {\n    function Quaternion(x, y, z, w) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    Quaternion.prototype.toArray = function () {\n        return [this.x, this.y, this.z, this.w];\n    };\n    return Quaternion;\n}());\n\nfunction toQuaternion(x, y, z) {\n    var cy = Math.cos(z * 0.5);\n    var sy = Math.sin(z * 0.5);\n    var cr = Math.cos(x * 0.5);\n    var sr = Math.sin(x * 0.5);\n    var cp = Math.cos(y * 0.5);\n    var sp = Math.sin(y * 0.5);\n    return new Quaternion(cy * sr * cp - sy * cr * sp, cy * cr * sp + sy * sr * cp, sy * cr * cp - cy * sr * sp, cy * cr * cp + sy * sr * sp);\n}\nfunction degreesToRadians(degrees) {\n    return degrees * Math.PI / 180;\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/math.ts?')},"./src/mesh.ts":function srcMeshTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Mesh", function() { return Mesh; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\nvar Mesh = /** @class */ (function () {\n    function Mesh() {\n        this.material = [];\n        this.mode = _types__WEBPACK_IMPORTED_MODULE_0__["MeshMode"].TRIANGLES;\n        this._vertices = [];\n        this._faceColors = [];\n        this._materialIndices = [];\n    }\n    Mesh.prototype.addFace = function (v1, v2, v3, color, materialIndex) {\n        this._vertices.push(v1);\n        this._vertices.push(v2);\n        this._vertices.push(v3);\n        this._faceColors.push(color);\n        if (typeof materialIndex === "undefined")\n            materialIndex = -1;\n        this._materialIndices.push(materialIndex);\n    };\n    Mesh.prototype.forEachFace = function (fn) {\n        for (var i = 0; i < this._vertices.length / 3; i++) {\n            fn(this._vertices[(i * 3)], this._vertices[(i * 3) + 1], this._vertices[(i * 3) + 2], this._faceColors[i], this._materialIndices[i]);\n        }\n    };\n    return Mesh;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/mesh.ts?')},"./src/node.ts":function srcNodeTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Node", function() { return Node; });\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math */ "./src/math.ts");\n\nvar Node = /** @class */ (function () {\n    function Node() {\n        this.name = "";\n        this._nodes = [];\n    }\n    Node.prototype.addNode = function (node) {\n        if (this._nodes.indexOf(node) >= 0)\n            throw new Error("Node passed to addNode was added prior.");\n        this._nodes.push(node);\n    };\n    Node.prototype.forEachNode = function (fn) {\n        this._nodes.forEach(fn);\n    };\n    Node.prototype.setTranslation = function (x, y, z) {\n        this._translation = new _math__WEBPACK_IMPORTED_MODULE_0__["XYZPair"](x, y, z);\n    };\n    Node.prototype.getTranslation = function () {\n        return this._translation || new _math__WEBPACK_IMPORTED_MODULE_0__["XYZPair"](0, 0, 0);\n    };\n    Node.prototype.setRotationDegrees = function (x, y, z) {\n        this.setRotationRadians(Object(_math__WEBPACK_IMPORTED_MODULE_0__["degreesToRadians"])(x), Object(_math__WEBPACK_IMPORTED_MODULE_0__["degreesToRadians"])(y), Object(_math__WEBPACK_IMPORTED_MODULE_0__["degreesToRadians"])(z));\n    };\n    Node.prototype.setRotationRadians = function (x, y, z) {\n        this._rotation = Object(_math__WEBPACK_IMPORTED_MODULE_0__["toQuaternion"])(x, y, z);\n    };\n    Node.prototype.setRotationQuaternion = function (x, y, z, w) {\n        this._rotation = new _math__WEBPACK_IMPORTED_MODULE_0__["Quaternion"](x, y, z, w);\n    };\n    Node.prototype.getRotationQuaternion = function () {\n        return this._rotation || new _math__WEBPACK_IMPORTED_MODULE_0__["Quaternion"](0, 0, 0, 1);\n    };\n    Node.prototype.setScale = function (x, y, z) {\n        this._scale = new _math__WEBPACK_IMPORTED_MODULE_0__["XYZPair"](x, y, z);\n    };\n    Node.prototype.getScale = function () {\n        return this._scale || new _math__WEBPACK_IMPORTED_MODULE_0__["XYZPair"](1, 1, 1);\n    };\n    return Node;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/node.ts?')},"./src/scene.ts":function srcSceneTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Scene", function() { return Scene; });\nvar Scene = /** @class */ (function () {\n    function Scene() {\n        this.name = "";\n        this._nodes = [];\n    }\n    Scene.prototype.addNode = function (node) {\n        if (this._nodes.indexOf(node) >= 0)\n            throw new Error("Node passed to addNode was added prior.");\n        this._nodes.push(node);\n    };\n    Scene.prototype.forEachNode = function (fn) {\n        this._nodes.forEach(fn);\n    };\n    return Scene;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/scene.ts?')},"./src/texture.ts":function srcTextureTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Texture", function() { return Texture; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\nvar Texture = /** @class */ (function () {\n    function Texture(image) {\n        this.wrapS = _types__WEBPACK_IMPORTED_MODULE_0__["WrappingMode"].CLAMP_TO_EDGE;\n        this.wrapT = _types__WEBPACK_IMPORTED_MODULE_0__["WrappingMode"].CLAMP_TO_EDGE;\n        this.image = image;\n    }\n    Object.defineProperty(Texture.prototype, "image", {\n        get: function () {\n            return this.__image;\n        },\n        set: function (val) {\n            if (!val) {\n                throw new Error("Why is the texture image being unset?");\n            }\n            this.__image = val;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Texture;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/texture.ts?')},"./src/threejs.ts":function srcThreejsTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "glTFAssetFromTHREE", function() { return glTFAssetFromTHREE; });\n/* harmony import */ var _asset__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./asset */ "./src/asset.ts");\n/* harmony import */ var _scene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scene */ "./src/scene.ts");\n/* harmony import */ var _node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node */ "./src/node.ts");\n/* harmony import */ var _mesh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mesh */ "./src/mesh.ts");\n/* harmony import */ var _material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./material */ "./src/material.ts");\n/* harmony import */ var _texture__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./texture */ "./src/texture.ts");\n/* harmony import */ var _vertex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vertex */ "./src/vertex.ts");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./types */ "./src/types.ts");\n\n\n\n\n\n\n\n\nfunction glTFAssetFromTHREE(obj) {\n    var asset = new _asset__WEBPACK_IMPORTED_MODULE_0__["GLTFAsset"]();\n    var scene = new _scene__WEBPACK_IMPORTED_MODULE_1__["Scene"]();\n    scene.name = obj.name;\n    asset.addScene(scene);\n    scene.addNode(NodeFromTHREE(obj));\n    return asset;\n}\nfunction NodeFromTHREE(obj) {\n    var node = new _node__WEBPACK_IMPORTED_MODULE_2__["Node"]();\n    node.name = obj.name;\n    if (isTHREEMesh(obj)) {\n        node.mesh = MeshFromTHREE(obj);\n    }\n    else {\n        node.setTranslation(obj.position.x, obj.position.y, obj.position.z);\n        node.setRotationRadians(obj.rotation.x, obj.rotation.y, obj.rotation.z);\n        node.setScale(obj.scale.x, obj.scale.y, obj.scale.z);\n        for (var _i = 0, _a = obj.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            node.addNode(NodeFromTHREE(child));\n        }\n    }\n    return node;\n}\nfunction MeshFromTHREE(obj) {\n    var mesh = new _mesh__WEBPACK_IMPORTED_MODULE_3__["Mesh"]();\n    var threeGeometry = obj.geometry;\n    if (isTHREEGeometry(threeGeometry)) {\n        for (var i = 0; i < threeGeometry.faces.length; i++) {\n            var face = threeGeometry.faces[i];\n            var faceColor = new _types__WEBPACK_IMPORTED_MODULE_7__["RGBColor"]();\n            faceColor.r = face.color.r;\n            faceColor.g = face.color.g;\n            faceColor.b = face.color.b;\n            mesh.addFace(VertexFromTHREE(threeGeometry, i, face.a, 0), VertexFromTHREE(threeGeometry, i, face.b, 1), VertexFromTHREE(threeGeometry, i, face.c, 2), faceColor, face.materialIndex);\n        }\n        mesh.material = MaterialsFromTHREE(obj.material);\n    }\n    else {\n        throw new Error("BufferGeometry (or other type) not supported.");\n    }\n    return mesh;\n}\nfunction MaterialsFromTHREE(threeMaterial) {\n    var materials = [];\n    if (!Array.isArray(threeMaterial)) {\n        threeMaterial = [threeMaterial];\n    }\n    for (var _i = 0, threeMaterial_1 = threeMaterial; _i < threeMaterial_1.length; _i++) {\n        var mat = threeMaterial_1[_i];\n        materials.push(MaterialFromTHREE(mat));\n    }\n    return materials;\n}\nfunction MaterialFromTHREE(threeMaterial) {\n    var material = new _material__WEBPACK_IMPORTED_MODULE_4__["Material"]();\n    material.doubleSided = threeMaterial.side === 2; // THREE.DoubleSide;\n    if (isTHREEMeshBasicMaterial(threeMaterial)) {\n        material.pbrMetallicRoughness.metallicFactor = 0;\n        material.pbrMetallicRoughness.roughnessFactor = 0;\n        if (threeMaterial.transparent) {\n            material.alphaMode = _types__WEBPACK_IMPORTED_MODULE_7__["AlphaMode"].MASK;\n            material.alphaCutoff = threeMaterial.alphaTest;\n        }\n        material.vertexColorMode = threeMaterial.vertexColors;\n        if (threeMaterial.color && threeMaterial.vertexColors === 0 /* THREE.NoColors */) {\n            material.pbrMetallicRoughness.baseColorFactor = [\n                threeMaterial.color.r,\n                threeMaterial.color.g,\n                threeMaterial.color.b,\n                1\n            ];\n        }\n        if (threeMaterial.map) {\n            var texture = new _texture__WEBPACK_IMPORTED_MODULE_5__["Texture"](threeMaterial.map.image);\n            texture.wrapS = WrappingModeFromTHREE(threeMaterial.map.wrapS);\n            texture.wrapT = WrappingModeFromTHREE(threeMaterial.map.wrapT);\n            material.pbrMetallicRoughness.baseColorTexture = texture;\n        }\n    }\n    else {\n        throw new Error(threeMaterial.type + " is currently not supported.");\n    }\n    return material;\n}\nfunction VertexFromTHREE(threeGeometry, faceIndex, vertexIndex, vertexRelIndex) {\n    var vertex = new _vertex__WEBPACK_IMPORTED_MODULE_6__["Vertex"]();\n    var threeVertex = threeGeometry.vertices[vertexIndex];\n    vertex.x = threeVertex.x;\n    vertex.y = threeVertex.y;\n    vertex.z = threeVertex.z;\n    if (threeGeometry.faceVertexUvs[0] && threeGeometry.faceVertexUvs[0][faceIndex]\n        && threeGeometry.faceVertexUvs[0][faceIndex][vertexRelIndex]) {\n        vertex.u = threeGeometry.faceVertexUvs[0][faceIndex][vertexRelIndex].x;\n        vertex.v = threeGeometry.faceVertexUvs[0][faceIndex][vertexRelIndex].y;\n    }\n    var threeFace = threeGeometry.faces[faceIndex];\n    if (threeFace.vertexNormals[vertexRelIndex]) {\n        vertex.normalX = threeFace.vertexNormals[vertexRelIndex].x;\n        vertex.normalY = threeFace.vertexNormals[vertexRelIndex].y;\n        vertex.normalZ = threeFace.vertexNormals[vertexRelIndex].z;\n    }\n    if (threeFace.vertexColors[vertexRelIndex]) {\n        vertex.color = new _types__WEBPACK_IMPORTED_MODULE_7__["RGBColor"]();\n        vertex.color.r = threeFace.vertexColors[vertexRelIndex].r;\n        vertex.color.g = threeFace.vertexColors[vertexRelIndex].g;\n        vertex.color.b = threeFace.vertexColors[vertexRelIndex].b;\n    }\n    return vertex;\n}\nfunction WrappingModeFromTHREE(mode) {\n    switch (mode) {\n        case 1000: // THREE.RepeatWrapping\n            return _types__WEBPACK_IMPORTED_MODULE_7__["WrappingMode"].REPEAT;\n        case 1002: // THREE.MirroredRepeatWrapping\n            return _types__WEBPACK_IMPORTED_MODULE_7__["WrappingMode"].MIRRORED_REPEAT;\n        case 1001: // THREE.ClampToEdgeWrapping\n        default:\n            return _types__WEBPACK_IMPORTED_MODULE_7__["WrappingMode"].CLAMP_TO_EDGE;\n    }\n}\nfunction isTHREEMesh(obj) {\n    return obj.type === "Mesh";\n}\nfunction isTHREEGeometry(obj) {\n    return obj.type === "Geometry";\n}\nfunction isTHREEMeshBasicMaterial(obj) {\n    return obj.type === "MeshBasicMaterial";\n}\n\n\n//# sourceURL=webpack://GLTFUtils/./src/threejs.ts?')},"./src/types.ts":function srcTypesTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BufferOutputType", function() { return BufferOutputType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageOutputType", function() { return ImageOutputType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentType", function() { return ComponentType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataType", function() { return DataType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MeshMode", function() { return MeshMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WrappingMode", function() { return WrappingMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlphaMode", function() { return AlphaMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RGBColor", function() { return RGBColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RGBAColor", function() { return RGBAColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VertexColorMode", function() { return VertexColorMode; });\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar BufferOutputType;\n(function (BufferOutputType) {\n    /** Create separate files for binary buffers (default) */\n    BufferOutputType[BufferOutputType["External"] = 0] = "External";\n    /** Embed buffers as data URIs. */\n    BufferOutputType[BufferOutputType["DataURI"] = 1] = "DataURI";\n    /**\n     * Embed buffers as chunks in a GLB buffer.\n     */\n    BufferOutputType[BufferOutputType["GLB"] = 2] = "GLB";\n})(BufferOutputType || (BufferOutputType = {}));\nvar ImageOutputType;\n(function (ImageOutputType) {\n    /** Create separate files for images (default) */\n    ImageOutputType[ImageOutputType["External"] = 0] = "External";\n    /** Embed images as data URIs. */\n    ImageOutputType[ImageOutputType["DataURI"] = 1] = "DataURI";\n    /**\n     * Embed images as chunks in a GLB buffer.\n     */\n    ImageOutputType[ImageOutputType["GLB"] = 2] = "GLB";\n})(ImageOutputType || (ImageOutputType = {}));\nvar ComponentType;\n(function (ComponentType) {\n    ComponentType[ComponentType["BYTE"] = 5120] = "BYTE";\n    ComponentType[ComponentType["UNSIGNED_BYTE"] = 5121] = "UNSIGNED_BYTE";\n    ComponentType[ComponentType["SHORT"] = 5122] = "SHORT";\n    ComponentType[ComponentType["UNSIGNED_SHORT"] = 5123] = "UNSIGNED_SHORT";\n    ComponentType[ComponentType["UNSIGNED_INT"] = 5125] = "UNSIGNED_INT";\n    ComponentType[ComponentType["FLOAT"] = 5126] = "FLOAT";\n})(ComponentType || (ComponentType = {}));\nvar DataType;\n(function (DataType) {\n    DataType["SCALAR"] = "SCALAR";\n    DataType["VEC2"] = "VEC2";\n    DataType["VEC3"] = "VEC3";\n    DataType["VEC4"] = "VEC4";\n    DataType["MAT2"] = "MAT2";\n    DataType["MAT3"] = "MAT3";\n    DataType["MAT4"] = "MAT4";\n})(DataType || (DataType = {}));\nvar MeshMode;\n(function (MeshMode) {\n    MeshMode[MeshMode["POINTS"] = 0] = "POINTS";\n    MeshMode[MeshMode["LINES"] = 1] = "LINES";\n    MeshMode[MeshMode["LINE_LOOP"] = 2] = "LINE_LOOP";\n    MeshMode[MeshMode["LINE_STRIP"] = 3] = "LINE_STRIP";\n    MeshMode[MeshMode["TRIANGLES"] = 4] = "TRIANGLES";\n    MeshMode[MeshMode["TRIANGLE_STRIP"] = 5] = "TRIANGLE_STRIP";\n    MeshMode[MeshMode["TRIANGLE_FAN"] = 6] = "TRIANGLE_FAN";\n})(MeshMode || (MeshMode = {}));\nvar WrappingMode;\n(function (WrappingMode) {\n    WrappingMode[WrappingMode["CLAMP_TO_EDGE"] = 33071] = "CLAMP_TO_EDGE";\n    WrappingMode[WrappingMode["MIRRORED_REPEAT"] = 33648] = "MIRRORED_REPEAT";\n    WrappingMode[WrappingMode["REPEAT"] = 10497] = "REPEAT";\n})(WrappingMode || (WrappingMode = {}));\nvar AlphaMode;\n(function (AlphaMode) {\n    AlphaMode["OPAQUE"] = "OPAQUE";\n    AlphaMode["MASK"] = "MASK";\n    AlphaMode["BLEND"] = "BLEND";\n})(AlphaMode || (AlphaMode = {}));\nvar RGBColor = /** @class */ (function () {\n    function RGBColor() {\n        /** Red, between 0 and 1. */\n        this.r = 1;\n        /** Green, between 0 and 1 */\n        this.g = 1;\n        /** Blue, between 0 and 1 */\n        this.b = 1;\n    }\n    return RGBColor;\n}());\n\nvar RGBAColor = /** @class */ (function (_super) {\n    __extends(RGBAColor, _super);\n    function RGBAColor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** Alpha, between 0 and 1 */\n        _this.a = 1;\n        return _this;\n    }\n    return RGBAColor;\n}(RGBColor));\n\n// Matches THREE Colors\nvar VertexColorMode;\n(function (VertexColorMode) {\n    VertexColorMode[VertexColorMode["NoColors"] = 0] = "NoColors";\n    VertexColorMode[VertexColorMode["FaceColors"] = 1] = "FaceColors";\n    VertexColorMode[VertexColorMode["VertexColors"] = 2] = "VertexColors";\n})(VertexColorMode || (VertexColorMode = {}));\n\n\n//# sourceURL=webpack://GLTFUtils/./src/types.ts?')},"./src/vertex.ts":function srcVertexTs(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Vertex", function() { return Vertex; });\nvar Vertex = /** @class */ (function () {\n    function Vertex() {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.u = 0;\n        this.v = 0;\n        this.normalX = 0;\n        this.normalY = 0;\n        this.normalZ = 0;\n    }\n    return Vertex;\n}());\n\n\n\n//# sourceURL=webpack://GLTFUtils/./src/vertex.ts?')}})},module.exports=factory()},,,,,,,,,,,function(e,t,n){"use strict";var r=n(12),i=n(190),o=n(13).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,n,r,i,o,a){return c(e+(t&n|~t&r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return c(e+(t&r|n&~r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return c(e+(t^n^r)+i+o|0,a)+t|0}function h(e,t,n,r,i,o,a){return c(e+(n^(t|~r))+i+o|0,a)+t|0}r(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=u(n,r,i,o,e[0],3614090360,7),o=u(o,n,r,i,e[1],3905402710,12),i=u(i,o,n,r,e[2],606105819,17),r=u(r,i,o,n,e[3],3250441966,22),n=u(n,r,i,o,e[4],4118548399,7),o=u(o,n,r,i,e[5],1200080426,12),i=u(i,o,n,r,e[6],2821735955,17),r=u(r,i,o,n,e[7],4249261313,22),n=u(n,r,i,o,e[8],1770035416,7),o=u(o,n,r,i,e[9],2336552879,12),i=u(i,o,n,r,e[10],4294925233,17),r=u(r,i,o,n,e[11],2304563134,22),n=u(n,r,i,o,e[12],1804603682,7),o=u(o,n,r,i,e[13],4254626195,12),i=u(i,o,n,r,e[14],2792965006,17),n=l(n,r=u(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,n,r,i,e[6],3225465664,9),i=l(i,o,n,r,e[11],643717713,14),r=l(r,i,o,n,e[0],3921069994,20),n=l(n,r,i,o,e[5],3593408605,5),o=l(o,n,r,i,e[10],38016083,9),i=l(i,o,n,r,e[15],3634488961,14),r=l(r,i,o,n,e[4],3889429448,20),n=l(n,r,i,o,e[9],568446438,5),o=l(o,n,r,i,e[14],3275163606,9),i=l(i,o,n,r,e[3],4107603335,14),r=l(r,i,o,n,e[8],1163531501,20),n=l(n,r,i,o,e[13],2850285829,5),o=l(o,n,r,i,e[2],4243563512,9),i=l(i,o,n,r,e[7],1735328473,14),n=f(n,r=l(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=f(o,n,r,i,e[8],2272392833,11),i=f(i,o,n,r,e[11],1839030562,16),r=f(r,i,o,n,e[14],4259657740,23),n=f(n,r,i,o,e[1],2763975236,4),o=f(o,n,r,i,e[4],1272893353,11),i=f(i,o,n,r,e[7],4139469664,16),r=f(r,i,o,n,e[10],3200236656,23),n=f(n,r,i,o,e[13],681279174,4),o=f(o,n,r,i,e[0],3936430074,11),i=f(i,o,n,r,e[3],3572445317,16),r=f(r,i,o,n,e[6],76029189,23),n=f(n,r,i,o,e[9],3654602809,4),o=f(o,n,r,i,e[12],3873151461,11),i=f(i,o,n,r,e[15],530742520,16),n=h(n,r=f(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=h(o,n,r,i,e[7],1126891415,10),i=h(i,o,n,r,e[14],2878612391,15),r=h(r,i,o,n,e[5],4237533241,21),n=h(n,r,i,o,e[12],1700485571,6),o=h(o,n,r,i,e[3],2399980690,10),i=h(i,o,n,r,e[10],4293915773,15),r=h(r,i,o,n,e[1],2240044497,21),n=h(n,r,i,o,e[8],1873313359,6),o=h(o,n,r,i,e[15],4264355552,10),i=h(i,o,n,r,e[6],2734768916,15),r=h(r,i,o,n,e[13],1309151649,21),n=h(n,r,i,o,e[4],4149444226,6),o=h(o,n,r,i,e[11],3174756917,10),i=h(i,o,n,r,e[2],718787259,15),r=h(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)o(c,this,t);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){(t=e.exports=n(191)).Stream=t,t.Readable=t,t.Writable=n(153),t.Duplex=n(58),t.Transform=n(196),t.PassThrough=n(416)},function(e,t,n){var r=n(21),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){var o=n(116);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;v.WritableState=_;var u=n(100);u.inherits=n(12);var l={deprecate:n(415)},f=n(192),h=n(152).Buffer,d=i.Uint8Array||function(){};var p,m=n(193);function g(){}function _(e,t){s=s||n(58),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(M,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),M(e,t))}(e,n,r,t,i);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?c(b,e,n,a,i):b(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||n(58),!p.call(v,this)&&!(this instanceof s))return new v(e);this._writableState=new _(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),M(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,y(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var n=x(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(v,f),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof _)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof d);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"===typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=g),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return c}(this,i,s,e,t,n)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,M(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(41),n(194).setImmediate,n(27))},function(e,t,n){"use strict";var r=n(13).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(21).Buffer,i=n(12),o=n(190),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,r,i,o,a,s){return p(e+(t^n^r)+o+a|0,s)+i|0}function g(e,t,n,r,i,o,a,s){return p(e+(t&n|~t&r)+o+a|0,s)+i|0}function _(e,t,n,r,i,o,a,s){return p(e+((t|~n)^r)+o+a|0,s)+i|0}function v(e,t,n,r,i,o,a,s){return p(e+(t&r|n&~r)+o+a|0,s)+i|0}function y(e,t,n,r,i,o,a,s){return p(e+(t^(n|~r))+o+a|0,s)+i|0}i(d,o),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,b=0|this._a,w=0|this._b,x=0|this._c,E=0|this._d,M=0|this._e,S=0;S<80;S+=1){var T,k;S<16?(T=m(n,r,i,o,d,e[s[S]],f[0],u[S]),k=y(b,w,x,E,M,e[c[S]],h[0],l[S])):S<32?(T=g(n,r,i,o,d,e[s[S]],f[1],u[S]),k=v(b,w,x,E,M,e[c[S]],h[1],l[S])):S<48?(T=_(n,r,i,o,d,e[s[S]],f[2],u[S]),k=_(b,w,x,E,M,e[c[S]],h[2],l[S])):S<64?(T=v(n,r,i,o,d,e[s[S]],f[3],u[S]),k=g(b,w,x,E,M,e[c[S]],h[3],l[S])):(T=y(n,r,i,o,d,e[s[S]],f[4],u[S]),k=m(b,w,x,E,M,e[c[S]],h[4],l[S])),n=d,d=o,o=p(i,10),i=r,r=T,b=M,M=E,E=p(x,10),x=w,w=k}var C=this._b+i+E|0;this._b=this._c+o+M|0,this._c=this._d+d+b|0,this._d=this._e+n+w|0,this._e=this._a+r+x|0,this._a=C},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(421),t.sha1=n(422),t.sha224=n(423),t.sha256=n(197),t.sha384=n(424),t.sha512=n(198)},function(e,t,n){"use strict";var r=n(32);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){var r=n(433),i=n(441),o=n(210);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var r={ECB:n(434),CBC:n(435),CFB:n(436),CFB8:n(437),CFB1:n(438),OFB:n(439),CTR:n(208),GCM:n(208)},i=n(210);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(446);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},function(e,t,n){(function(t){var r=n(22),i=n(64);function o(e,n){var i=function(e){var t=a(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),o=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(e).mul(i.blinder).umod(n.modulus)),c=s.toRed(r.mont(n.prime1)),u=s.toRed(r.mont(n.prime2)),l=n.coefficient,f=n.prime1,h=n.prime2,d=c.redPow(n.exponent1),p=u.redPow(n.exponent2);d=d.fromRed(),p=p.fromRed();var m=d.isub(p).imul(l).umod(f);return m.imul(h),p.iadd(m),new t(p.imul(i.unblinder).umod(n.modulus).toArray(!1,o))}function a(e){for(var t=e.modulus.byteLength(),n=new r(i(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new r(i(t));return n}e.exports=o,o.getr=a}).call(this,n(21).Buffer)},function(e,t,n){"use strict";var r=t;r.version=n(451).version,r.utils=n(33),r.rand=n(160),r.curve=n(216),r.curves=n(163),r.ec=n(462),r.eddsa=n(466)},function(e,t,n){"use strict";var r,i=t,o=n(164),a=n(216),s=n(33).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(461)}catch(l){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){var r=t;r.utils=n(42),r.common=n(102),r.sha=n(455),r.ripemd=n(459),r.hmac=n(460),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";var r=n(105),i=n(34),o=n(59),a=n(35),s=n(122),c=n(123),u=n(43),l=n(54),f=n(15),h=n(234),d=f.List,p=f.Record,m=f.Repeat,g=function(e){var t,n;function f(){return e.apply(this,arguments)||this}n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=f.prototype;return p.getEntityMap=function(){return s},p.getBlockMap=function(){return this.get("blockMap")},p.getSelectionBefore=function(){return this.get("selectionBefore")},p.getSelectionAfter=function(){return this.get("selectionAfter")},p.getBlockForKey=function(e){return this.getBlockMap().get(e)},p.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},p.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},p.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},p.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},p.getBlocksAsArray=function(){return this.getBlockMap().toArray()},p.getFirstBlock=function(){return this.getBlockMap().first()},p.getLastBlock=function(){return this.getBlockMap().last()},p.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},p.getLastCreatedEntityKey=function(){return s.__getLastCreatedEntityKey()},p.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},p.createEntity=function(e,t,n){return s.__create(e,t,n),this},p.mergeEntityData=function(e,t){return s.__mergeData(e,t),this},p.replaceEntityData=function(e,t){return s.__replaceData(e,t),this},p.addEntity=function(e){return s.__add(e),this},p.getEntity=function(e){return s.__get(e)},f.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,i=r.createFromArray(n),o=i.isEmpty()?new c:c.createEmpty(i.first().getKey());return new f({blockMap:i,entityMap:t||s,selectionBefore:o,selectionAfter:o})},f.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=h(e),new(l("draft_tree_data_support")?a:o)({key:u(),text:e,type:"unstyled",characterList:d(m(i.EMPTY,e.length))})}));return f.createFromBlockArray(r)},f}(p({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));e.exports=g},function(e,t,n){"use strict";var r=n(124),i=n(16),o="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",a="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",s=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+o+a+"]"),c=new RegExp("["+o+a+"]");function u(e){var t=s.exec(e);return null==t?null:t[0]}function l(e){var t=u(e);return null==t?r.NEUTRAL:c.exec(t)?r.RTL:r.LTR}function f(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=l(e);return n===r.NEUTRAL?t:n}function h(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),f(e,t)}var d={firstStrongChar:u,firstStrongCharDir:l,resolveBlockDir:f,getDirection:h,isDirectionLTR:function(e,t){return h(e,t)===r.LTR},isDirectionRTL:function(e,t){return h(e,t)===r.RTL}};e.exports=d},function(e,t,n){"use strict";var r=n(0),i=n(60),o=(0,n(15).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=o},function(e,t,n){"use strict";var r=n(244).notEmptyKey;function i(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:i(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),c=e.getBlockForKey(a);return n=s===c.getLength()?null:c.getEntityAt(s),i(e.getEntityMap(),n)}},function(e,t,n){"use strict";var r=n(524);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";function r(e,t){return!!t&&(e===t.documentElement||e===t.body)}var i={getTop:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollTop||t.documentElement.scrollTop:e.scrollTop},setTop:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollTop=n.documentElement.scrollTop=t:e.scrollTop=t},getLeft:function(e){var t=e.ownerDocument;return r(e,t)?t.body.scrollLeft||t.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,t){var n=e.ownerDocument;r(e,n)?n.body.scrollLeft=n.documentElement.scrollLeft=t:e.scrollLeft=t}};e.exports=i},function(e,t,n){"use strict";n(172);e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(t>o){var c=r.getKeyBefore(i);if(null==c)a=i;else a=c,s=r.getBlockForKey(c).getText().length}else s=o-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},function(e,t,n){"use strict";var r=n(253);e.exports=r},function(e,t,n){"use strict";var r=n(31),i=n(551),o=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:i};e.exports=a},function(e,t,n){"use strict";var r=n(109),i=n(269),o=n(270),a=n(271);o=n(270);function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,n){"use strict";var r=n(20);var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return"undefined"!==typeof e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},,,,function(e,t,n){"use strict";var r,i;!function(o,a){e.exports?e.exports=a():void 0===(i="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)}(0,(function(){var e=null,t="item",n="separator",r=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return document.querySelector(".basicContext "+e)},i=function(e,r){var i="",o="";return!1===function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=0===Object.keys(e).length;return!0===r&&(e.type=n),null==e.type&&(e.type=t),null==e.class&&(e.class=""),!1!==e.visible&&(e.visible=!0),null==e.icon&&(e.icon=null),null==e.title&&(e.title="Undefined"),!0!==e.disabled&&(e.disabled=!1),!0===e.disabled&&(e.class+=" basicContext__item--disabled"),null!=e.fn||e.type===n||!1!==e.disabled||(console.warn("Missing fn for item '"+e.title+"'"),!1)}(e)?"":!1===e.visible?"":(e.num=r,null!==e.icon&&(o="<span class='basicContext__icon "+e.icon+"'></span>"),e.type===t?i="\n\t\t       <tr class='basicContext__item "+e.class+"'>\n\t\t           <td class='basicContext__data' data-num='"+e.num+"'>"+o+e.title+"</td>\n\t\t       </tr>\n\t\t       ":e.type===n&&(i="\n\t\t       <tr class='basicContext__item basicContext__item--separator'></tr>\n\t\t       "),i)},o=function(e){var t="";return t+="\n\t        <div class='basicContextContainer'>\n\t            <div class='basicContext'>\n\t                <table>\n\t                    <tbody>\n\t        ",e.forEach((function(e,n){return t+=i(e,n)})),t+="\n\t                    </tbody>\n\t                </table>\n\t            </div>\n\t        </div>\n\t        "},a=function(e,t){var n=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={x:e.clientX,y:e.clientY};if("touchend"===e.type&&(null==t.x||null==t.y)){var n=e.changedTouches;null!=n&&n.length>0&&(t.x=n[0].clientX,t.y=n[0].clientY)}return(null==t.x||t.x<0)&&(t.x=0),(null==t.y||t.y<0)&&(t.y=0),t}(e),r=n.x,i=n.y,o=window.innerWidth,a=window.innerHeight,s=t.offsetWidth,c=t.offsetHeight;r+s>o&&(r-=r+s-o),i+c>a&&(i-=i+c-a),c>a&&(i=0,t.classList.add("basicContext--scrollable"));var u=n.x-r;return{x:r,y:i,rx:u,ry:n.y-i}},s=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return null!=e.fn&&(!1!==e.visible&&(!0!==e.disabled&&(r("td[data-num='"+e.num+"']").onclick=e.fn,r("td[data-num='"+e.num+"']").oncontextmenu=e.fn,!0)))},c=function(){var e=r();return null!=e&&0!==e.length},u=function(){if(!1===c())return!1;var t=document.querySelector(".basicContextContainer");return t.parentElement.removeChild(t),null!=e&&(document.body.style.overflow=e,e=null),!0};return{ITEM:t,SEPARATOR:n,show:function(t,n,i,c){var l=o(t);document.body.insertAdjacentHTML("beforeend",l),null==e&&(e=document.body.style.overflow,document.body.style.overflow="hidden");var f=r(),h=a(n,f);return f.style.left=h.x+"px",f.style.top=h.y+"px",f.style.transformOrigin=h.rx+"px "+h.ry+"px",f.style.opacity=1,null==i&&(i=u),f.parentElement.onclick=i,f.parentElement.oncontextmenu=i,t.forEach(s),"function"==typeof n.preventDefault&&n.preventDefault(),"function"==typeof n.stopPropagation&&n.stopPropagation(),"function"==typeof c&&c(),!0},visible:c,close:u}}))},,,,,,,,function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(41))},function(e,t,n){"use strict";var r=n(13).Buffer,i=n(115).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(12)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(i){r=i}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(n){t=n}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,r){var i=n(116);e.exports=y;var o,a=n(188);y.ReadableState=v;n(150).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(192),u=n(152).Buffer,l=t.Uint8Array||function(){};var f=n(100);f.inherits=n(12);var h=n(412),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(413),g=n(193);f.inherits(y,c);var _=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var r=t instanceof(o=o||n(58));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(154).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(o=o||n(58),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function b(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}(e,a)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof l||"string"===typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):S(e,a)):w(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),S(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(154).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(M,e):M(e))}function M(e){d("emit readable"),e.emit("readable"),O(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){d("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):E(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function u(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",_),e.removeListener("finish",v),e.removeListener("drain",f),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",m),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(c):n.once("end",c),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",f);var h=!1;var p=!1;function m(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!h&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){d("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function _(){e.removeListener("finish",v),y()}function v(){d("onfinish"),e.removeListener("close",_),y()}function y(){d("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",_),e.once("finish",v),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=D(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},y.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},y.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=A}).call(this,n(27),n(41))},function(e,t,n){e.exports=n(150).EventEmitter},function(e,t,n){"use strict";var r=n(116);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(195),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(27))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(27),n(41))},function(e,t,n){"use strict";e.exports=a;var r=n(58),i=n(100);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"===typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(12),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){var r=n(12),i=n(65),o=n(13).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,_=0;_<16;++_)n[_]=e.readInt32BE(4*_);for(;_<64;++_)n[_]=0|(((t=n[_-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[_-7]+d(n[_-15])+n[_-16];for(var v=0;v<64;++v){var y=g+h(c)+u(c,p,m)+a[v]+n[v]|0,b=f(r)+l(r,i,o)|0;g=m,m=p,p=c,c=s+y|0,s=o,o=i,i=r,r=y+b|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,n){var r=n(12),i=n(65),o=n(13).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function _(e,t){return e>>>0<t>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,v=0|this._gh,y=0|this._hh,b=0|this._al,w=0|this._bl,x=0|this._cl,E=0|this._dl,M=0|this._el,S=0|this._fl,T=0|this._gl,k=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var O=t[C-30],A=t[C-30+1],P=d(O,A),L=p(A,O),D=m(O=t[C-4],A=t[C-4+1]),I=g(A,O),R=t[C-14],B=t[C-14+1],N=t[C-32],U=t[C-32+1],z=L+B|0,F=P+R+_(z,L)|0;F=(F=F+D+_(z=z+I|0,I)|0)+N+_(z=z+U|0,U)|0,t[C]=F,t[C+1]=z}for(var j=0;j<160;j+=2){F=t[j],z=t[j+1];var W=l(n,r,i),H=l(b,w,x),V=f(n,b),K=f(b,n),G=h(s,M),q=h(M,s),Y=a[j],X=a[j+1],Z=u(s,c,v),J=u(M,S,T),$=k+q|0,Q=y+G+_($,k)|0;Q=(Q=(Q=Q+Z+_($=$+J|0,J)|0)+Y+_($=$+X|0,X)|0)+F+_($=$+z|0,z)|0;var ee=K+H|0,te=V+W+_(ee,K)|0;y=v,k=T,v=c,T=S,c=s,S=M,s=o+Q+_(M=E+$|0,E)|0,o=i,E=x,i=r,x=w,r=n,w=b,n=Q+te+_(b=$+ee|0,$)|0}this._al=this._al+b|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+E|0,this._el=this._el+M|0,this._fl=this._fl+S|0,this._gl=this._gl+T|0,this._hl=this._hl+k|0,this._ah=this._ah+n+_(this._al,b)|0,this._bh=this._bh+r+_(this._bl,w)|0,this._ch=this._ch+i+_(this._cl,x)|0,this._dh=this._dh+o+_(this._dl,E)|0,this._eh=this._eh+s+_(this._el,M)|0,this._fh=this._fh+c+_(this._fl,S)|0,this._gh=this._gh+v+_(this._gl,T)|0,this._hh=this._hh+y+_(this._hl,k)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,n){"use strict";var r=n(12),i=n(425),o=n(53),a=n(13).Buffer,s=n(200),c=n(155),u=n(156),l=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"===typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<n&&(t=a.concat([t,l],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new c:u(e),this._hash.update(r)}r(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},function(e,t,n){var r=n(149);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(427),t.pbkdf2Sync=n(205)},function(e,t,n){(function(t){var n=Math.pow(2,30)-1;function r(e,n){if("string"!==typeof e&&!t.isBuffer(e))throw new TypeError(n+" must be a buffer or string")}e.exports=function(e,t,i,o){if(r(e,"Password"),r(t,"Salt"),"number"!==typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!==typeof o)throw new TypeError("Key length not a number");if(o<0||o>n||o!==o)throw new TypeError("Bad key length")}}).call(this,n(21).Buffer)},function(e,t,n){(function(t){var n;t.browser?n="utf-8":n=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=n}).call(this,n(41))},function(e,t,n){var r=n(200),i=n(155),o=n(156),a=n(203),s=n(204),c=n(13).Buffer,u=c.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,n){var a=function(e){function t(t){return o(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?r:t}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=a(t):t.length<s&&(t=c.concat([t,u],s));for(var f=c.allocUnsafe(s+l[e]),h=c.allocUnsafe(s+l[e]),d=0;d<s;d++)f[d]=54^t[d],h[d]=92^t[d];var p=c.allocUnsafe(s+n+4);f.copy(p,0,0,s),this.ipad1=p,this.ipad2=f,this.opad=h,this.alg=e,this.blocksize=s,this.hash=a,this.size=l[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){a(e,t,n,r),c.isBuffer(e)||(e=c.from(e,s)),c.isBuffer(t)||(t=c.from(t,s));var o=new f(i=i||"sha1",e,t.length),u=c.allocUnsafe(r),h=c.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var d=0,p=l[i],m=Math.ceil(r/p),g=1;g<=m;g++){h.writeUInt32BE(g,t.length);for(var _=o.run(h,o.ipad1),v=_,y=1;y<n;y++){v=o.run(v,o.ipad2);for(var b=0;b<p;b++)_[b]^=v[b]}_.copy(u,d),d+=p}return u}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,a=0,s=r.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>r[c]&1;for(c=s;c<r.length;c++)a<<=1,a|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(e,t,n){"use strict";var r=n(32),i=n(12),o=n(206),a=n(157);function s(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(c,a),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=u[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,e.keys,a)}},c.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},c.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,n,r,i){for(var a=t,s=n,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),h=s;s=(a^o.permute(f))>>>0,a=h}o.rip(s,a,r,i)},c.prototype._decrypt=function(e,t,n,r,i){for(var a=n,s=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),h=a;a=(s^o.permute(f))>>>0,s=h}o.rip(a,s,r,i)}},function(e,t,n){var r=n(101),i=n(13).Buffer,o=n(209);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=a(e),u=o+16*s;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var r=n(117),i=n(13).Buffer,o=n(53),a=n(12),s=n(440),c=n(101),u=n(209);function l(e,t,n,a){o.call(this);var c=i.alloc(4,0);this._cipher=new r.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new s(l),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var c=8*o,l=i.alloc(8);l.writeUIntBE(c,0,8),r.update(l),e._finID=r.state;var f=i.from(e._finID);return u(f),f}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,n){var r=n(117),i=n(13).Buffer,o=n(53);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(12)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var r=n(64);e.exports=v,v.simpleSieve=g,v.fermatTest=_;var i=n(22),o=new i(24),a=new(n(214)),s=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),h=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!==0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function g(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function _(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;n.mod(l).cmp(f);)n.iadd(d)}else for(;n.mod(o).cmp(h);)n.iadd(d);if(g(p=n.shrn(1))&&g(n)&&_(p)&&_(n)&&a.test(p)&&a.test(n))return n}}},function(e,t,n){var r=n(22),i=n(160);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var u=e.shrn(c),l=s.toRed(o);t>0;t--){var f=this._randrange(new r(2),s);n&&n(f);var h=f.toRed(o).redPow(u);if(0!==h.cmp(a)&&0!==h.cmp(l)){for(var d=1;d<c;d++){if(0===(h=h.redSqr()).cmp(a))return!1;if(0===h.cmp(l))break}if(d===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var c=e.shrn(s),u=a.toRed(i);t>0;t--){var l=this._randrange(new r(2),a),f=e.gcd(l);if(0!==f.cmpn(1))return f;var h=l.toRed(i).redPow(c);if(0!==h.cmp(o)&&0!==h.cmp(u)){for(var d=1;d<s;d++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(u))break}if(d===s)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var r=t;r.base=n(119),r.short=n(452),r.mont=n(453),r.edwards=n(454)},function(e,t,n){"use strict";var r=n(42).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(42),i=n(102),o=n(217),a=n(32),s=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,f=o.maj32,h=o.s0_256,d=o.s1_256,p=o.g0_256,m=o.g1_256,g=i.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}r.inherits(v,g),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],g=this.h[2],_=this.h[3],v=this.h[4],y=this.h[5],b=this.h[6],w=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var x=u(w,d(v),l(v,y,b),this.k[r],n[r]),E=s(h(i),f(i,o,g));w=b,b=y,y=v,v=s(_,x),_=g,g=o,o=i,i=s(x,E)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],_),this.h[4]=s(this.h[4],v),this.h[5]=s(this.h[5],y),this.h[6]=s(this.h[6],b),this.h[7]=s(this.h[7],w)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(42),i=n(102),o=n(32),a=r.rotr64_hi,s=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,h=r.sum64_lo,d=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,_=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function b(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function x(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function M(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function S(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,1)^a(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,19)^a(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function P(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(y,_),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=A(n[r-4],n[r-3]),o=P(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],c=C(n[r-30],n[r-29]),u=O(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=d(i,o,a,s,c,u,l,f),n[r+1]=p(i,o,a,s,c,u,l,f)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],_=this.h[8],v=this.h[9],y=this.h[10],C=this.h[11],O=this.h[12],A=this.h[13],P=this.h[14],L=this.h[15];o(this.k.length===n.length);for(var D=0;D<n.length;D+=2){var I=P,R=L,B=T(_,v),N=k(_,v),U=b(_,v,y,C,O),z=w(_,v,y,C,O,A),F=this.k[D],j=this.k[D+1],W=n[D],H=n[D+1],V=m(I,R,B,N,U,z,F,j,W,H),K=g(I,R,B,N,U,z,F,j,W,H);I=M(r,i),R=S(r,i),B=x(r,i,a,s,c),N=E(r,i,a,s,c,u);var G=f(I,R,B,N),q=h(I,R,B,N);P=O,L=A,O=y,A=C,y=_,C=v,_=f(d,p,V,K),v=h(p,p,V,K),d=c,p=u,c=a,u=s,a=r,s=i,r=f(V,K,G,q),i=h(V,K,G,q)}l(this.h,0,r,i),l(this.h,2,a,s),l(this.h,4,c,u),l(this.h,6,d,p),l(this.h,8,_,v),l(this.h,10,y,C),l(this.h,12,O,A),l(this.h,14,P,L)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){var r=n(12),i=n(104).Reporter,o=n(21).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t},r.der=n(474)},function(e,t,n){var r=n(12),i=n(103),o=i.base,a=i.bignum,s=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.Node.call(this,"der",e)}function l(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=c,c.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(u,o.Node),u.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},u.prototype._decodeTag=function(e,t,n){var r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=f(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var n=l(e,t);if(e.isError(n))return n;var r,i=f(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0===(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,c=i[0]%40;if(r=n?i:[s,c].concat(i.slice(1)),t){var u=t[r.join(" ")];void 0===u&&(u=t[r.join(".")]),void 0!==u&&(r=u)}return r},u.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,c,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var n=e.raw(),r=new a(n);return t&&(r=t[r.toString(10)]||r),r},u.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,n){var r=n(12),i=n(21).Buffer,o=n(103),a=o.base,s=o.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(u,a.Node),u.prototype._encodeComposite=function(e,t,n,r){var o,a=function(e,t,n,r){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6}(e,t,n,this.reporter);if(r.length<128)return(o=new i(2))[0]=a,o[1]=r.length,this._createEncoderBuffer([o,r]);for(var c=1,u=r.length;u>=256;u>>=8)c++;(o=new i(2+c))[0]=a,o[1]=128|c;u=1+c;for(var l=r.length;l>0;u--,l>>=8)o[u]=255&l;return this._createEncoderBuffer([o,r])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new i(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,n){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(r=0;r<e.length;r++){var a=e[r];for(o++;a>=128;a>>=7)o++}var s=new i(o),c=s.length-1;for(r=e.length-1;r>=0;r--){a=e[r];for(s[c--]=127&a;(a>>=7)>0;)s[c--]=128|127&a}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[l(r.getFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[l(r.getFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new i(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=new i(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var a=e;a>=256;a>>=8)r++;for(a=(o=new Array(r)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var r=n(99),i=n(13).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),s=0;a.length<t;)n=o(s++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){var r=n(22),i=n(13).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,n){"use strict";var r=n(35),i=n(43),o=n(15).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),c=r.getPrevSiblingKey(),u=r.getChildKeys(),l=r.getParentKey(),f=i();(n[a]=f,s)&&(e.get(s)?e.setIn([s,"prevSibling"],f):e.setIn([a,"nextSibling"],null));c&&(e.get(c)?e.setIn([c,"nextSibling"],f):e.setIn([a,"prevSibling"],null));if(l&&e.get(l)){var h=e.get(l).getChildKeys();e.setIn([l,"children"],h.set(h.indexOf(r.getKey()),f))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],f),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);u.forEach((function(t){e.get(t)?e.setIn([t,"parent"],f):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},function(e,t,n){"use strict";var r=n(34),i=n(106),o=n(16);function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,c=n<a.count()?a.get(n):void 0,u=s?s.getEntity():void 0,l=c?c.getEntity():void 0;if(l&&l===u&&"MUTABLE"!==e.__get(l).getMutability()){for(var f,h=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!==typeof r&&o(!1),r}(a,l,n),d=h.start,p=h.end;d<p;)f=a.get(d),a=a.set(d,r.applyEntity(f,null)),d++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),c=n.get(o),u=a(r,c,s);u!==c&&(i[o]=u);var l=t.getEndKey(),f=t.getEndOffset(),h=n.get(l);o===l&&(h=u);var d=a(r,h,f);return d!==h&&(i[l]=d),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}},function(e,t,n){"use strict";var r=n(15).Map;e.exports=function(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat(r([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var o=t.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?t.get(a):null}return o?o.getNextSiblingKey():null}},function(e,t,n){"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n(15).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},function(e,t,n){"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")}},function(e,t,n){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},function(e,t,n){"use strict";var r=n(61);e.exports=function e(t){if(r(t)){var n=t,i=n.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=e(n.childNodes[o]);if(a)return a}}return null}},function(e,t,n){"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},function(e,t,n){"use strict";var r=n(239),i=n(17),o=n(240),a=n(241);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,s=a(n,o(e)),c=s.selectionState;c!==n.getSelection()&&(n=s.needsRecovery?i.forceSelection(n,c):i.acceptSelection(n,c),e.update(n))}}},function(e,t,n){"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},function(e,t,n){"use strict";var r=n(19),i=n(16),o=n(107);e.exports=function(e){var t=r.findDOMNode(e.editorContainer);return t||i(!1),o(t.firstChild)||i(!1),t.firstChild}},function(e,t,n){"use strict";var r=n(242);e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection();return 0===n.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,n.anchorNode,n.anchorOffset,n.focusNode,n.focusOffset)}},function(e,t,n){"use strict";var r=n(125),i=n(236),o=n(243),a=n(16),s=n(61),c=n(29);function u(e,t,n){var o=t,u=r(o);(null!=u||e&&(e===o||e.firstChild===o)||a(!1),e===o)&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),n>0&&(n=o.childNodes.length));if(0===n){var f=null;if(null!=u)f=u;else{var h=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(o);f=c(i(h))}return{key:f,offset:0}}var d=o.childNodes[n-1],p=null,m=null;if(i(d)){var g=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(d);p=c(i(g)),m=l(g)}else p=c(u),m=l(d);return{key:p,offset:m}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,a,s){var l=n.nodeType===Node.TEXT_NODE,f=a.nodeType===Node.TEXT_NODE;if(l&&f)return{selectionState:o(e,c(r(n)),i,c(r(a)),s),needsRecovery:!1};var h=null,d=null,p=!0;return l?(h={key:c(r(n)),offset:i},d=u(t,a,s)):f?(d={key:c(r(a)),offset:s},h=u(t,n,i)):(h=u(t,n,i),d=u(t,a,s),n===a&&i===s&&(p=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,h.key,h.offset,d.key,d.offset),needsRecovery:p}}},function(e,t,n){"use strict";var r=n(45),i=n(29);e.exports=function(e,t,n,o,a){var s=i(e.getSelection()),c=r.decode(t),u=c.blockKey,l=e.getBlockTree(u).getIn([c.decoratorKey,"leaves",c.leafKey]),f=r.decode(o),h=f.blockKey,d=e.getBlockTree(h).getIn([f.decoratorKey,"leaves",f.leafKey]);if(!l||!d)return s;var p=l.get("start"),m=d.get("start"),g=l?p+n:null,_=d?m+a:null;if(s.getAnchorKey()===u&&s.getAnchorOffset()===g&&s.getFocusKey()===h&&s.getFocusOffset()===_)return s;var v=!1;if(u===h){var y=l.get("end"),b=d.get("end");v=m===p&&b===y?a<n:m<p}else{v=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===u||e===h})).first()===h}return s.merge({anchorKey:u,anchorOffset:g,focusKey:h,focusOffset:_,isBackward:v})}},function(e,t,n){"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},function(e,t,n){"use strict";var r=n(44);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(522),s=n(0),c=n(16),u=n(246),l=n(523).setDraftEditorSelection,f=function(e){var t,n;function f(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o(i(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=f.prototype;return h._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,o=n.getKey(),a=r+i.length;if(e.hasEdgeWithin(o,r,a)){var s=this.leaf;s||c(!1);var f,h=s.firstChild;h||c(!1),h.nodeType===Node.TEXT_NODE?f=h:u(h)?f=s:(f=h.firstChild)||c(!1),l(e,f,o,r,a)}}},h.shouldComponentUpdate=function(e){var t=this.leaf;return t||c(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},h.componentDidUpdate=function(){this._setSelection()},h.componentDidMount=function(){this._setSelection()},h.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,c=i.customStyleFn,u=i.offsetKey,l=i.styleSet,f=l.reduce((function(e,t){var n={},i=o[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)}),{});if(c){var h=c(l,t);f=r(f,h)}return s.createElement("span",{"data-offset-key":u,ref:function(t){return e.leaf=t},style:f},s.createElement(a,null,n))},f}(s.Component);e.exports=f},function(e,t,n){"use strict";var r=n(61);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},function(e,t,n){"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},function(e,t,n){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=n(529);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},function(e,t,n){"use strict";function r(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function i(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function o(){return{width:window.innerWidth||r(),height:window.innerHeight||i()}}o.withoutScrollbars=function(){return{width:r(),height:i()}},e.exports=o},function(e,t,n){"use strict";var r=n(44);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(245),c=n(45),u=n(0),l=n(170),f=n(128),h=n(166),d=n(124),p=n(60),m=n(249),g=n(129),_=n(250),v=n(16),y=n(107),b=n(29),w=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},x=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(o(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var x=r.prototype;return x.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||w(e.selection,e.block.getKey())&&e.forceSelection},x.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=f.getScrollParent(n),o=g(i);if(i===window){var a=m(n);(r=a.y+a.height-_().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{y(n)||v(!1),(r=n.offsetHeight+n.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&l.setTop(i,l.getTop(i)+r+10)}}}},x._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,a=w(this.props.selection,n);return this.props.tree.map((function(l,f){var p=l.get("leaves");if(0===p.size)return null;var m=p.size-1,g=p.map((function(i,l){var h=c.encode(n,f,l),d=i.get("start"),p=i.get("end");return u.createElement(s,{key:h,offsetKey:h,block:t,start:d,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(d,p),styleSet:t.getInlineStyleAt(d),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:f===o&&l===m})})).toArray(),_=l.get("decoratorKey");if(null==_)return g;if(!e.props.decorator)return g;var v=b(e.props.decorator),y=v.getComponentForKey(_);if(!y)return g;var w=v.getPropsForKey(_),x=c.encode(n,f,0),E=p.first().get("start"),M=p.last().get("end"),S=r.slice(E,M),T=t.getEntityAt(l.get("start")),k=d.getHTMLDirIfDifferent(h.getDirection(S),e.props.direction),C={contentState:e.props.contentState,decoratedText:S,dir:k,key:x,start:E,end:M,blockKey:n,entityKey:T,offsetKey:x};return u.createElement(y,i({},w,C),g)})).toArray()},x.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,i=p({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return u.createElement("div",{"data-offset-key":r,className:i,ref:function(t){return e._node=t}},this._renderChildren())},r}(u.Component);e.exports=x},function(e,t,n){"use strict";var r=n(535),i=n(536),o=n(253),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function c(e){if("file"==e.kind)return e.getAsFile()}var u=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var i=t[n].type;if(!r.isImage(i))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(c).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=u},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(16),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,n){var a=0,s=[];e.forEach((function(c){!function(e,n){if(!t.FileReader||e.type&&!(e.type in o))return void n("");if(""===e.type){var a="";return i.test(e.name)&&(a=e.name.replace(i,"")),void n(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!==typeof e&&r(!1),n(e)},s.onerror=function(){n("")},s.readAsText(e)}(c,(function(t){a++,t&&s.push(t.slice(0,5e3)),a==e.length&&n(s.join("\r"))}))}))}}).call(this,n(27))},function(e,t,n){"use strict";var r=n(121);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},function(e,t,n){"use strict";var r=n(17),i=n(62),o=n(171),a=n(108);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(e,s?i.getUTF16Length(s,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},function(e,t,n){"use strict";var r=n(31),i=n(16);var o=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},function(e,t,n){"use strict";var r="\\s|(?![_])"+n(556).getPunctuation(),i=new RegExp("^(?:"+r+")*(?:['\u2018\u2019]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:['\u2018\u2019]|(?!"+r+").)*(?:"+r+")*$");function a(e,t){var n=t?o.exec(e):i.exec(e);return n?n[0]:e}var s={getBackward:function(e){return a(e,!0)},getForward:function(e){return a(e,!1)}};e.exports=s},function(e,t,n){"use strict";n(172);e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=e.getCurrentContent(),s=i;return t>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:s,focusOffset:n})}},function(e,t,n){"use strict";var r;function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(34),s=n(59),c=n(35),u=n(167),l=n(122),f=n(566),h=n(60),d=n(43),p=n(261),m=n(54),g=n(15),_=g.List,v=g.Map,y=g.OrderedSet,b=n(567),w=n(246),x=n(107),E=n(568),M=m("draft_tree_data_support"),S=new RegExp("\r","g"),T=new RegExp("\n","g"),k=new RegExp("^\n","g"),C=new RegExp("&nbsp;","g"),O=new RegExp("&#13;?","g"),A=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],L=["light","lighter","100","200","300","400"],D=["className","href","rel","target","title"],I=["alt","className","height","src","width"],R=(o(r={},h("public/DraftStyleDefault/depth0"),0),o(r,h("public/DraftStyleDefault/depth1"),1),o(r,h("public/DraftStyleDefault/depth2"),2),o(r,h("public/DraftStyleDefault/depth3"),3),o(r,h("public/DraftStyleDefault/depth4"),4),r),B=v({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),N=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"===typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),v(t)},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(R).some((function(n){e.classList.contains(n)&&(t=R[n])})),t},z=function(e){if(!b(e))return!1;var t=e;return!(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol)},F=function(e){if(!E(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},j=function(e){var t=y();if(!x(e))return t;var n=e,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return t.withMutations((function(e){P.indexOf(r)>=0?e.add("BOLD"):L.indexOf(r)>=0&&e.remove("BOLD"),"italic"===i?e.add("ITALIC"):"normal"===i&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},W=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,t){o(this,"characterList",_()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentStyle",y()),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",l),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=_(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentStyle=y(),this.currentText="",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e])),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(M?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t.addStyle=function(e){this.currentStyle=this.currentStyle.union(e)},t.removeStyle=function(e){this.currentStyle=this.currentStyle.subtract(e)},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||d(),n=i({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:_(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=_(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=r.nodeName.toLowerCase();if("body"===i||W(i)){this._trimCurrentText(),""!==this.currentText&&t.push(this._makeBlockConfig());var o=this.currentDepth,a=this.wrapper;W(i)&&(this.wrapper=i,W(a)&&this.currentDepth++),t.push.apply(t,this._toBlockConfigs(Array.from(r.childNodes))),this.currentDepth=o,this.wrapper=a}else{var s=this.blockTypeMap.get(i);if(void 0===s)if("#text"!==i)if("br"!==i)if(F(r))this._addImgNode(r);else if(z(r))this._addAnchorNode(r,t);else{var c=B.has(i)?y.of(B.get(i)):y(),u=j(r);this.addStyle(c),this.addStyle(u),t.push.apply(t,this._toBlockConfigs(Array.from(r.childNodes))),this.removeStyle(u),this.removeStyle(c)}else this._addBreakNode(r);else this._addTextNode(r);else{this._trimCurrentText(),""!==this.currentText&&t.push(this._makeBlockConfig());var l=this.currentDepth,f=this.wrapper;if(this.wrapper="pre"===i?"pre":this.wrapper,"string"!==typeof s&&(s=this.disambiguate(i,this.wrapper)||s[0]||"unstyled"),!M&&x(r)&&("unordered-list-item"===s||"ordered-list-item"===s)){var h=r;this.currentDepth=U(h,this.currentDepth)}var p=d(),m=this._toBlockConfigs(Array.from(r.childNodes));this._trimCurrentText(),t.push(this._makeBlockConfig({key:p,childConfigs:m,type:s})),this.currentDepth=l,this.wrapper=f}}}return t},t._appendText=function(e){var t;this.currentText+=e;var n=a.create({style:this.currentStyle,entity:this.currentEntity});this.characterList=(t=this.characterList).push.apply(t,Array(e.length).fill(n))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=_()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e){var t=e.textContent;""===t.trim()&&"pre"!==this.wrapper&&(t=" "),"pre"!==this.wrapper&&(t=(t=t.replace(k,"")).replace(T," ")),this._appendText(t)},t._addBreakNode=function(e){w(e)&&this._appendText("\n")},t._addImgNode=function(e){if(E(e)){var t=e,n={};I.forEach((function(e){var r=t.getAttribute(e);r&&(n[e]=r)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",n),m("draftjs_fix_paste_for_img")?"presentation"!==t.getAttribute("role")&&this._appendText("\ud83d\udcf7"):this._appendText("\ud83d\udcf7"),this.currentEntity=null}},t._addAnchorNode=function(e,t){if(b(e)){var n=e,r={};D.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),r.url=new f(n.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",r||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes))),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var o=e[r];o.parent=t,o.prevSibling=r>0?e[r-1].key:null,o.nextSibling=r<n?e[r+1].key:null,o.children=_(o.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new c(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return _(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,o=n.characterList;t.contentBlocks.push(new s(i({},e,{text:e.text+r,characterList:e.characterList.concat(o)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=_(),i=0;i<=t;i++){var o=e[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=t(e=e.trim().replace(S,"").replace(C," ").replace(O,"").replace(A,""));if(!r)return null;var i=N(n),o=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new H(i,o).addDOMNode(r).getContentBlocks()}},function(e,t,n){"use strict";var r=n(31),i=n(16),o=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},function(e,t,n){"use strict";var r=n(28),i=n(17),o=n(569),a=n(29),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),c=n.merge({blockMap:a,selectionAfter:t});if(c!==n)return i.push(e,c,"remove-range")}var u=s.tryToRemoveBlockStyle(e);return u?i.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),a=n.getBlockForKey(o).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var c=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),u=r.removeRange(n,c,"forward");return u!==n?i.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),c=s.getBlockForKey(a),u=c.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var l=c.getDepth();if(!e.shiftKey&&l===n)return t;var f=o(s,r,e.shiftKey?-1:1,n);return i.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),o=n.getStartKey(),s=n.getEndKey(),c=e.getCurrentContent(),u=n;if(o!==s&&0===n.getEndOffset()){var l=a(c.getBlockBefore(s));s=l.getKey(),u=u.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:l.getLength(),isBackward:!1})}if(c.getBlockMap().skipWhile((function(e,t){return t!==o})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var f=c.getBlockForKey(o).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(c,u,f),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var a,s=e.getCurrentContent();return a=o.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),i.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),o=e.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=s},function(e,t,n){"use strict";var r=n(173),i=n(127),o=n(31),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),c=r.hasCommandModifier,u=r.isCtrlKeyCommand;function l(e){return a&&e.altKey||u(e)}e.exports=function(e){switch(e.keyCode){case 66:return c(e)?"bold":null;case 68:return u(e)?"delete":null;case 72:return u(e)?"backspace":null;case 73:return c(e)?"italic":null;case 74:return c(e)?"code":null;case 75:return a&&u(e)?"secondary-cut":null;case 77:case 79:return u(e)?"split-block":null;case 84:return a&&u(e)?"transpose-characters":null;case 85:return c(e)?"underline":null;case 87:return a&&u(e)?"backspace-word":null;case 89:return u(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return c(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function(e){return!a&&e.shiftKey?null:l(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function(e){return c(e)&&a?"backspace-to-start-of-line":l(e)?"backspace-word":"backspace"}(e);case i.LEFT:return s&&c(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&c(e)?"move-selection-to-end-of-block":null;default:return null}}},function(e,t,n){"use strict";var r={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=r},function(e,t,n){e.exports=n(115)},function(e,t,n){"use strict";var r=n(20),i=n(55),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,i,a,s,c,u,l=[],f=0,h=e.length,d=h,p="string"!==r.getTypeOf(e);f<e.length;)d=h-f,p?(t=e[f++],n=f<h?e[f++]:0,i=f<h?e[f++]:0):(t=e.charCodeAt(f++),n=f<h?e.charCodeAt(f++):0,i=f<h?e.charCodeAt(f++):0),a=t>>2,s=(3&t)<<4|n>>4,c=d>1?(15&n)<<2|i>>6:64,u=d>2?63&i:64,l.push(o.charAt(a)+o.charAt(s)+o.charAt(c)+o.charAt(u));return l.join("")},t.decode=function(e){var t,n,r,a,s,c,u=0,l=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var f,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!==0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(c=o.indexOf(e.charAt(u++))),f[l++]=t,64!==s&&(f[l++]=n),64!==c&&(f[l++]=r);return f}},function(e,t,n){"use strict";(function(t){var r=n(20),i=n(591),o=n(36),a=n(266),s=n(55),c=n(109),u=null;if(s.nodestream)try{u=n(592)}catch(h){}function l(e,n){return new c.Promise((function(i,o){var s=[],c=e._internalType,u=e._outputType,l=e._mimeType;e.on("data",(function(e,t){s.push(e),n&&n(t)})).on("error",(function(e){s=[],o(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(u,function(e,n){var r,i=0,o=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),r=0;r<n.length;r++)o.set(n[r],i),i+=n[r].length;return o;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(c,s),l);i(e)}catch(h){o(h)}s=[]})).resume()}))}function f(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(h){this._worker=new o("error"),this._worker.error(h)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=f}).call(this,n(21).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var r=n(20),i=n(36);function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},function(e,t,n){"use strict";var r=n(20),i=n(36);function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},e.exports=o},function(e,t,n){"use strict";var r=n(36),i=n(175);function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(20).inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},function(e,t,n){"use strict";var r=n(36);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(595)},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(56),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=0,o=0;a<c;o++)55296===(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},function(e,t,n){"use strict";var r=n(20),i=n(55),o=n(280),a=n(609),s=n(610),c=n(282);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new c(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},function(e,t,n){"use strict";var r=n(281);function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(20).inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){"use strict";var r=n(20);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=i},function(e,t,n){"use strict";var r=n(280);function i(e){r.call(this,e)}n(20).inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8),i=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new r.D,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.o.ROTATE,MIDDLE:r.o.DOLLY,RIGHT:r.o.PAN},this.touches={ONE:r.A.ROTATE,TWO:r.A.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),c=s.NONE},this.update=function(){var t=new r.D,o=(new r.w).setFromUnitVectors(e.up,new r.D(0,1,0)),a=o.clone().inverse(),m=new r.D,g=new r.w;return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&c===s.NONE&&S(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=f.theta*n.dampingFactor,l.phi+=f.phi*n.dampingFactor):(l.theta+=f.theta,l.phi+=f.phi),l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),t.setFromSpherical(l),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),d.set(0,0,0)),h=1,!!(p||m.distanceToSquared(n.object.position)>u||8*(1-g.dot(n.object.quaternion))>u)&&(n.dispatchEvent(i),m.copy(n.object.position),g.copy(n.object.quaternion),p=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Y,!1),n.domElement.removeEventListener("mousedown",F,!1),n.domElement.removeEventListener("wheel",H,!1),n.domElement.removeEventListener("touchstart",K,!1),n.domElement.removeEventListener("touchend",q,!1),n.domElement.removeEventListener("touchmove",G,!1),document.removeEventListener("mousemove",j,!1),document.removeEventListener("mouseup",W,!1),n.domElement.removeEventListener("keydown",V,!1)};var n=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=s.NONE,u=1e-6,l=new r.z,f=new r.z,h=1,d=new r.D,p=!1,m=new r.C,g=new r.C,_=new r.C,v=new r.C,y=new r.C,b=new r.C,w=new r.C,x=new r.C,E=new r.C;function M(){return Math.pow(.95,n.zoomSpeed)}function S(e){f.theta-=e}function T(e){f.phi-=e}var k=function(){var e=new r.D;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),d.add(e)}}(),C=function(){var e=new r.D;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),O=function(){var e=new r.D;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),k(2*t*a/i.clientHeight,n.object.matrix),C(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(k(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function A(e){n.object.isPerspectiveCamera?h/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(e){n.object.isPerspectiveCamera?h*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){m.set(e.clientX,e.clientY)}function D(e){v.set(e.clientX,e.clientY)}function I(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,n)}}function R(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,n)}}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);w.set(0,r)}function N(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,r)}_.subVectors(g,m).multiplyScalar(n.rotateSpeed);var i=n.domElement;S(2*Math.PI*_.x/i.clientHeight),T(2*Math.PI*_.y/i.clientHeight),m.copy(g)}function U(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,r)}b.subVectors(y,v).multiplyScalar(n.panSpeed),O(b.x,b.y),v.copy(y)}function z(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);x.set(0,i),E.set(0,Math.pow(x.y/w.y,n.zoomSpeed)),A(E.y),w.copy(x)}function F(e){if(!1!==n.enabled){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case r.o.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),c=s.DOLLY;break;case r.o.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;D(e),c=s.PAN}else{if(!1===n.enableRotate)return;L(e),c=s.ROTATE}break;case r.o.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;L(e),c=s.ROTATE}else{if(!1===n.enablePan)return;D(e),c=s.PAN}break;default:c=s.NONE}c!==s.NONE&&(document.addEventListener("mousemove",j,!1),document.addEventListener("mouseup",W,!1),n.dispatchEvent(o))}}function j(e){if(!1!==n.enabled)switch(e.preventDefault(),c){case s.ROTATE:if(!1===n.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),_.subVectors(g,m).multiplyScalar(n.rotateSpeed);var t=n.domElement;S(2*Math.PI*_.x/t.clientHeight),T(2*Math.PI*_.y/t.clientHeight),m.copy(g),n.update()}(e);break;case s.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),E.subVectors(x,w),E.y>0?A(M()):E.y<0&&P(M()),w.copy(x),n.update()}(e);break;case s.PAN:if(!1===n.enablePan)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,v).multiplyScalar(n.panSpeed),O(b.x,b.y),v.copy(y),n.update()}(e)}}function W(e){!1!==n.enabled&&(document.removeEventListener("mousemove",j,!1),document.removeEventListener("mouseup",W,!1),n.dispatchEvent(a),c=s.NONE)}function H(e){!1===n.enabled||!1===n.enableZoom||c!==s.NONE&&c!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(o),function(e){e.deltaY<0?P(M()):e.deltaY>0&&A(M()),n.update()}(e),n.dispatchEvent(a))}function V(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:O(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:O(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:O(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:O(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function K(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case r.A.ROTATE:if(!1===n.enableRotate)return;I(e),c=s.TOUCH_ROTATE;break;case r.A.PAN:if(!1===n.enablePan)return;R(e),c=s.TOUCH_PAN;break;default:c=s.NONE}break;case 2:switch(n.touches.TWO){case r.A.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&B(e),n.enablePan&&R(e)}(e),c=s.TOUCH_DOLLY_PAN;break;case r.A.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&B(e),n.enableRotate&&I(e)}(e),c=s.TOUCH_DOLLY_ROTATE;break;default:c=s.NONE}break;default:c=s.NONE}c!==s.NONE&&n.dispatchEvent(o)}}function G(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),c){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;N(e),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;U(e),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&z(e),n.enablePan&&U(e)}(e),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&z(e),n.enableRotate&&N(e)}(e),n.update();break;default:c=s.NONE}}function q(e){!1!==n.enabled&&(n.dispatchEvent(a),c=s.NONE)}function Y(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Y,!1),n.domElement.addEventListener("mousedown",F,!1),n.domElement.addEventListener("wheel",H,!1),n.domElement.addEventListener("touchstart",K,!1),n.domElement.addEventListener("touchend",q,!1),n.domElement.addEventListener("touchmove",G,!1),n.domElement.addEventListener("keydown",V,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};i.prototype=Object.create(r.h.prototype),i.prototype.constructor=i;var o=function(e,t){i.call(this,e,t),this.mouseButtons.LEFT=r.o.PAN,this.mouseButtons.RIGHT=r.o.ROTATE,this.touches.ONE=r.A.PAN,this.touches.TWO=r.A.DOLLY_ROTATE};(o.prototype=Object.create(r.h.prototype)).constructor=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";n.byteLength=function(e){return 3*e.length/4-u(e)},n.toByteArray=function(e){var t,n,r,a,s,c=e.length;a=u(e),s=new o(3*c/4-a),n=a>0?c-4:c;var l=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;return 2===a?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[l++]=255&r):1===a&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r),s},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",a=[],s=0,c=n-i;s<c;s+=16383)a.push(l(e,s,s+16383>c?c:s+16383));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){"use strict";var r=e("base64-js"),i=e("ieee754");function o(e){if(e>2147483647)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(e)}return s(e,t,n)}function s(e,t,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return U(e)?function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=a.prototype,r}(e,t,n):"string"===typeof e?function(e,t){if("string"===typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t):function(e){if(a.isBuffer(e)){var t=0|f(e.length),n=o(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}if(e){if(z(e)||"length"in e)return"number"!==typeof e.length||F(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e){return c(e),o(e<0?0:0|f(e))}function l(e){for(var t=e.length<0?0:0|f(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(z(e)||U(e))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return R(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){f=!1;break}if(f)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(F(s))return a;e[n+a]=s}return a}function v(e,t,n,r){return N(R(t,e.length-n),e,n,r)}function y(e,t,n,r){return N(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return y(e,t,n,r)}function w(e,t,n,r){return N(B(t),e,n,r)}function x(e,t,n,r){return N(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}n.Buffer=a,n.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!==typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,n){return s(e,t,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"===typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):d.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,i){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),c=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n),f=0;f<c;++f)if(u[f]!==l[f]){o=u[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},a.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:new a(e,r),c=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%c]}return this};var I=/[^+/0-9A-Za-z-_]/g;function R(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=e.trim().replace(I,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function N(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function U(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"===typeof e.byteLength}function z(e){return"function"===typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function F(e){return e!==e}},{"base64-js":1,ieee754:3}],3:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},{}],4:[function(e,t,n){"use strict";for(var r={VERSION:"2.0.5",NOTES:[],CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},i=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],o=0,a=function(e){i.forEach((function(t){t.forEach((function(t){return r.NOTES[o]=t+e})),o++}))},s=-1;s<=9;s++)a(s);n.Constants=r},{}],5:[function(e,t,n){"use strict";var r=e("./player"),i=e("./utils"),o=e("./constants");t.exports={Player:r.Player,Utils:i.Utils,Constants:o.Constants}},{"./constants":4,"./player":6,"./utils":8}],6:[function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./utils").Utils,a=e("./track").Track;Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var s=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.sampleRate=5,this.startTime=0,this.buffer=n||null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},"function"===typeof e&&this.on("midiEvent",e)}return i(t,[{key:"loadFile",value:function(t){var n=e("fs");return this.buffer=n.readFileSync(t),this.fileLoaded()}},{key:"loadArrayBuffer",value:function(e){return this.buffer=new Uint8Array(e),this.fileLoaded()}},{key:"loadDataUri",value:function(e){for(var t=o.atob(e.split(",")[1]),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return this.buffer=n,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return"MThd"===o.bytesToLetters(this.buffer.subarray(0,4))}},{key:"getFormat",value:function(){return this.format=o.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var e=0;e<this.buffer.length;){if("MTrk"==o.bytesToLetters(this.buffer.subarray(e,e+4))){var t=o.bytesToNumber(this.buffer.subarray(e+4,e+8));this.tracks.push(new a(this.tracks.length,this.buffer.subarray(e+8,e+8+t)))}e+=o.bytesToNumber(this.buffer.subarray(e+4,e+8))+8}return this}},{key:"enableTrack",value:function(e){return this.tracks[e-1].enable(),this}},{key:"disableTrack",value:function(e){return this.tracks[e-1].disable(),this}},{key:"getDivision",value:function(){return this.division=o.bytesToNumber(this.buffer.subarray(12,14)),this}},{key:"playLoop",value:function(e){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach((function(t){if(!e&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var n=t.handleEvent(this.tick,e);e&&n?(n.hasOwnProperty("name")&&"Set Tempo"===n.name&&(this.defaultTempo=n.data,this.setTempo(n.data)),n.hasOwnProperty("name")&&"Program Change"===n.name&&(this.instruments.includes(n.value)||this.instruments.push(n.value))):n&&this.emitEvent(n)}}),this),e||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(e){return this.tempo=e,this}},{key:"setStartTime",value:function(e){this.startTime=e}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=(new Date).getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(e){return this.stop(),this.startTick=e,this.tracks.forEach((function(t){t.setEventIndexByTick(e)})),this}},{key:"skipToPercent",value:function(e){if(e<0||e>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(e/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(e){var t=this.getSongTime();if(e<0||e>t)throw e+" seconds not within song time of "+t;return this.skipToPercent(e/t*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||"object"===r(this.setIntervalId)}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach((function(e){return e.reset()})),this}},{key:"getEvents",value:function(){return this.tracks.map((function(e){return e.events}))}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map((function(e){return e.delta})))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce((function(e,t){return{events:{length:e.events.length+t.events.length}}}),{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return 14+8*this.tracks.length+this.tracks.reduce((function(e,t){return{pointer:e.pointer+t.pointer}}),{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce((function(e,t){return{eventIndex:e.eventIndex+t.eventIndex}}),{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()==this.buffer.length}},{key:"getCurrentTick",value:function(){return!this.startTime&&this.tick?this.startTick:this.startTime?Math.round(((new Date).getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:0}},{key:"emitEvent",value:function(e){return this.triggerPlayerEvent("midiEvent",e),this}},{key:"on",value:function(e,t){return this.eventListeners.hasOwnProperty(e)||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),this}},{key:"triggerPlayerEvent",value:function(e,t){return this.eventListeners.hasOwnProperty(e)&&this.eventListeners[e].forEach((function(e){return e(t||{})})),this}}]),t}();n.Player=s},{"./track":7,"./utils":8,fs:"fs"}],7:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./constants").Constants,o=e("./utils").Utils,a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=t,this.data=n,this.delta=0,this.runningDelta=0,this.events=[]}return r(e,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(e){for(var t in e=e||0,this.events)if(this.events[t].tick>=e)return this.eventIndex=t,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){for(var e=this.getCurrentByte(),t=1;e>=128;)e=this.data[this.pointer+t],t++;return t}},{key:"getDelta",value:function(){return o.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(e,t){if(t=t||!1){var n=e-this.lastTick>=this.getDelta();if(this.pointer<this.data.length&&(t||n)){var r=this.parseEvent();if(this.enabled)return r}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=e&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(e){this.pointer;var t=o.readVarInt(this.data.subarray(e+2,e+2+1));return o.bytesToLetters(this.data.subarray(e+1+2,e+1+t+2))}},{key:"parseEvent",value:function(){var e=this.pointer+this.getDeltaByteCount(),t={},n=this.getDeltaByteCount();if(t.track=this.index+1,t.delta=this.getDelta(),this.lastTick=this.lastTick+t.delta,this.runningDelta+=t.delta,t.tick=this.runningDelta,t.byteIndex=this.pointer,255==this.data[e]){switch(this.data[e+1]){case 0:t.name="Sequence Number";break;case 1:t.name="Text Event",t.string=this.getStringData(e);break;case 2:t.name="Copyright Notice";break;case 3:t.name="Sequence/Track Name",t.string=this.getStringData(e);break;case 4:t.name="Instrument Name",t.string=this.getStringData(e);break;case 5:t.name="Lyric",t.string=this.getStringData(e);break;case 6:t.name="Marker";break;case 7:t.name="Cue Point",t.string=this.getStringData(e);break;case 9:t.name="Device Name",t.string=this.getStringData(e);break;case 32:t.name="MIDI Channel Prefix";break;case 33:t.name="MIDI Port",t.data=o.bytesToNumber([this.data[e+3]]);break;case 47:t.name="End of Track";break;case 81:t.name="Set Tempo",t.data=Math.round(6e7/o.bytesToNumber(this.data.subarray(e+3,e+6))),this.tempo=t.data;break;case 84:t.name="SMTPE Offset";break;case 88:t.name="Time Signature",t.data=this.data.subarray(e+3,e+7),t.timeSignature=t.data[0]+"/"+Math.pow(2,t.data[1]);break;case 89:t.name="Key Signature",t.data=this.data.subarray(e+3,e+5),t.data[0]>=0?t.keySignature=i.CIRCLE_OF_FIFTHS[t.data[0]]:t.data[0]<0&&(t.keySignature=i.CIRCLE_OF_FOURTHS[Math.abs(t.data[0])]),0==t.data[1]?t.keySignature+=" Major":1==t.data[1]&&(t.keySignature+=" Minor");break;case 127:t.name="Sequencer-Specific Meta-event";break;default:t.name="Unknown: "+this.data[e+1].toString(16)}var r=this.data[this.pointer+n+2];this.pointer+=n+3+r}else 240==this.data[e]?(t.name="Sysex",r=this.data[this.pointer+n+1],this.pointer+=n+2+r):this.data[e]<128?(t.running=!0,t.noteNumber=this.data[e],t.noteName=i.NOTES[this.data[e]],t.velocity=this.data[e+1],this.lastStatus<=143?(t.name="Note off",t.channel=this.lastStatus-128+1):this.lastStatus<=159&&(t.name="Note on",t.channel=this.lastStatus-144+1),this.pointer+=n+2):(this.lastStatus=this.data[e],this.data[e]<=143?(t.name="Note off",t.channel=this.lastStatus-128+1,t.noteNumber=this.data[e+1],t.noteName=i.NOTES[this.data[e+1]],t.velocity=Math.round(this.data[e+2]/127*100),this.pointer+=n+3):this.data[e]<=159?(t.name="Note on",t.channel=this.lastStatus-144+1,t.noteNumber=this.data[e+1],t.noteName=i.NOTES[this.data[e+1]],t.velocity=Math.round(this.data[e+2]/127*100),this.pointer+=n+3):this.data[e]<=175?(t.name="Polyphonic Key Pressure",t.channel=this.lastStatus-160+1,t.note=i.NOTES[this.data[e+1]],t.pressure=event[2],this.pointer+=n+3):this.data[e]<=191?(t.name="Controller Change",t.channel=this.lastStatus-176+1,t.number=this.data[e+1],t.value=this.data[e+2],this.pointer+=n+3):this.data[e]<=207?(t.name="Program Change",t.channel=this.lastStatus-192+1,t.value=this.data[e+1],this.pointer+=n+2):this.data[e]<=223?(t.name="Channel Key Pressure",t.channel=this.lastStatus-208+1,this.pointer+=n+2):this.data[e]<=239?(t.name="Pitch Bend",t.channel=this.lastStatus-224+1,this.pointer+=n+3):t.name="Unknown.  Pointer: "+this.pointer.toString()+" "+e.toString()+" "+this.data.length);return this.delta+=t.delta,this.events.push(t),t}},{key:"endOfTrack",value:function(){return 255==this.data[this.pointer+1]&&47==this.data[this.pointer+2]&&0==this.data[this.pointer+3]}}]),e}();t.exports.Track=a},{"./constants":4,"./utils":8}],8:[function(e,t,n){(function(e){"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return t(n,null,[{key:"byteToHex",value:function(e){return("0"+e.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(e){var t=[];return e.forEach((function(e){return t.push(n.byteToHex(e))})),t.join("")}},{key:"hexToNumber",value:function(e){return parseInt(e,16)}},{key:"bytesToNumber",value:function(e){return n.hexToNumber(n.bytesToHex(e))}},{key:"bytesToLetters",value:function(e){var t=[];return e.forEach((function(e){return t.push(String.fromCharCode(e))})),t.join("")}},{key:"decToBinary",value:function(e){return(e>>>0).toString(2)}},{key:"readVarInt",value:function(e){var t=0;return e.forEach((function(e){128&e?(t+=127&e,t<<=7):t+=e})),t}},{key:"atob",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return"function"===typeof atob?atob(t):new e(t,"base64").toString("binary")}))}]),n}();n.Utils=r}).call(this,e("buffer").Buffer)},{buffer:2}]},{},[5])(5)},,,,function(e,t,n){"use strict";var r=n(3);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}n.d(t,"a",(function(){return i}))},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return M()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=y(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var u={};function l(){}function f(){}function h(){}var d={};d[i]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(E([])));m&&m!==t&&n.call(m,i)&&(d=m);var g=h.prototype=l.prototype=Object.create(d);function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e){var t;this._invoke=function(r,i){function o(){return new Promise((function(t,o){!function t(r,i,o,a){var s=c(e[r],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"===typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(l).then((function(e){u.value=e,o(u)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(r,i,t,o)}))}return t=t?t.then(o,o):o()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:M}}function M(){return{value:void 0,done:!0}}return f.prototype=g.constructor=h,h.constructor=f,h[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,i){var o=new v(s(t,n,r,i));return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(g),g[a]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(44),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"===typeof Symbol&&Symbol.iterator;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(_(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var E=x.prototype=new w;E.constructor=x,r(E,b.prototype),E.isPureReactComponent=!0;var M={current:null},S={current:null},T=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:S.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,P=[];function L(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function I(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return r(i,t,""===n?"."+R(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=n+R(s=t[u],u);c+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),u=0;!(s=t.next()).done;)c+=e(s=s.value,l=n+R(s,u++),r,i);else if("object"===s)throw r=""+t,Error(_(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}(e,"",t,n)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function U(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),I(e,N,t=L(t,o,r,i)),D(t)}function z(){var e=M.current;if(null===e)throw Error(_(321));return e}var F={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return U(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,B,t=L(null,null,t,n)),D(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return U(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(_(143));return e}},createRef:function(){return{current:null}},Component:b,PureComponent:x,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return z().useCallback(e,t)},useContext:function(e,t){return z().useContext(e,t)},useEffect:function(e,t){return z().useEffect(e,t)},useImperativeHandle:function(e,t,n){return z().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return z().useLayoutEffect(e,t)},useMemo:function(e,t){return z().useMemo(e,t)},useReducer:function(e,t,n){return z().useReducer(e,t,n)},useRef:function(e){return z().useRef(e)},useState:function(e){return z().useState(e)},Fragment:s,Profiler:u,StrictMode:c,Suspense:d,createElement:C,cloneElement:function(e,t,n){if(null===e||void 0===e)throw Error(_(267,e));var i=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)T.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:c}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r}},j={default:F},W=j&&F||j;e.exports=W.default||W},,function(e,t){e.exports=ImageData},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*m}},function(e,t){},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(64),t.createHash=t.Hash=n(99),t.createHmac=t.Hmac=n(199);var r=n(426),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=n(202);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(428);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=n(443);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=n(449);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n(483);var l=n(484);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=n(487);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},,function(e,t,n){"use strict";var r=n(152).Buffer,i=n(414);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(r){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(27))},function(e,t,n){"use strict";e.exports=o;var r=n(196),i=n(100);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(12),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(153)},function(e,t,n){e.exports=n(58)},function(e,t,n){e.exports=n(151).Transform},function(e,t,n){e.exports=n(151).PassThrough},function(e,t,n){var r=n(12),i=n(65),o=n(13).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var h=0;h<80;++h){var d=~~(h/20),p=0|((t=r)<<5|t>>>27)+l(d,i,o,s)+c+n[h]+a[d];c=s,s=o,o=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var r=n(12),i=n(65),o=n(13).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=(t=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=u(r)+f(p,i,o,s)+c+n[d]+a[p]|0;c=s,s=o,o=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var r=n(12),i=n(197),o=n(65),a=n(13).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,n){var r=n(12),i=n(198),o=n(65),a=n(13).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t,n){"use strict";var r=n(12),i=n(13).Buffer,o=n(53),a=i.alloc(128);function s(e,t){o.call(this,"digest"),"string"===typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=i.concat([t,a],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),s=0;s<64;s++)n[s]=54^t[s],r[s]=92^t[s];this._hash=[n]}r(s,o),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=s},function(e,t,n){e.exports=n(201)},function(e,t,n){(function(t,r){var i,o=n(203),a=n(204),s=n(205),c=n(13).Buffer,u=t.crypto&&t.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function h(e,t,n,r,i){return u.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return c.from(e)}))}e.exports=function(e,n,d,p,m,g){"function"===typeof m&&(g=m,m=void 0);var _=l[(m=m||"sha1").toLowerCase()];if(!_||"function"!==typeof t.Promise)return r.nextTick((function(){var t;try{t=s(e,n,d,p,m)}catch(r){return g(r)}g(null,t)}));if(o(e,n,d,p),"function"!==typeof g)throw new Error("No callback provided to pbkdf2");c.isBuffer(e)||(e=c.from(e,a)),c.isBuffer(n)||(n=c.from(n,a)),function(e,t){e.then((function(e){r.nextTick((function(){t(null,e)}))}),(function(e){r.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var n=h(i=i||c.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=n,n}(_).then((function(t){return t?h(e,n,d,p,_):s(e,n,d,p,m)})),g)}}).call(this,n(27),n(41))},function(e,t,n){var r=n(429),i=n(158),o=n(159),a=n(442),s=n(118);function c(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function u(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(e,t,n){var r=n(53),i=n(430),o=n(12),a=n(13).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:o,iv:c,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=c,o(c,r),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.utils=n(206),t.Cipher=n(157),t.DES=n(207),t.CBC=n(431),t.EDE=n(432)},function(e,t,n){"use strict";var r=n(32),i=n(12),o={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,n){"use strict";var r=n(32),i=n(12),o=n(157),a=n(207);function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function c(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},function(e,t,n){var r=n(159),i=n(211),o=n(13).Buffer,a=n(212),s=n(53),c=n(117),u=n(118);function l(e,t,n){s.call(this),this._cache=new h,this._cipher=new c.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(12)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var f=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function d(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=o.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=d,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(t,!1,n.key,n.iv);return d(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(101);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){var r=n(13).Buffer,i=n(101);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},function(e,t,n){var r=n(13).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){var r=n(13).Buffer;function i(e,t,n){for(var r,i,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=o(e._prev,n?r:i);return s}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},function(e,t,n){(function(e){var r=n(101);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,o)}}).call(this,n(21).Buffer)},function(e,t,n){var r=n(13).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!==(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var r=n(211),i=n(13).Buffer,o=n(159),a=n(212),s=n(53),c=n(117),u=n(118);function l(e,t,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function h(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new l(s.module,t,n)}n(12)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(t,!1,n.key,n.iv);return h(e,r.key,r.iv)},t.createDecipheriv=h},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var r=n(213),i=n(447),o=n(448);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new o(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,s,c){return e.isBuffer(i)||void 0===a[i]?t(n,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,c)),"number"===typeof n?new o(r(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,i)),new o(n,s,!0)))}}).call(this,n(21).Buffer)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var r=n(22),i=new(n(214)),o=new r(24),a=new r(11),s=new r(10),c=new r(3),u=new r(7),l=n(213),f=n(64);function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function d(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=h,this.setPrivateKey=d):this._primeCode=8}function g(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var f,h=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!i.test(e))return h+=1,h+="02"===n||"05"===n?8:4,p[r]=h,h;switch(i.test(e.shrn(1))||(h+=2),n){case"02":e.mod(o).cmp(a)&&(h+=8);break;case"05":(f=e.mod(s)).cmp(c)&&f.cmp(u)&&(h+=8);break;default:h+=4}return p[r]=h,h}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n(21).Buffer)},function(e,t,n){(function(t){var r=n(99),i=n(115),o=n(12),a=n(450),s=n(482),c=n(201);function u(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){i.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new u(e)}function h(e){return new l(e)}Object.keys(c).forEach((function(e){c[e].id=new t(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),o(u,i.Writable),u.prototype._write=function(e,t,n){this._hash.update(e),n()},u.prototype.update=function(e,n){return"string"===typeof e&&(e=new t(e,n)),this._hash.update(e),this},u.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=a(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},o(l,i.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,n){return"string"===typeof e&&(e=new t(e,n)),this._hash.update(e),this},l.prototype.verify=function(e,n,r){"string"===typeof n&&(n=new t(n,r)),this.end();var i=this._hash.digest();return s(n,i,e,this._signType,this._tag)},e.exports={Sign:f,Verify:h,createSign:f,createVerify:h}}).call(this,n(21).Buffer)},function(e,t,n){(function(t){var r=n(199),i=n(161),o=n(162).ec,a=n(22),s=n(120),c=n(224);function u(e,n,i,o){if((e=new t(e.toArray())).length<n.byteLength()){var a=new t(n.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var s=i.length,c=function(e,n){e=(e=l(e,n)).mod(n);var r=new t(e.toArray());if(r.length<n.byteLength()){var i=new t(n.byteLength()-r.length);i.fill(0),r=t.concat([i,r])}return r}(i,n),u=new t(s);u.fill(1);var f=new t(s);return f.fill(0),f=r(o,f).update(u).update(new t([0])).update(e).update(c).digest(),u=r(o,f).update(u).digest(),{k:f=r(o,f).update(u).update(new t([1])).update(e).update(c).digest(),v:u=r(o,f).update(u).digest()}}function l(e,t){var n=new a(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function f(e,n,i){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)n.v=r(i,n.k).update(n.v).digest(),o=t.concat([o,n.v]);a=l(o,e),n.k=r(i,n.k).update(n.v).update(new t([0])).digest(),n.v=r(i,n.k).update(n.v).digest()}while(-1!==a.cmp(e));return a}function h(e,t,n,r){return e.toRed(a.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,n,r,d,p){var m=s(n);if(m.curve){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong private key type");return function(e,n){var r=c[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new o(r).keyFromPrivate(n.privateKey).sign(e);return new t(i.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==d)throw new Error("wrong private key type");return function(e,n,r){var i,o=n.params.priv_key,s=n.params.p,c=n.params.q,d=n.params.g,p=new a(0),m=l(e,c).mod(c),g=!1,_=u(o,c,e,r);for(;!1===g;)i=f(c,_,r),p=h(d,i,s,c),0===(g=i.invm(c).imul(m.add(o.mul(p))).mod(c)).cmpn(0)&&(g=!1,p=new a(0));return function(e,n){e=e.toArray(),n=n.toArray(),128&e[0]&&(e=[0].concat(e));128&n[0]&&(n=[0].concat(n));var r=[48,e.length+n.length+4,2,e.length];return r=r.concat(e,[2,n.length],n),new t(r)}(p,g)}(e,m,r)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong private key type");e=t.concat([p,e]);for(var g=m.modulus.byteLength(),_=[0,1];e.length+_.length+1<g;)_.push(255);_.push(0);for(var v=-1;++v<e.length;)_.push(e[v]);return i(_,m)},e.exports.getKey=u,e.exports.makeKey=f}).call(this,n(21).Buffer)},function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.2","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}')},function(e,t,n){"use strict";var r=n(33),i=n(22),o=n(12),a=n(119),s=r.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),_=new i(1),v=0;0!==h.cmpn(0);){var y=d.div(h);u=d.sub(y.mul(h)),l=g.sub(y.mul(p));var b=_.sub(y.mul(m));if(!r&&u.cmp(f)<0)t=c.neg(),n=p,r=u.neg(),o=l;else if(r&&2===++v)break;c=u,d=h,h=u,g=p,p=l,_=m,m=b}a=u.neg(),s=l;var w=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[2*o]=s,r[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,n){return new u(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),c.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=r.redMul(u),h=c.redSqr().redIAdd(l).redISub(f).redISub(f),d=c.redMul(f.redISub(h)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,d,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=n.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(a);return this.curve.jpoint(f,h,d)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<e;n++){var l=o.redSqr(),f=u.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=o.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),_=d.redMul(g);_=_.redIAdd(_).redISub(h);var v=u.redMul(s);n+1<e&&(c=c.redMul(h)),o=m,s=v,u=_}return this.curve.jpoint(o,u.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),m=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=d.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=s.redMul(f).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,h,d)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(22),i=n(12),o=n(119),a=n(33);function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(33),i=n(22),o=n(12),a=n(119),s=r.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function u(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,n,r){return new u(this,e,t,n,r)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(u=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=r.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(u.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),c=a.redSub(s).redISub(s);e=r.redSub(i).redISub(o).redMul(c),t=a.redMul(u.redSub(o)),n=a.redMul(c)}}else{var u=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),c=u.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(o)),n=u.redMul(c)}return this.curve.point(e,t,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),c=n.redAdd(t),u=o.redMul(a),l=s.redMul(c),f=o.redMul(c),h=a.redMul(s);return this.curve.point(u,l,h,f)},u.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=r.redMul(c).redMul(l);return this.curve.twisted?(t=r.redMul(u).redMul(a.redSub(this.curve._mulA(o))),n=c.redMul(u)):(t=r.redMul(u).redMul(a.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,n)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},u.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(e,t,n){"use strict";t.sha1=n(456),t.sha224=n(457),t.sha256=n(218),t.sha384=n(458),t.sha512=n(219)},function(e,t,n){"use strict";var r=n(42),i=n(102),o=n(217),a=r.rotl32,s=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,l),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],h=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=c(a(i,5),u(p,o,l,h),d,n[r],f[p]);d=h,h=l,l=a(o,30),o=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],h),this.h[4]=s(this.h[4],d)},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(42),i=n(218);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(42),i=n(219);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(42),i=n(102),o=r.rotl32,a=r.sum32,s=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=n,y=r,b=i,w=u,x=l,E=0;E<80;E++){var M=a(o(c(n,f(E,r,i,u),e[p[E]+t],h(E)),g[E]),l);n=l,l=u,u=o(i,10),i=r,r=M,M=a(o(c(v,f(79-E,y,b,w),e[m[E]+t],d(E)),_[E]),x),v=x,x=w,w=o(b,10),b=y,y=M}M=s(this.h[1],i,w),this.h[1]=s(this.h[2],u,x),this.h[2]=s(this.h[3],l,v),this.h[3]=s(this.h[4],n,y),this.h[4]=s(this.h[0],r,b),this.h[0]=M},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(42),i=n(32);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(22),i=n(463),o=n(33),a=n(163),s=n(160),c=o.assert,u=n(464),l=n(465);function f(e){if(!(this instanceof f))return new f(e);"string"===typeof e&&(c(a.hasOwnProperty(e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),h=0;;h++){var d=o.k?o.k(h):new r(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var _=d.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(_=_.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return o.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),v^=1),new l({r:g,s:_,recoveryParam:v})}}}}}},f.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,n,i){c((3&n)===n,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,a=new r(e),s=t.r,u=t.s,f=1&n,h=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");s=h?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var d=t.r.invm(o),p=o.sub(a).mul(d).umod(o),m=u.mul(d).umod(o);return this.g.mulAdd(p,s,m)},f.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var r=n(164),i=n(215),o=n(32);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},function(e,t,n){"use strict";var r=n(22),i=n(33).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(22),i=n(33),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a];return t.place=a,i}function u(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;if(c(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var o=c(e,n),a=e.slice(n.place,o+n.place);if(n.place+=o,2!==e[n.place++])return!1;var u=c(e,n);if(e.length!==u+n.place)return!1;var l=e.slice(n.place,u+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new r(a),this.s=new r(l),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=u(t),n=u(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},function(e,t,n){"use strict";var r=n(164),i=n(163),o=n(33),a=o.assert,s=o.parseBytes,c=n(467),u=n(468);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(33),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var r=n(22),i=n(33),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},function(e,t,n){"use strict";var r=n(103);t.certificate=n(479);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=f;var h=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,n){var r=n(103),i=n(12);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=n(471).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(r){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},function(e,t,n){var r=n(12);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(e,t,n){var r=n(104).Reporter,i=n(104).EncoderBuffer,o=n(104).DecoderBuffer,a=n(32),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},u.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(a=this._peekTag(e,c,n.any),e.isError(a))return a}else{var u=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(p){a=!1}e.restore(u)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)u=e.save();var h=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(h))return h;n.any?i=e.raw(u):e=h}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(d,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},u.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=e.save(),s=n.choice[o];try{var c=s._decode(e,t);if(e.isError(c))return!1;r={type:o,value:c},i=!0}catch(u){return e.restore(a),!1}return!0}),this),i?r:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},u.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),c))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,n){var r=n(221);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,n){var r=t;r.der=n(222),r.pem=n(476)},function(e,t,n){var r=n(12),i=n(21).Buffer,o=n(222);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,u=0;u<n.length;u++){var l=n[u].match(a);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;s=u}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,c).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new i(f,"base64");return o.prototype.decode.call(this,h,t)}},function(e,t,n){var r=t;r.der=n(223),r.pem=n(478)},function(e,t,n){var r=n(12),i=n(223);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";var r=n(103),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=r.define("RDNSequence",(function(){this.seqof(c)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),h=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(118),s=n(158),c=n(13).Buffer;e.exports=function(e,t){var n,u=e.toString(),l=u.match(r);if(l){var f="aes"+l[1],h=c.from(l[2],"hex"),d=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,h.slice(0,8),parseInt(l[1],10)).key,m=[],g=s.createDecipheriv(f,p,h);m.push(g.update(d)),m.push(g.final()),n=c.concat(m)}else{var _=u.match(o);n=new c(_[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:n}}},function(e,t,n){(function(t){var r=n(22),i=n(162).ec,o=n(120),a=n(224);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,n,c,u,l){var f=o(c);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new i(r),s=n.data.subjectPrivateKey.data;return o.verify(t,e,s)}(e,n,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var i=n.data.p,a=n.data.q,c=n.data.g,u=n.data.pub_key,l=o.signature.decode(e,"der"),f=l.s,h=l.r;s(f,a),s(h,a);var d=r.mont(i),p=f.invm(a);return 0===c.toRed(d).redPow(new r(t).mul(p).mod(a)).fromRed().mul(u.toRed(d).redPow(h.mul(p).mod(a)).fromRed()).mod(i).mod(a).cmp(h)}(e,n,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");n=t.concat([l,n]);for(var h=f.modulus.byteLength(),d=[1],p=0;n.length+d.length+2<h;)d.push(255),p++;d.push(0);for(var m=-1;++m<n.length;)d.push(n[m]);d=new t(d);var g=r.mont(f.modulus);e=(e=new r(e).toRed(g)).redPow(new r(f.publicExponent)),e=new t(e.fromRed().toArray());var _=p<8?1:0;for(h=Math.min(e.length,d.length),e.length!==d.length&&(_=1),m=-1;++m<h;)_|=e[m]^d[m];return 0===_}}).call(this,n(21).Buffer)},function(e,t,n){(function(t){var r=n(162),i=n(22);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var o=new t(r-i.length);o.fill(0),i=t.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(21).Buffer)},function(e,t,n){t.publicEncrypt=n(485),t.privateDecrypt=n(486),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var r=n(120),i=n(64),o=n(99),a=n(225),s=n(226),c=n(22),u=n(227),l=n(161),f=n(13).Buffer;e.exports=function(e,t,n){var h;h=e.padding?e.padding:n?1:4;var d,p=r(e);if(4===h)d=function(e,t){var n=e.modulus.byteLength(),r=t.length,u=o("sha1").update(f.alloc(0)).digest(),l=u.length,h=2*l;if(r>n-h-2)throw new Error("message too long");var d=f.alloc(n-r-h-2),p=n-l-1,m=i(l),g=s(f.concat([u,d,f.alloc(1,1),t],p),a(m,p)),_=s(m,a(g,l));return new c(f.concat([f.alloc(1),_,g],n))}(p,t);else if(1===h)d=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?f.alloc(a-o-3,255):function(e){var t,n=f.allocUnsafe(e),r=0,o=i(2*e),a=0;for(;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3);return new c(f.concat([f.from([0,n?1:2]),r,f.alloc(1),t],a))}(p,t,n);else{if(3!==h)throw new Error("unknown padding");if((d=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(d,p):u(d,p)}},function(e,t,n){var r=n(120),i=n(225),o=n(226),a=n(22),s=n(161),c=n(99),u=n(227),l=n(13).Buffer;e.exports=function(e,t,n){var f;f=e.padding?e.padding:n?1:4;var h,d=r(e),p=d.modulus.byteLength();if(t.length>p||new a(t).cmp(d.modulus)>=0)throw new Error("decryption error");h=n?u(new a(t),d):s(t,d);var m=l.alloc(p-h.length);if(h=l.concat([m,h],p),4===f)return function(e,t){var n=e.modulus.byteLength(),r=c("sha1").update(l.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),u=t.slice(a+1),f=o(s,i(u,a)),h=o(u,i(f,n-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,h.slice(0,a)))throw new Error("decryption error");var d=a;for(;0===h[d];)d++;if(1!==h[d++])throw new Error("decryption error");return h.slice(d)}(d,h);if(1===f)return function(e,t,n){var r=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,h,n);if(3===f)return h;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(13),a=n(64),s=o.Buffer,c=o.kMaxLength,u=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function h(e,t,n){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>c)throw new RangeError("buffer too small")}function d(e,t,n,i){if(r.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return u.getRandomValues(s),i?void r.nextTick((function(){i(null,e)})):e}if(!i)return a(n).copy(e,t),e;a(n,(function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}))}u&&u.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)i=n,n=0,r=t.length;else if("function"===typeof r)i=r,r=t.length-n;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return f(n,t.length),h(r,n,t.length),d(t,n,r,i)},t.randomFillSync=function(t,n,r){"undefined"===typeof n&&(n=0);if(!s.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,t.length),void 0===r&&(r=t.length-n);return h(r,n,t.length),d(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,n(27),n(41))},,function(e,t,n){"use strict";var r=n(0),i=n(44),o=n(490);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,c={};function u(){if(s)for(var e in c){var t=c[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!f[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in f[n]=t,n=t.eventTypes){var i=void 0,o=n[r],u=t,d=r;if(h.hasOwnProperty(d))throw Error(a(99,d));h[d]=o;var p=o.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&l(p[i],u,d);i=!0}else o.registrationName?(l(o.registrationName,u,d),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function l(e,t,n){if(d[e])throw Error(a(100,e));d[e]=t,p[e]=t.eventTypes[n].dependencies}var f=[],h={},d={},p={};function m(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var g=!1,_=null,v=!1,y=null,b={onError:function(e){g=!0,_=e}};function w(e,t,n,r,i,o,a,s,c){g=!1,_=null,m.apply(b,arguments)}var x=null,E=null,M=null;function S(e,t,n){var r=e.type||"unknown-event";e.currentTarget=M(n),function(e,t,n,r,i,o,s,c,u){if(w.apply(this,arguments),g){if(!g)throw Error(a(198));var l=_;g=!1,_=null,v||(v=!0,y=l)}}(r,t,void 0,e),e.currentTarget=null}function T(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function k(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function O(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){if(null!==e&&(C=T(C,e)),e=C,C=null,e){if(k(e,O),C)throw Error(a(95));if(v)throw e=y,v=!1,y=null,e}}var P={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!c.hasOwnProperty(t)||c[t]!==r){if(c[t])throw Error(a(102,t));c[t]=r,n=!0}}n&&u()}};function L(e,t){var n=e.stateNode;if(!n)return null;var r=x(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var D=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;D.hasOwnProperty("ReactCurrentDispatcher")||(D.ReactCurrentDispatcher={current:null}),D.hasOwnProperty("ReactCurrentBatchConfig")||(D.ReactCurrentBatchConfig={suspense:null});var I=/^(.*)[\\\/]/,R="function"===typeof Symbol&&Symbol.for,B=R?Symbol.for("react.element"):60103,N=R?Symbol.for("react.portal"):60106,U=R?Symbol.for("react.fragment"):60107,z=R?Symbol.for("react.strict_mode"):60108,F=R?Symbol.for("react.profiler"):60114,j=R?Symbol.for("react.provider"):60109,W=R?Symbol.for("react.context"):60110,H=R?Symbol.for("react.concurrent_mode"):60111,V=R?Symbol.for("react.forward_ref"):60112,K=R?Symbol.for("react.suspense"):60113,G=R?Symbol.for("react.suspense_list"):60120,q=R?Symbol.for("react.memo"):60115,Y=R?Symbol.for("react.lazy"):60116;R&&Symbol.for("react.fundamental"),R&&Symbol.for("react.responder"),R&&Symbol.for("react.scope");var X="function"===typeof Symbol&&Symbol.iterator;function Z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=X&&e[X]||e["@@iterator"])?e:null}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case U:return"Fragment";case N:return"Portal";case F:return"Profiler";case z:return"StrictMode";case K:return"Suspense";case G:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case W:return"Context.Consumer";case j:return"Context.Provider";case V:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return J(e.type);case Y:if(e=1===e._status?e._result:null)return J(e)}return null}function $(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=J(e.type);n=null,r&&(n=J(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(I,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=E(e)){if("function"!==typeof ee)throw Error(a(280));var t=x(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function ce(){}var ue=ae,le=!1,fe=!1;function he(){null===te&&null===ne||(ce(),oe())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,me={},ge={};function _e(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ve[e]=new _e(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ve[t]=new _e(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ve[e]=new _e(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ve[e]=new _e(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ve[e]=new _e(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ve[e]=new _e(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ve[e]=new _e(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ve[e]=new _e(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ve[e]=new _e(e,5,!1,e.toLowerCase(),null,!1)}));var ye=/[\-:]([a-z])/g;function be(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function xe(e,t,n,r){var i=ve.hasOwnProperty(t)?ve[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pe.call(ge,e)||!pe.call(me,e)&&(de.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Me(e){e._valueTracker||(e._valueTracker=function(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ee(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Te(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ce(e,t){null!=(t=t.checked)&&xe(e,"checked",t,!1)}function Oe(e,t){Ce(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Le(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function De(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:we(n)}}function Be(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ye,be);ve[t]=new _e(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ye,be);ve[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ye,be);ve[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ve[e]=new _e(e,1,!1,e.toLowerCase(),null,!1)})),ve.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ve[e]=new _e(e,1,!1,e.toLowerCase(),null,!0)}));var Ue="http://www.w3.org/1999/xhtml",ze="http://www.w3.org/2000/svg";function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var We,He=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==ze||"innerHTML"in e)e.innerHTML=t;else{for((We=We||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=We.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ke(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},qe={},Ye={};function Xe(e){if(qe[e])return qe[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ye)return qe[e]=n[t];return e}Q&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Ze=Xe("animationend"),Je=Xe("animationiteration"),$e=Xe("animationstart"),Qe=Xe("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rt(i),e;if(o===r)return rt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ot,at,st,ct=!1,ut=[],lt=null,ft=null,ht=null,dt=new Map,pt=new Map,mt=[],gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),_t="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function vt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function yt(e,t){switch(e){case"focus":case"blur":lt=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":ht=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function bt(e,t,n,r,i){return null===e||e.nativeEvent!==i?(e=vt(t,n,r,i),null!==t&&(null!==(t=ur(t))&&at(t)),e):(e.eventSystemFlags|=r,e)}function wt(e){var t=cr(e.target);if(null!==t){var n=tt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=nt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){st(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=ur(t);return null!==n&&at(n),e.blockedOn=t,!1}return!0}function Et(e,t,n){xt(e)&&n.delete(t)}function Mt(){for(ct=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=ur(e.blockedOn))&&ot(e);break}var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==lt&&xt(lt)&&(lt=null),null!==ft&&xt(ft)&&(ft=null),null!==ht&&xt(ht)&&(ht=null),dt.forEach(Et),pt.forEach(Et)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,ct||(ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Mt)))}function Tt(e){function t(t){return St(t,e)}if(0<ut.length){St(ut[0],e);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==lt&&St(lt,e),null!==ft&&St(ft,e),null!==ht&&St(ht,e),dt.forEach(t),pt.forEach(t),n=0;n<mt.length;n++)(r=mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<mt.length&&null===(n=mt[0]).blockedOn;)wt(n),null===n.blockedOn&&mt.shift()}function kt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ct(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ot(e,t,n){(t=L(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function At(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Ct(t);for(t=n.length;0<t--;)Ot(n[t],"captured",e);for(t=0;t<n.length;t++)Ot(n[t],"bubbled",e)}}function Pt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=L(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function Lt(e){e&&e.dispatchConfig.registrationName&&Pt(e._targetInst,null,e)}function Dt(e){k(e,At)}function It(){return!0}function Rt(){return!1}function Bt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?It:Rt,this.isPropagationStopped=Rt,this}function Nt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Ut(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function zt(e){e.eventPool=[],e.getPooled=Nt,e.release=Ut}i(Bt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=It)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=It)},persist:function(){this.isPersistent=It},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Bt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Bt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,zt(n),n},zt(Bt);var Ft=Bt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jt=Bt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wt=Bt.extend({view:null,detail:null}),Ht=Wt.extend({relatedTarget:null});function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Xt(){return Yt}for(var Zt=Wt.extend({key:function(e){if(e.key){var t=Kt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Gt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Xt,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Jt=0,$t=0,Qt=!1,en=!1,tn=Wt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Xt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Jt;return Jt=e.screenX,Qt?"mousemove"===e.type?e.screenX-t:0:(Qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,en?"mousemove"===e.type?e.screenY-t:0:(en=!0,0)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rn=tn.extend({dataTransfer:null}),on=Wt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Xt}),an=Bt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),cn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ze,"animationEnd",2],[Je,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Qe,"transitionEnd",2],["waiting","waiting",2]],un={},ln={},fn=0;fn<cn.length;fn++){var hn=cn[fn],dn=hn[0],pn=hn[1],mn=hn[2],gn="on"+(pn[0].toUpperCase()+pn.slice(1)),_n={phasedRegistrationNames:{bubbled:gn,captured:gn+"Capture"},dependencies:[dn],eventPriority:mn};un[pn]=_n,ln[dn]=_n}var vn={eventTypes:un,getEventPriority:function(e){return void 0!==(e=ln[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=ln[e];if(!i)return null;switch(e){case"keypress":if(0===Vt(n))return null;case"keydown":case"keyup":e=Zt;break;case"blur":case"focus":e=Ht;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=on;break;case Ze:case Je:case $e:e=Ft;break;case Qe:e=an;break;case"scroll":e=Wt;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=Bt}return Dt(t=e.getPooled(i,t,n,r)),t}},yn=o.unstable_UserBlockingPriority,bn=o.unstable_runWithPriority,wn=vn.getEventPriority,xn=[];function En(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=cr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=kt(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,c=0;c<f.length;c++){var u=f[c];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=T(s,u))}A(s)}}var Mn=!0;function Sn(e,t){Tn(t,e,!1)}function Tn(e,t,n){switch(wn(t)){case 0:var r=kn.bind(null,t,1);break;case 1:r=Cn.bind(null,t,1);break;default:r=An.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function kn(e,t,n){le||ce();var r=An,i=le;le=!0;try{se(r,e,t,n)}finally{(le=i)||he()}}function Cn(e,t,n){bn(yn,An.bind(null,e,t,n))}function On(e,t,n,r){if(xn.length){var i=xn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=En,n=e,fe)t(n,void 0);else{fe=!0;try{ue(t,n,void 0)}finally{fe=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,xn.length<10&&xn.push(e)}}function An(e,t,n){if(Mn)if(0<ut.length&&-1<gt.indexOf(e))e=vt(null,e,t,n),ut.push(e);else{var r=Pn(e,t,n);null===r?yt(e,n):-1<gt.indexOf(e)?(e=vt(r,e,t,n),ut.push(e)):function(e,t,n,r){switch(t){case"focus":return lt=bt(lt,e,t,n,r),!0;case"dragenter":return ft=bt(ft,e,t,n,r),!0;case"mouseover":return ht=bt(ht,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return dt.set(i,bt(dt.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,pt.set(i,bt(pt.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(yt(e,n),On(e,t,n,null))}}function Pn(e,t,n){var r=kt(n);if(null!==(r=cr(r))){var i=tt(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=nt(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return On(e,t,n,r),null}function Ln(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var Dn=new("function"===typeof WeakMap?WeakMap:Map);function In(e){var t=Dn.get(e);return void 0===t&&(t=new Set,Dn.set(e,t)),t}function Rn(e,t,n){if(!n.has(e)){switch(e){case"scroll":Tn(t,"scroll",!0);break;case"focus":case"blur":Tn(t,"focus",!0),Tn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Ln(e)&&Tn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&Sn(e,t)}n.add(e)}}var Bn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nn=["Webkit","ms","Moz","O"];function Un(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Bn.hasOwnProperty(e)&&Bn[e]?(""+t).trim():t+"px"}function zn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Un(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Bn).forEach((function(e){Nn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bn[t]=Bn[e]}))}));var Fn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jn(e,t){if(t){if(Fn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function Wn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Hn(e,t){var n=In(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Rn(t[r],e,n)}function Vn(){}function Kn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Yn(){for(var e=window,t=Kn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Kn((e=t.contentWindow).document)}return t}function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Zn=null,Jn=null;function $n(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Qn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var er="function"===typeof setTimeout?setTimeout:void 0,tr="function"===typeof clearTimeout?clearTimeout:void 0;function nr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function rr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr="__reactContainere$"+ir;function cr(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[or]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rr(e);null!==e;){if(n=e[or])return n;e=rr(e)}return t}n=(e=n).parentNode}return null}function ur(e){return!(e=e[or]||e[sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function lr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function fr(e){return e[ar]||null}var hr=null,dr=null,pr=null;function mr(){if(pr)return pr;var e,t,n=dr,r=n.length,i="value"in hr?hr.value:hr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return pr=i.slice(e,1<t?1-t:void 0)}var gr=Bt.extend({data:null}),_r=Bt.extend({data:null}),vr=[9,13,27,32],yr=Q&&"CompositionEvent"in window,br=null;Q&&"documentMode"in document&&(br=document.documentMode);var wr=Q&&"TextEvent"in window&&!br,xr=Q&&(!yr||br&&8<br&&11>=br),Er=String.fromCharCode(32),Mr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Sr=!1;function Tr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function kr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Cr=!1;var Or={eventTypes:Mr,extractEvents:function(e,t,n,r){var i;if(yr)e:{switch(e){case"compositionstart":var o=Mr.compositionStart;break e;case"compositionend":o=Mr.compositionEnd;break e;case"compositionupdate":o=Mr.compositionUpdate;break e}o=void 0}else Cr?Tr(e,n)&&(o=Mr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Mr.compositionStart);return o?(xr&&"ko"!==n.locale&&(Cr||o!==Mr.compositionStart?o===Mr.compositionEnd&&Cr&&(i=mr()):(dr="value"in(hr=r)?hr.value:hr.textContent,Cr=!0)),o=gr.getPooled(o,t,n,r),i?o.data=i:null!==(i=kr(n))&&(o.data=i),Dt(o),i=o):i=null,(e=wr?function(e,t){switch(e){case"compositionend":return kr(t);case"keypress":return 32!==t.which?null:(Sr=!0,Er);case"textInput":return(e=t.data)===Er&&Sr?null:e;default:return null}}(e,n):function(e,t){if(Cr)return"compositionend"===e||!yr&&Tr(e,t)?(e=mr(),pr=dr=hr=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=_r.getPooled(Mr.beforeInput,t,n,r)).data=e,Dt(t)):t=null,null===i?t:null===t?i:[i,t]}},Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ar[e.type]:"textarea"===t}var Lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Dr(e,t,n){return(e=Bt.getPooled(Lr.change,e,t,n)).type="change",ie(n),Dt(e),e}var Ir=null,Rr=null;function Br(e){A(e)}function Nr(e){if(Se(lr(e)))return e}function Ur(e,t){if("change"===e)return t}var zr=!1;function Fr(){Ir&&(Ir.detachEvent("onpropertychange",jr),Rr=Ir=null)}function jr(e){if("value"===e.propertyName&&Nr(Rr))if(e=Dr(Rr,e,kt(e)),le)A(e);else{le=!0;try{ae(Br,e)}finally{le=!1,he()}}}function Wr(e,t,n){"focus"===e?(Fr(),Rr=n,(Ir=t).attachEvent("onpropertychange",jr)):"blur"===e&&Fr()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nr(Rr)}function Vr(e,t){if("click"===e)return Nr(t)}function Kr(e,t){if("input"===e||"change"===e)return Nr(t)}Q&&(zr=Ln("input")&&(!document.documentMode||9<document.documentMode));var Gr,qr={eventTypes:Lr,_isInputEventSupported:zr,extractEvents:function(e,t,n,r){var i=t?lr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Ur;else if(Pr(i))if(zr)a=Kr;else{a=Hr;var s=Wr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Vr);if(a&&(a=a(e,t)))return Dr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pe(i,"number",i.value)}},Yr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xr={eventTypes:Yr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?cr(t):null)&&(t!==(o=tt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=tn,c=Yr.mouseLeave,u=Yr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=nn,c=Yr.pointerLeave,u=Yr.pointerEnter,l="pointer");if(e=null==a?i:lr(a),i=null==t?i:lr(t),(c=s.getPooled(c,a,n,r)).type=l+"leave",c.target=e,c.relatedTarget=i,(r=s.getPooled(u,t,n,r)).type=l+"enter",r.target=i,r.relatedTarget=e,l=t,(s=a)&&l)e:{for(e=l,a=0,t=u=s;t;t=Ct(t))a++;for(t=0,i=e;i;i=Ct(i))t++;for(;0<a-t;)u=Ct(u),a--;for(;0<t-a;)e=Ct(e),t--;for(;a--;){if(u===e||u===e.alternate)break e;u=Ct(u),e=Ct(e)}u=null}else u=null;for(e=u,u=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)u.push(s),s=Ct(s);for(s=[];l&&l!==e&&(null===(a=l.alternate)||a!==e);)s.push(l),l=Ct(l);for(l=0;l<u.length;l++)Pt(u[l],"bubbled",c);for(l=s.length;0<l--;)Pt(s[l],"captured",r);return n===Gr?(Gr=null,[c]):(Gr=n,[c,r])}};var Zr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Jr=Object.prototype.hasOwnProperty;function $r(e,t){if(Zr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jr.call(t,n[r])||!Zr(e[n[r]],t[n[r]]))return!1;return!0}var Qr=Q&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ti=null,ni=null,ri=null,ii=!1;function oi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ii||null==ti||ti!==Kn(n)?null:("selectionStart"in(n=ti)&&Xn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ri&&$r(ri,n)?null:(ri=n,(e=Bt.getPooled(ei.select,ni,e,t)).type="select",e.target=ti,Dt(e),e))}var ai={eventTypes:ei,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=In(o),i=p.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?lr(t):window,e){case"focus":(Pr(o)||"true"===o.contentEditable)&&(ti=o,ni=t,ri=null);break;case"blur":ri=ni=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":return ii=!1,oi(n,r);case"selectionchange":if(Qr)break;case"keydown":case"keyup":return oi(n,r)}return null}};P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x=fr,E=ur,M=lr,P.injectEventPluginsByName({SimpleEventPlugin:vn,EnterLeaveEventPlugin:Xr,ChangeEventPlugin:qr,SelectEventPlugin:ai,BeforeInputEventPlugin:Or}),new Set;var si=[],ci=-1;function ui(e){0>ci||(e.current=si[ci],si[ci]=null,ci--)}function li(e,t){ci++,si[ci]=e.current,e.current=t}var fi={},hi={current:fi},di={current:!1},pi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(e){ui(di),ui(hi)}function vi(e){ui(di),ui(hi)}function yi(e,t,n){if(hi.current!==fi)throw Error(a(168));li(hi,t),li(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,J(t)||"Unknown",o));return i({},n,{},r)}function wi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,t),li(di,di.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(t=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=t,ui(di),ui(hi),li(hi,t)):ui(di),li(di,n)}var Ei=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ci=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,Ri={},Bi=void 0!==ki?ki:function(){},Ni=null,Ui=null,zi=!1,Fi=Ci(),ji=1e4>Fi?Ci:function(){return Ci()-Fi};function Wi(){switch(Oi()){case Ai:return 99;case Pi:return 98;case Li:return 97;case Di:return 96;case Ii:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Pi;case 97:return Li;case 96:return Di;case 95:return Ii;default:throw Error(a(332))}}function Vi(e,t){return e=Hi(e),Ei(e,t)}function Ki(e,t,n){return e=Hi(e),Mi(e,t,n)}function Gi(e){return null===Ni?(Ni=[e],Ui=Mi(Ai,Yi)):Ni.push(e),Ri}function qi(){if(null!==Ui){var e=Ui;Ui=null,Si(e)}Yi()}function Yi(){if(!zi&&null!==Ni){zi=!0;var e=0;try{var t=Ni;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(e+1)),Mi(Ai,qi),n}finally{zi=!1}}}var Xi=3;function Zi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var $i={current:null},Qi=null,eo=null,to=null;function no(){to=eo=Qi=null}function ro(e,t){var n=e.type._context;li($i,n._currentValue),n._currentValue=t}function io(e){var t=$i.current;ui($i),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ao(e,t){Qi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ja=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qi)throw Error(a(308));eo=t,Qi.dependencies={expirationTime:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var co=!1;function uo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function lo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fo(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ho(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function po(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=uo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=uo(e.memoizedState),i=n.updateQueue=uo(n.memoizedState)):r=e.updateQueue=lo(i):null===i&&(i=n.updateQueue=lo(r));null===i||r===i?ho(r,t):null===r.lastUpdate||null===i.lastUpdate?(ho(r,t),ho(i,t)):(ho(r,t),i.lastUpdate=t)}function mo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=uo(e.memoizedState):go(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function go(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=lo(t)),t}function _o(e,t,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:co=!0}return r}function vo(e,t,n,r,i){co=!1;for(var o=(t=go(e,t)).baseState,a=null,s=0,c=t.firstUpdate,u=o;null!==c;){var l=c.expirationTime;l<i?(null===a&&(a=c,o=u),s<l&&(s=l)):(fc(l,c.suspenseConfig),u=_o(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(l=null,c=t.firstCapturedUpdate;null!==c;){var f=c.expirationTime;f<i?(null===l&&(l=c,null===a&&(o=u)),s<f&&(s=f)):(u=_o(e,0,c,u,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,hc(s),e.expirationTime=s,e.memoizedState=u}function yo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),bo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,bo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function bo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw Error(a(191,n));n.call(r)}e=e.nextEffect}}var wo=D.ReactCurrentBatchConfig,xo=(new r.Component).refs;function Eo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=$s(),i=wo.suspense;(i=fo(r=Qs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),po(e,i),ec(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=$s(),i=wo.suspense;(i=fo(r=Qs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),po(e,i),ec(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=$s(),r=wo.suspense;(r=fo(n=Qs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),po(e,r),ec(e,n)}};function So(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$r(n,r)||!$r(i,o))}function To(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=gi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Co(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xo;var o=t.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=gi(t)?pi:hi.current,i.context=mi(e,o)),null!==(o=e.updateQueue)&&(vo(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(Eo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(vo(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Oo=Array.isArray;function Ao(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===xo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Po(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Lo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ao(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ao(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case B:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ao(e,null,t),n.return=e,n;case N:return(t=Bc(t,e.mode,n)).return=e,t}if(Oo(t)||Z(t))return(t=Ic(t,e.mode,n,null)).return=e,t;Po(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case B:return n.key===i?n.type===U?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case N:return n.key===i?l(e,t,n,r):null}if(Oo(n)||Z(n))return null!==i?null:f(e,t,n,r,null);Po(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case B:return e=e.get(null===r.key?n:r.key)||null,r.type===U?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case N:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Oo(r)||Z(r))return f(t,e=e.get(n)||null,r,i,null);Po(t,r)}return null}function m(i,a,s,c){for(var u=null,l=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var _=d(i,f,s[m],c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(i,f),a=o(_,a,m),null===l?u=_:l.sibling=_,l=_,f=g}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],c))&&(a=o(f,a,m),null===l?u=f:l.sibling=f,l=f);return u}for(f=r(i,f);m<s.length;m++)null!==(g=p(f,i,m,s[m],c))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?u=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),u}function g(i,s,c,u){var l=Z(c);if("function"!==typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var f=l=null,m=s,g=s=0,_=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(_=m,m=null):_=m.sibling;var y=d(i,m,v.value,u);if(null===y){null===m&&(m=_);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y,m=_}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(i,v.value,u))&&(s=o(v,s,g),null===f?l=v:f.sibling=v,f=v);return l}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===f?l=v:f.sibling=v,f=v);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"===typeof o&&null!==o&&o.type===U&&null===o.key;u&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case B:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){if(7===u.tag?o.type===U:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===U?o.props.children:o.props)).ref=Ao(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===U?((r=Ic(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Dc(o.type,o.key,o.props,null,e.mode,c)).ref=Ao(e,r,o),c.return=e,e=c)}return s(e);case N:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Bc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Rc(o,e.mode,c)).return=e,e=r),s(e);if(Oo(o))return m(e,r,o,c);if(Z(o))return g(e,r,o,c);if(l&&Po(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Do=Lo(!0),Io=Lo(!1),Ro={},Bo={current:Ro},No={current:Ro},Uo={current:Ro};function zo(e){if(e===Ro)throw Error(a(174));return e}function Fo(e,t){li(Uo,t),li(No,e),li(Bo,Ro);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:je(null,"");break;default:t=je(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}ui(Bo),li(Bo,t)}function jo(e){ui(Bo),ui(No),ui(Uo)}function Wo(e){zo(Uo.current);var t=zo(Bo.current),n=je(t,e.type);t!==n&&(li(No,e),li(Bo,n))}function Ho(e){No.current===e&&(ui(Bo),ui(No))}var Vo={current:0};function Ko(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Go(e,t){return{responder:e,props:t}}var qo=D.ReactCurrentDispatcher,Yo=D.ReactCurrentBatchConfig,Xo=0,Zo=null,Jo=null,$o=null,Qo=null,ea=null,ta=null,na=0,ra=null,ia=0,oa=!1,aa=null,sa=0;function ca(){throw Error(a(321))}function ua(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zr(e[n],t[n]))return!1;return!0}function la(e,t,n,r,i,o){if(Xo=o,Zo=t,$o=null!==e?e.memoizedState:null,qo.current=null===$o?Oa:Aa,t=n(r,i),oa){do{oa=!1,sa+=1,$o=null!==e?e.memoizedState:null,ta=Qo,ra=ea=Jo=null,qo.current=Aa,t=n(r,i)}while(oa);aa=null,sa=0}if(qo.current=Ca,(e=Zo).memoizedState=Qo,e.expirationTime=na,e.updateQueue=ra,e.effectTag|=ia,e=null!==Jo&&null!==Jo.next,Xo=0,ta=ea=Qo=$o=Jo=Zo=null,na=0,ra=null,ia=0,e)throw Error(a(300));return t}function fa(){qo.current=Ca,Xo=0,ta=ea=Qo=$o=Jo=Zo=null,na=0,ra=null,ia=0,oa=!1,aa=null,sa=0}function ha(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?Qo=ea=e:ea=ea.next=e,ea}function da(){if(null!==ta)ta=(ea=ta).next,$o=null!==(Jo=$o)?Jo.next:null;else{if(null===$o)throw Error(a(310));var e={memoizedState:(Jo=$o).memoizedState,baseState:Jo.baseState,queue:Jo.queue,baseUpdate:Jo.baseUpdate,next:null};ea=null===ea?Qo=e:ea.next=e,$o=Jo.next}return ea}function pa(e,t){return"function"===typeof t?t(e):t}function ma(e){var t=da(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<sa){var r=n.dispatch;if(null!==aa){var i=aa.get(n);if(void 0!==i){aa.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Zr(o,t.memoizedState)||(ja=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var c=i=null,u=r,l=!1;do{var f=u.expirationTime;f<Xo?(l||(l=!0,c=s,i=o),f>na&&hc(na=f)):(fc(f,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),s=u,u=u.next}while(null!==u&&u!==r);l||(c=s,i=o),Zr(o,t.memoizedState)||(ja=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function ga(e){var t=ha();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e}).dispatch=ka.bind(null,Zo,e),[t.memoizedState,e]}function _a(e){return ma(pa)}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ra?(ra={lastEffect:null}).lastEffect=e.next=e:null===(t=ra.lastEffect)?ra.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ra.lastEffect=e),e}function ya(e,t,n,r){var i=ha();ia|=e,i.memoizedState=va(t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=da();r=void 0===r?null:r;var o=void 0;if(null!==Jo){var a=Jo.memoizedState;if(o=a.destroy,null!==r&&ua(r,a.deps))return void va(0,n,o,r)}ia|=e,i.memoizedState=va(t,n,o,r)}function wa(e,t){return ya(516,192,e,t)}function xa(e,t){return ba(516,192,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ma(){}function Sa(e,t){return ha().memoizedState=[e,void 0===t?null:t],e}function Ta(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t,n){if(!(25>sa))throw Error(a(301));var r=e.alternate;if(e===Zo||null!==r&&r===Zo)if(oa=!0,e={expirationTime:Xo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(n=aa.get(t)))aa.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=$s(),o=wo.suspense;o={expirationTime:i=Qs(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,l=r(u,n);if(o.eagerReducer=r,o.eagerState=l,Zr(l,u))return}catch(f){}ec(e,i)}}var Ca={readContext:so,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useResponder:ca,useDeferredValue:ca,useTransition:ca},Oa={readContext:so,useCallback:Sa,useContext:so,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,36,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,36,e,t)},useMemo:function(e,t){var n=ha();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ha();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ka.bind(null,Zo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ha().memoizedState=e},useState:ga,useDebugValue:Ma,useResponder:Go,useDeferredValue:function(e,t){var n=ga(e),r=n[0],i=n[1];return wa((function(){o.unstable_next((function(){var n=Yo.suspense;Yo.suspense=void 0===t?null:t;try{i(e)}finally{Yo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=ga(!1),n=t[0],r=t[1];return[Sa((function(t){r(!0),o.unstable_next((function(){var n=Yo.suspense;Yo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Yo.suspense=n}}))}),[e,n]),n]}},Aa={readContext:so,useCallback:Ta,useContext:so,useEffect:xa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,36,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,36,e,t)},useMemo:function(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ma,useRef:function(){return da().memoizedState},useState:_a,useDebugValue:Ma,useResponder:Go,useDeferredValue:function(e,t){var n=_a(),r=n[0],i=n[1];return xa((function(){o.unstable_next((function(){var n=Yo.suspense;Yo.suspense=void 0===t?null:t;try{i(e)}finally{Yo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=_a(),n=t[0],r=t[1];return[Ta((function(t){r(!0),o.unstable_next((function(){var n=Yo.suspense;Yo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Yo.suspense=n}}))}),[e,n]),n]}},Pa=null,La=null,Da=!1;function Ia(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ba(e){if(Da){var t=La;if(t){var n=t;if(!Ra(e,t)){if(!(t=nr(n.nextSibling))||!Ra(e,t))return e.effectTag=-1025&e.effectTag|2,Da=!1,void(Pa=e);Ia(Pa,n)}Pa=e,La=nr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Da=!1,Pa=e}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Pa=e}function Ua(e){if(e!==Pa)return!1;if(!Da)return Na(e),Da=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Qn(t,e.memoizedProps))for(t=La;t;)Ia(e,t),t=nr(t.nextSibling);if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){La=nr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}La=null}}else La=Pa?nr(e.stateNode.nextSibling):null;return!0}function za(){La=Pa=null,Da=!1}var Fa=D.ReactCurrentOwner,ja=!1;function Wa(e,t,n,r){t.child=null===e?Io(t,null,n,r):Do(t,e.child,n,r)}function Ha(e,t,n,r,i){n=n.render;var o=t.ref;return ao(t,i),r=la(e,t,n,r,o,i),null===e||ja?(t.effectTag|=1,Wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),os(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ka(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:$r)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.effectTag|=1,(e=Lc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ka(e,t,n,r,i,o){return null!==e&&$r(e.memoizedProps,r)&&e.ref===t.ref&&(ja=!1,i<o)?os(e,t,o):qa(e,t,n,r,o)}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function qa(e,t,n,r,i){var o=gi(n)?pi:hi.current;return o=mi(t,o),ao(t,i),n=la(e,t,n,r,o,i),null===e||ja?(t.effectTag|=1,Wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),os(e,t,i))}function Ya(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),To(t,n,r),Co(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=so(u):u=mi(t,u=gi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&ko(t,a,r,u),co=!1;var h=t.memoizedState;c=a.state=h;var d=t.updateQueue;null!==d&&(vo(t,d,r,a,i),c=t.memoizedState),s!==r||h!==c||di.current||co?("function"===typeof l&&(Eo(t,n,l,r),c=t.memoizedState),(s=co||So(t,n,s,r,h,c,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Ji(t.type,s),c=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=so(u):u=mi(t,u=gi(n)?pi:hi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==u)&&ko(t,a,r,u),co=!1,c=t.memoizedState,h=a.state=c,null!==(d=t.updateQueue)&&(vo(t,d,r,a,i),h=t.memoizedState),s!==r||c!==h||di.current||co?("function"===typeof l&&(Eo(t,n,l,r),h=t.memoizedState),(l=co||So(t,n,s,r,c,h,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Xa(e,t,n,r,o,i)}function Xa(e,t,n,r,i,o){Ga(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&xi(t,n,!1),os(e,t,o);r=t.stateNode,Fa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Do(t,e.child,null,o),t.child=Do(t,null,s,o)):Wa(e,t,s,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Za(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Fo(e,t.containerInfo)}var Ja,$a,Qa,es={dehydrated:null,retryTime:0};function ts(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Vo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Vo,1&a),null===e){if(void 0!==o.fallback&&Ba(t),s){if(s=o.fallback,(o=Ic(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Ic(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=es,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Lc(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Lc(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=es,t.child=n,i}return n=Do(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Ic(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Ic(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=es,t.child=o,n}return t.memoizedState=null,t.child=Do(t,e,o.children,n)}function ns(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oo(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Wa(e,t,r.children,n),0!==(2&(r=Vo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Vo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ko(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ko(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&hc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function as(e){e.effectTag|=4}function ss(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function cs(e){switch(e.tag){case 1:gi(e.type)&&_i();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(jo(),vi(),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ho(e),null;case 13:return ui(Vo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Vo),null;case 4:return jo(),null;case 10:return io(e),null;default:return null}}function us(e,t){return{value:e,source:t,stack:$(t)}}Ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,c,u=t.stateNode;switch(zo(Bo.current),e=null,n){case"input":a=Te(u,a),r=Te(u,r),e=[];break;case"option":a=Le(u,a),r=Le(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ie(u,a),r=Ie(u,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(u.onclick=Vn)}for(s in jn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in u=a[s])u.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==u&&(null!=l||null!=u))if("style"===s)if(u){for(c in u)!u.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in l)l.hasOwnProperty(c)&&u[c]!==l[c]&&(n||(n={}),n[c]=l[c])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(e=e||[]).push(s,""+l)):"children"===s?u===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=l&&Hn(o,s),e||u===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&as(t)}},Qa=function(e,t,n,r){n!==r&&as(t)};var ls="function"===typeof WeakSet?WeakSet:Set;function fs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=$(n)),null!==n&&J(n.type),t=t.value,null!==e&&1===e.tag&&J(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function hs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Mc(e,n)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:ps(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function ps(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ms(e,t,n){switch("function"===typeof Cc&&Cc(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Vi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Mc(i,o)}}e=e.next}while(e!==r)}))}break;case 1:hs(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Mc(e,n)}}(t,n);break;case 5:hs(t);break;case 4:ys(e,t,n)}}function gs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&gs(t)}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function vs(e){e:{for(var t=e.return;null!==t;){if(_s(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var c=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(c,s):o.insertBefore(c,s)}else t.insertBefore(s,n);else r?(8===(c=t).nodeType?(o=c.parentNode).insertBefore(s,c):(o=c).appendChild(s),null!==(c=c._reactRootContainer)&&void 0!==c||null!==o.onclick||(o.onclick=Vn)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ys(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var c=e,u=o,l=n,f=u;;)if(ms(c,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(c=r,u=o.stateNode,8===c.nodeType?c.parentNode.removeChild(u):c.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ms(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function bs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ps(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ar]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ce(n,r),Wn(e,i),t=Wn(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?zn(n,c):"dangerouslySetInnerHTML"===s?He(n,c):"children"===s?Ve(n,c):xe(n,s,c,t)}switch(e){case"input":Oe(n,r);break;case"textarea":Be(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?De(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?De(n,!!r.multiple,r.defaultValue,!0):De(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Tt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Fs=ji()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Un("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ws(t);break;case 19:ws(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ls),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var xs="function"===typeof WeakMap?WeakMap:Map;function Es(e,t,n){(n=fo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),fs(e,t)},n}function Ms(e,t,n){(n=fo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return fs(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this),fs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ss,Ts=Math.ceil,ks=D.ReactCurrentDispatcher,Cs=D.ReactCurrentOwner,Os=0,As=null,Ps=null,Ls=0,Ds=0,Is=null,Rs=1073741823,Bs=1073741823,Ns=null,Us=0,zs=!1,Fs=0,js=null,Ws=!1,Hs=null,Vs=null,Ks=!1,Gs=null,qs=90,Ys=null,Xs=0,Zs=null,Js=0;function $s(){return 0!==(48&Os)?1073741821-(ji()/10|0):0!==Js?Js:Js=1073741821-(ji()/10|0)}function Qs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Wi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Os))return Ls;if(null!==n)e=Zi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Zi(e,150,100);break;case 97:case 96:e=Zi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==As&&e===Ls&&--e,e}function ec(e,t){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));if(null!==(e=tc(e,t))){var n=Wi();1073741823===t?0!==(8&Os)&&0===(48&Os)?oc(e):(rc(e),0===Os&&qi()):rc(e),0===(4&Os)||98!==n&&99!==n||(null===Ys?Ys=new Map([[e,t]]):(void 0===(n=Ys.get(e))||n>t)&&Ys.set(e,t))}}function tc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(As===i&&(hc(t),4===Ds&&zc(i,Ls)),Fc(i,t)),i}function nc(e){var t=e.lastExpiredTime;return 0!==t?t:Uc(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function rc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Gi(oc.bind(null,e));else{var t=nc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=$s();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Ri&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Gi(oc.bind(null,e)):Ki(r,ic.bind(null,e),{timeout:10*(1073741821-t)-ji()}),e.callbackNode=t}}}function ic(e,t){if(Js=0,t)return jc(e,t=$s()),rc(e),null;var n=nc(e);if(0!==n){if(t=e.callbackNode,0!==(48&Os))throw Error(a(327));if(wc(),e===As&&n===Ls||cc(e,n),null!==Ps){var r=Os;Os|=16;for(var i=lc();;)try{pc();break}catch(c){uc(e,c)}if(no(),Os=r,ks.current=i,1===Ds)throw t=Is,cc(e,n),zc(e,n),rc(e),t;if(null===Ps)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ds,As=null,r){case 0:case 1:throw Error(a(345));case 2:jc(e,2<n?2:n);break;case 3:if(zc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=_c(i)),1073741823===Rs&&10<(i=Fs+500-ji())){if(zs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,cc(e,n);break}}if(0!==(o=nc(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=er(vc.bind(null,e),i);break}vc(e);break;case 4:if(zc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=_c(i)),zs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,cc(e,n);break}if(0!==(i=nc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Bs?r=10*(1073741821-Bs)-ji():1073741823===Rs?r=0:(r=10*(1073741821-Rs)-5e3,0>(r=(i=ji())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ts(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=er(vc.bind(null,e),r);break}vc(e);break;case 5:if(1073741823!==Rs&&null!==Ns){o=Rs;var s=Ns;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=ji()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){zc(e,n),e.timeoutHandle=er(vc.bind(null,e),r);break}}vc(e);break;default:throw Error(a(329))}if(rc(e),e.callbackNode===t)return ic.bind(null,e)}}return null}function oc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)vc(e);else{if(0!==(48&Os))throw Error(a(327));if(wc(),e===As&&t===Ls||cc(e,t),null!==Ps){var n=Os;Os|=16;for(var r=lc();;)try{dc();break}catch(i){uc(e,i)}if(no(),Os=n,ks.current=r,1===Ds)throw n=Is,cc(e,t),zc(e,t),rc(e),n;if(null!==Ps)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,As=null,vc(e),rc(e)}}return null}function ac(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&qi()}}function sc(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&qi()}}function cc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,tr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&_i();break;case 3:jo(),vi();break;case 5:Ho(r);break;case 4:jo();break;case 13:case 19:ui(Vo);break;case 10:io(r)}n=n.return}As=e,Ps=Lc(e.current,null),Ls=t,Ds=0,Is=null,Bs=Rs=1073741823,Ns=null,Us=0,zs=!1}function uc(e,t){for(;;){try{if(no(),fa(),null===Ps||null===Ps.return)return Ds=1,Is=t,null;e:{var n=e,r=Ps.return,i=Ps,o=t;if(t=Ls,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var a=o,s=0!==(1&Vo.current),c=r;do{var u;if(u=13===c.tag){var l=c.memoizedState;if(null!==l)u=null!==l.dehydrated;else{var f=c.memoizedProps;u=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!s)}}if(u){var h=c.updateQueue;if(null===h){var d=new Set;d.add(a),c.updateQueue=d}else h.add(a);if(0===(2&c.mode)){if(c.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var p=fo(1073741823,null);p.tag=2,po(i,p)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new xs,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(i)){o.add(i);var g=Sc.bind(null,n,a,i);a.then(g,g)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);o=Error((J(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+$(i))}5!==Ds&&(Ds=2),o=us(o,i),c=r;do{switch(c.tag){case 3:a=o,c.effectTag|=4096,c.expirationTime=t,mo(c,Es(c,a,t));break e;case 1:a=o;var _=c.type,v=c.stateNode;if(0===(64&c.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Vs||!Vs.has(v)))){c.effectTag|=4096,c.expirationTime=t,mo(c,Ms(c,a,t));break e}}c=c.return}while(null!==c)}Ps=gc(Ps)}catch(y){t=y;continue}break}}function lc(){var e=ks.current;return ks.current=Ca,null===e?Ca:e}function fc(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<Bs&&2<e&&(Bs=e,Ns=t)}function hc(e){e>Us&&(Us=e)}function dc(){for(;null!==Ps;)Ps=mc(Ps)}function pc(){for(;null!==Ps&&!Ti();)Ps=mc(Ps)}function mc(e){var t=Ss(e.alternate,e,Ls);return e.memoizedProps=e.pendingProps,null===t&&(t=gc(e)),Cs.current=null,t}function gc(e){Ps=e;do{var t=Ps.alternate;if(e=Ps.return,0===(2048&Ps.effectTag)){e:{var n=t,r=Ls,o=(t=Ps).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:gi(t.type)&&_i();break;case 3:jo(),vi(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Ua(t)&&as(t);break;case 5:Ho(t),r=zo(Uo.current);var s=t.type;if(null!==n&&null!=t.stateNode)$a(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var c=zo(Bo.current);if(Ua(t)){var u=(o=t).stateNode;n=o.type;var l=o.memoizedProps,f=r;switch(u[or]=o,u[ar]=l,s=void 0,r=u,n){case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(u=0;u<et.length;u++)Sn(et[u],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"form":Sn("reset",r),Sn("submit",r);break;case"details":Sn("toggle",r);break;case"input":ke(r,l),Sn("invalid",r),Hn(f,"onChange");break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Sn("invalid",r),Hn(f,"onChange");break;case"textarea":Re(r,l),Sn("invalid",r),Hn(f,"onChange")}for(s in jn(n,l),u=null,l)l.hasOwnProperty(s)&&(c=l[s],"children"===s?"string"===typeof c?r.textContent!==c&&(u=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(u=["children",""+c]):d.hasOwnProperty(s)&&null!=c&&Hn(f,s));switch(n){case"input":Me(r),Ae(r,l,!0);break;case"textarea":Me(r),Ne(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Vn)}s=u,o.updateQueue=s,(o=null!==s)&&as(t)}else{n=t,f=s,l=o,u=9===r.nodeType?r:r.ownerDocument,c===Ue&&(c=Fe(f)),c===Ue?"script"===f?((l=u.createElement("div")).innerHTML="<script><\/script>",u=l.removeChild(l.firstChild)):"string"===typeof l.is?u=u.createElement(f,{is:l.is}):(u=u.createElement(f),"select"===f&&(f=u,l.multiple?f.multiple=!0:l.size&&(f.size=l.size))):u=u.createElementNS(c,f),(l=u)[or]=n,l[ar]=o,Ja(l,t),t.stateNode=l;var h=r,p=Wn(f=s,n=o);switch(f){case"iframe":case"object":case"embed":Sn("load",l),r=n;break;case"video":case"audio":for(r=0;r<et.length;r++)Sn(et[r],l);r=n;break;case"source":Sn("error",l),r=n;break;case"img":case"image":case"link":Sn("error",l),Sn("load",l),r=n;break;case"form":Sn("reset",l),Sn("submit",l),r=n;break;case"details":Sn("toggle",l),r=n;break;case"input":ke(l,n),r=Te(l,n),Sn("invalid",l),Hn(h,"onChange");break;case"option":r=Le(l,n);break;case"select":l._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),Sn("invalid",l),Hn(h,"onChange");break;case"textarea":Re(l,n),r=Ie(l,n),Sn("invalid",l),Hn(h,"onChange");break;default:r=n}jn(f,r),u=void 0,c=f;var m=l,g=r;for(u in g)if(g.hasOwnProperty(u)){var _=g[u];"style"===u?zn(m,_):"dangerouslySetInnerHTML"===u?null!=(_=_?_.__html:void 0)&&He(m,_):"children"===u?"string"===typeof _?("textarea"!==c||""!==_)&&Ve(m,_):"number"===typeof _&&Ve(m,""+_):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=_&&Hn(h,u):null!=_&&xe(m,u,_,p))}switch(f){case"input":Me(l),Ae(l,n,!1);break;case"textarea":Me(l),Ne(l);break;case"option":null!=n.value&&l.setAttribute("value",""+we(n.value));break;case"select":(r=l).multiple=!!n.multiple,null!=(l=n.value)?De(r,!!n.multiple,l,!1):null!=n.defaultValue&&De(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(l.onclick=Vn)}(o=$n(s,o))&&as(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)Qa(0,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw Error(a(166));r=zo(Uo.current),zo(Bo.current),Ua(t)?(s=(o=t).stateNode,r=o.memoizedProps,s[or]=o,(o=s.nodeValue!==r)&&as(t)):(s=t,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[or]=s,t.stateNode=o)}break;case 11:break;case 13:if(ui(Vo),o=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=r;break e}o=null!==o,s=!1,null===n?void 0!==t.memoizedProps.fallback&&Ua(t):(s=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=r,r.nextEffect=l):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!s&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Vo.current)?0===Ds&&(Ds=3):(0!==Ds&&3!==Ds||(Ds=4),0!==Us&&null!==As&&(zc(As,Ls),Fc(As,Us)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:jo();break;case 10:io(t);break;case 9:case 14:break;case 17:gi(t.type)&&_i();break;case 19:if(ui(Vo),null===(o=t.memoizedState))break;if(s=0!==(64&t.effectTag),null===(l=o.rendering)){if(s)ss(o,!1);else if(0!==Ds||null!==n&&0!==(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=Ko(n))){for(t.effectTag|=64,ss(o,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=r,s=t.child;null!==s;)n=o,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(l=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=l.childExpirationTime,r.expirationTime=l.expirationTime,r.child=l.child,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,n=l.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;li(Vo,1&Vo.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Ko(l))){if(t.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ss(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else ji()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,ss(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=ji()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=Vo.current,li(Vo,o=s?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=Ps,1===Ls||1!==o.childExpirationTime){for(s=0,r=o.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(l=r.childExpirationTime)>s&&(s=l),r=r.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ps.firstEffect),null!==Ps.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ps.firstEffect),e.lastEffect=Ps.lastEffect),1<Ps.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ps:e.firstEffect=Ps,e.lastEffect=Ps))}else{if(null!==(t=cs(Ps)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ps.sibling))return t;Ps=e}while(null!==Ps);return 0===Ds&&(Ds=5),null}function _c(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function vc(e){var t=Wi();return Vi(99,yc.bind(null,e,t)),null}function yc(e,t){do{wc()}while(null!==Gs);if(0!==(48&Os))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=_c(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===As&&(Ps=As=null,Ls=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Os;Os|=32,Cs.current=null,Zn=Mn;var s=Yn();if(Xn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var l=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{c.nodeType,f.nodeType}catch(R){c=null;break e}var h=0,d=-1,p=-1,m=0,g=0,_=s,v=null;t:for(;;){for(var y;_!==c||0!==l&&3!==_.nodeType||(d=h+l),_!==f||0!==u&&3!==_.nodeType||(p=h+u),3===_.nodeType&&(h+=_.nodeValue.length),null!==(y=_.firstChild);)v=_,_=y;for(;;){if(_===s)break t;if(v===c&&++m===l&&(d=h),v===f&&++g===u&&(p=h),null!==(y=_.nextSibling))break;v=(_=v).parentNode}_=y}c=-1===d||-1===p?null:{start:d,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;Jn={focusedElem:s,selectionRange:c},Mn=!1,js=i;do{try{bc()}catch(R){if(null===js)throw Error(a(330));Mc(js,R),js=js.nextEffect}}while(null!==js);js=i;do{try{for(s=e,c=t;null!==js;){var b=js.effectTag;if(16&b&&Ve(js.stateNode,""),128&b){var w=js.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:vs(js),js.effectTag&=-3;break;case 6:vs(js),js.effectTag&=-3,bs(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,bs(js.alternate,js);break;case 4:bs(js.alternate,js);break;case 8:ys(s,l=js,c),gs(l)}js=js.nextEffect}}catch(R){if(null===js)throw Error(a(330));Mc(js,R),js=js.nextEffect}}while(null!==js);if(x=Jn,w=Yn(),b=x.focusedElem,c=x.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==c&&Xn(b)&&(w=c.start,void 0===(x=c.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,s=Math.min(c.start,l),c=void 0===c.end?s:Math.min(c.end,l),!x.extend&&s>c&&(l=c,c=s,s=l),l=qn(b,s),f=qn(b,c),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>c?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Jn=null,Mn=!!Zn,Zn=null,e.current=n,js=i;do{try{for(b=r;null!==js;){var E=js.effectTag;if(36&E){var M=js.alternate;switch(x=b,(w=js).tag){case 0:case 11:case 15:ps(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===M)S.componentDidMount();else{var T=w.elementType===w.type?M.memoizedProps:Ji(w.type,M.memoizedProps);S.componentDidUpdate(T,M.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var k=w.updateQueue;null!==k&&yo(0,k,S);break;case 3:var C=w.updateQueue;if(null!==C){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}yo(0,C,s)}break;case 5:var O=w.stateNode;null===M&&4&w.effectTag&&$n(w.type,w.memoizedProps)&&O.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var A=w.alternate;if(null!==A){var P=A.memoizedState;if(null!==P){var L=P.dehydrated;null!==L&&Tt(L)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&E){w=void 0;var D=js.ref;if(null!==D){var I=js.stateNode;switch(js.tag){case 5:w=I;break;default:w=I}"function"===typeof D?D(w):D.current=w}}js=js.nextEffect}}catch(R){if(null===js)throw Error(a(330));Mc(js,R),js=js.nextEffect}}while(null!==js);js=null,Bi(),Os=o}else e.current=n;if(Ks)Ks=!1,Gs=e,qs=t;else for(js=i;null!==js;)t=js.nextEffect,js.nextEffect=null,js=t;if(0===(t=e.firstPendingTime)&&(Vs=null),1073741823===t?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,"function"===typeof kc&&kc(n.stateNode,r),rc(e),Ws)throw Ws=!1,e=Hs,Hs=null,e;return 0!==(8&Os)?null:(qi(),null)}function bc(){for(;null!==js;){var e=js.effectTag;0!==(256&e)&&ds(js.alternate,js),0===(512&e)||Ks||(Ks=!0,Ki(97,(function(){return wc(),null}))),js=js.nextEffect}}function wc(){if(90!==qs){var e=97<qs?97:qs;return qs=90,Vi(e,xc)}}function xc(){if(null===Gs)return!1;var e=Gs;if(Gs=null,0!==(48&Os))throw Error(a(331));var t=Os;for(Os|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ps(128,0,n),ps(0,64,n)}}catch(r){if(null===e)throw Error(a(330));Mc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Os=t,qi(),!0}function Ec(e,t,n){po(e,t=Es(e,t=us(n,t),1073741823)),null!==(e=tc(e,1073741823))&&rc(e)}function Mc(e,t){if(3===e.tag)Ec(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ec(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vs||!Vs.has(r))){po(n,e=Ms(n,e=us(t,e),1073741823)),null!==(n=tc(n,1073741823))&&rc(n);break}}n=n.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),As===e&&Ls===n?4===Ds||3===Ds&&1073741823===Rs&&ji()-Fs<500?cc(e,Ls):zs=!0:Uc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),rc(e)))}function Tc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Qs(t=$s(),e,null)),null!==(e=tc(e,t))&&rc(e)}Ss=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)ja=!0;else{if(r<n){switch(ja=!1,t.tag){case 3:Za(t),za();break;case 5:if(Wo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&wi(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:ro(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ts(e,t,n):(li(Vo,1&Vo.current),null!==(t=os(e,t,n))?t.sibling:null);li(Vo,1&Vo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return is(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Vo,Vo.current),!r)return null}return os(e,t,n)}ja=!1}}else ja=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=mi(t,hi.current),ao(t,n),i=la(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,fa(),gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&Eo(t,r,s,e),i.updater=Mo,t.stateNode=i,i._reactInternalFiber=t,Co(t,r,e,n),t=Xa(null,t,r,!0,o,n)}else t.tag=0,Wa(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===V)return 11;if(e===q)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=qa(null,t,i,e,n);break;case 1:t=Ya(null,t,i,e,n);break;case 11:t=Ha(null,t,i,e,n);break;case 14:t=Va(null,t,i,Ji(i.type,e),r,n);break;default:throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ya(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Za(t),null===(r=t.updateQueue))throw Error(a(282));if(i=null!==(i=t.memoizedState)?i.element:null,vo(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)za(),t=os(e,t,n);else{if((i=t.stateNode.hydrate)&&(La=nr(t.stateNode.containerInfo.firstChild),Pa=t,i=Da=!0),i)for(n=Io(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Wa(e,t,r,n),za();t=t.child}return t;case 5:return Wo(t),null===e&&Ba(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Qn(r,i)?s=null:null!==o&&Qn(r,o)&&(t.effectTag|=16),Ga(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Wa(e,t,s,n),t=t.child),t;case 6:return null===e&&Ba(t),null;case 13:return ts(e,t,n);case 4:return Fo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Do(t,null,r,n):Wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,ro(t,o=i.value),null!==s){var c=s.value;if(0===(o=Zr(c,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===c.tag&&((l=fo(n,null)).tag=2,po(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),oo(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}Wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,ao(t,n),r=r(i=so(i,o.unstable_observedBits)),t.effectTag|=1,Wa(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Va(e,t,i,o=Ji(i.type,o),r,n);case 15:return Ka(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,ao(t,n),To(t,r,i),Co(t,r,i,n),Xa(null,t,r,!0,e,n);case 19:return is(e,t,n)}throw Error(a(156,t.tag))};var kc=null,Cc=null;function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ac(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Pc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case U:return Ic(n.children,i,o,t);case H:s=8,i|=7;break;case z:s=8,i|=1;break;case F:return(e=Ac(12,n,t,8|i)).elementType=F,e.type=F,e.expirationTime=o,e;case K:return(e=Ac(13,n,t,i)).type=K,e.elementType=K,e.expirationTime=o,e;case G:return(e=Ac(19,n,t,i)).elementType=G,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case W:s=9;break e;case V:s=11;break e;case q:s=14;break e;case Y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).expirationTime=n,e}function Rc(e,t,n){return(e=Ac(6,e,null,t)).expirationTime=n,e}function Bc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Uc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function zc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Fc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function jc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Wc(e,t,n,r){var i=t.current,o=$s(),s=wo.suspense;o=Qs(o,i,s);e:if(n){t:{if(tt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=bi(n,u,c);break e}}n=c}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(i,t),ec(i,o),o}function Hc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Vc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Kc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function Gc(e,t,n){var r=new Nc(e,t,n=null!=n&&!0===n.hydrate),i=Ac(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,e[sr]=r.current,n&&0!==t&&function(e){var t=In(e);gt.forEach((function(n){Rn(n,e,t)})),_t.forEach((function(n){Rn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}Wc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Gc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var c=i;i=function(){var e=Hc(a);c.call(e)}}sc((function(){Wc(t,a,e,i)}))}return Hc(a)}function Xc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(a(200));return Xc(e,t,null,n)}Gc.prototype.render=function(e,t){Wc(e,this._internalRoot,null,void 0===t?null:t)},Gc.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;Wc(null,t,null,(function(){r[sr]=null,null!==n&&n()}))},ot=function(e){if(13===e.tag){var t=Zi($s(),150,100);ec(e,t),Kc(e,t)}},at=function(e){if(13===e.tag){$s();var t=Xi++;ec(e,t),Kc(e,t)}},st=function(e){if(13===e.tag){var t=$s();ec(e,t=Qs(t,e,null)),Kc(e,t)}},ee=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=fr(r);if(!i)throw Error(a(90));Se(r),Oe(r,i)}}}break;case"textarea":Be(e,n);break;case"select":null!=(t=n.value)&&De(e,!!n.multiple,t,!1)}},ae=ac,se=function(e,t,n,r){var i=Os;Os|=4;try{return Vi(98,e.bind(null,t,n,r))}finally{0===(Os=i)&&qi()}},ce=function(){0===(49&Os)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e,t){jc(t,e),rc(t)})),qi()}}(),wc())},ue=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&qi()}};var Jc={createPortal:Zc,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=it(t))?null:e.stateNode},hydrate:function(e,t,n){if(!qc(t))throw Error(a(200));return Yc(null,e,t,!0,n)},render:function(e,t,n){if(!qc(t))throw Error(a(200));return Yc(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Yc(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!qc(e))throw Error(a(40));return!!e._reactRootContainer&&(sc((function(){Yc(null,null,e,!1,(function(){e._reactRootContainer=null,e[sr]=null}))})),!0)},unstable_createPortal:function(){return Zc.apply(void 0,arguments)},unstable_batchedUpdates:ac,flushSync:function(e,t){if(0!==(48&Os))throw Error(a(187));var n=Os;Os|=1;try{return Vi(99,e.bind(null,t))}finally{Os=n,qi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ur,lr,fr,P.injectEventPluginsByName,h,Dt,function(e){k(e,Lt)},ie,oe,An,A,wc,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);kc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Cc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:cr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var $c={default:Jc},Qc=$c&&Jc||$c;e.exports=Qc.default||Qc},function(e,t,n){"use strict";e.exports=n(491)},function(e,t,n){"use strict";var r,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,l=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(l,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var _=d.now();t.unstable_now=function(){return d.now()-_}}var v=!1,y=null,b=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,M=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();x=e+w;try{y(!0,e)?M.postMessage(null):(v=!1,y=null)}catch(n){throw M.postMessage(null),n}}else v=!1},r=function(e){y=e,v||(v=!0,M.postMessage(null))},i=function(e,n){b=p((function(){e(t.unstable_now())}),n)},o=function(){m(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>C(a,n))void 0!==c&&0>C(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>C(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],A=[],P=1,L=null,D=3,I=!1,R=!1,B=!1;function N(e){for(var t=T(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,S(O,t)}t=T(A)}}function U(e){if(B=!1,N(e),!R)if(null!==T(O))R=!0,r(z);else{var t=T(A);null!==t&&i(U,t.startTime-e)}}function z(e,n){R=!1,B&&(B=!1,o()),I=!0;var r=D;try{for(N(n),L=T(O);null!==L&&(!(L.expirationTime>n)||e&&!a());){var s=L.callback;if(null!==s){L.callback=null,D=L.priorityLevel;var c=s(L.expirationTime<=n);n=t.unstable_now(),"function"===typeof c?L.callback=c:L===T(O)&&k(O),N(n)}else k(O);L=T(O)}if(null!==L)var u=!0;else{var l=T(A);null!==l&&i(U,l.startTime-n),u=!1}return u}finally{L=null,D=r,I=!1}}function F(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var j=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var c=a.delay;c="number"===typeof c&&0<c?s+c:s,a="number"===typeof a.timeout?a.timeout:F(e)}else a=F(e),c=s;return e={id:P++,callback:n,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,S(A,e),null===T(O)&&e===T(A)&&(B?o():B=!0,i(U,c-s))):(e.sortIndex=a,S(O,e),R||I||(R=!0,r(z))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=T(O);return n!==L&&null!==L&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<L.expirationTime||a()},t.unstable_requestPaint=j,t.unstable_continueExecution=function(){R||I||(R=!0,r(z))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return T(O)},t.unstable_Profiling=null},,function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(105),a=n(34),s=n(59),c=n(35),u=n(28),l=n(17),f=n(43),h=n(54),d=n(15),p=n(507),m=h("draft_tree_data_support"),g=m?c:s,_=d.List,v=d.Repeat,y={insertAtomicBlock:function(e,t,n){var i=e.getCurrentContent(),s=e.getSelection(),c=u.removeRange(i,s,"backward"),h=c.getSelectionAfter(),d=u.splitBlock(c,h),p=d.getSelectionAfter(),y=u.setBlockType(d,p,"atomic"),b=a.create({entity:t}),w={key:f(),type:"atomic",text:n,characterList:_(v(b,n.length))},x={key:f(),type:"unstyled"};m&&(w=r({},w,{nextSibling:x.key}),x=r({},x,{prevSibling:w.key}));var E=[new g(w),new g(x)],M=o.createFromArray(E),S=u.replaceWithFragment(y,p,M),T=S.merge({selectionBefore:s,selectionAfter:S.getSelectionAfter().set("hasFocus",!0)});return l.push(e,T,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,o=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=p(o,t,s,r)}else{var c=u.removeRange(o,n,"backward"),f=c.getSelectionAfter(),h=c.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())i=p(c,t,h,"before");else if(f.getEndOffset()===h.getLength())i=p(c,t,h,"after");else{var d=u.splitBlock(c,f),m=d.getSelectionAfter(),g=d.getBlockForKey(m.getFocusKey());i=p(d,t,g,"before")}}var _=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return l.push(e,_,"move-block")}};e.exports=y},function(e,t,n){"use strict";var r=n(34),i=n(15).Map,o={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,o){var a=e.getBlockMap(),s=t.getStartKey(),c=t.getStartOffset(),u=t.getEndKey(),l=t.getEndOffset(),f=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===u})).concat(i([[u,a.get(u)]])).map((function(e,t){var i,a;s===u?(i=c,a=l):(i=t===s?c:0,a=t===u?l:e.getLength());for(var f,h=e.getCharacterList();i<a;)f=h.get(i),h=h.set(i,o?r.applyStyle(f,n):r.removeStyle(f,n)),i++;return e.set("characterList",h)}));return e.merge({blockMap:a.merge(f),selectionBefore:t,selectionAfter:t})}e.exports=o},function(e,t,n){"use strict";var r=n(496),i=n(15);e.exports=function(e,t,n){var o=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),c=t.getEndKey(),u=t.getEndOffset(),l=o.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===c})).toOrderedMap().merge(i.OrderedMap([[c,o.get(c)]])).map((function(e,t){var i=t===a?s:0,o=t===c?u:e.getLength();return r(e,i,o,n)}));return e.merge({blockMap:o.merge(l),selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e,t,n,i){for(var o=e.getCharacterList();t<n;)o=o.set(t,r.applyEntity(o.get(t),i)),t++;return e.set("characterList",o)}},function(e,t,n){"use strict";var r=n(498),i=n(499),o=n(16);function a(e,t,n,a,s,c,u){var l=n.getStartOffset(),f=n.getEndOffset(),h=e.__get(s).getMutability(),d=u?l:f;if("MUTABLE"===h)return n;var p=i(t,s).filter((function(e){return d<=e.end&&d>=e.start}));1!=p.length&&o(!1);var m=p[0];if("IMMUTABLE"===h)return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});c||(u?f=m.end:l=m.start);var g=r.getRemovalRange(l,f,t.getText().slice(m.start,m.end),m.start,a);return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1})}e.exports=function(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),c=t.getEntityAt(o),u=n.getEntityAt(s-1);if(!c&&!u)return r;var l=r;if(c&&c===u)l=a(e,t,l,i,c,!0,!0);else if(c&&u){var f=a(e,t,l,i,c,!1,!0),h=a(e,n,l,i,u,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(c){var d=a(e,t,l,i,c,!1,!0);l=l.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(u){var p=a(e,n,l,i,u,!1,!1);l=l.merge({focusOffset:p.getEndOffset(),isBackward:!1})}return l}},function(e,t,n){"use strict";e.exports={getRemovalRange:function(e,t,n,r,i){var o=n.split(" ");o=o.map((function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e}));for(var a,s=r,c=null,u=null,l=0;l<o.length;l++){if(e<(a=s+o[l].length)&&s<t)null!==c?u=a:(c=s,u=a);else if(null!==c)break;s=a}var f=r+n.length,h=c===r,d=u===f;return(!h&&d||h&&!d)&&("forward"===i?u!==f&&u++:c!==r&&c--),{start:c,end:u}}}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},function(e,t,n){"use strict";var r=n(105),i=n(35),o=n(15),a=n(230),s=n(16),c=n(228),u=o.List,l=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),u=c.getText(),l=c.getCharacterList(),f=i,h=o+r.getText().length,d=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":d=r.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":d=r.getData()}var p=c.merge({text:u.slice(0,o)+r.getText()+u.slice(o),characterList:a(l,r.getCharacterList(),o),data:d});return e.merge({blockMap:n.set(i,p),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:h,focusKey:f,focusOffset:h,isBackward:!1})})},f=function(e,t,n,o,a,s){var c=n.first()instanceof i,l=[],f=o.size,h=n.get(a),d=o.first(),p=o.last(),m=p.getLength(),g=p.getKey(),_=c&&(!h.getChildKeys().isEmpty()||!d.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(_?l.push(e):l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.slice(0,t),a=i.slice(0,t),s=n.first();return e.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?e.getType():s.getType(),data:s.getData()})}(e,s,o)),o.slice(_?0:1,f-1).forEach((function(e){return l.push(e)})),l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.length,a=r.slice(t,o),s=i.slice(t,o),c=n.last();return c.merge({text:c.getText()+a,characterList:c.getCharacterList().concat(s),data:c.getData()})}(e,s,o))):l.push(e)}));var v=r.createFromArray(l);return c&&(v=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),c=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i}(r,e),l=c[c.length-1];if(t.get(o)?(t.setIn([i,"nextSibling"],o),t.setIn([o,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([l,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],l),c.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var f=e.get(s).getChildKeys(),h=f.indexOf(i)+1,d=f.toArray();d.splice.apply(d,[h,0].concat(c)),t.setIn([s,"children"],u(d))}}))}(v,0,h,d)),e.merge({blockMap:v,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:m,focusKey:g,focusOffset:m,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var o=e.getBlockMap(),a=c(n),u=t.getStartKey(),h=t.getStartOffset(),d=o.get(u);return d instanceof i&&(d.getChildKeys().isEmpty()||s(!1)),1===a.size?l(e,t,o,a.first(),u,h,r):f(e,t,o,a,u,h)}},function(e,t,n){"use strict";var r=n(15),i=n(230),o=n(16),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var c=e.getBlockMap(),u=t.getStartKey(),l=t.getStartOffset(),f=c.get(u),h=f.getText(),d=f.merge({text:h.slice(0,l)+n+h.slice(l,f.getLength()),characterList:i(f.getCharacterList(),a(r,s).toList(),l)}),p=l+s;return e.merge({blockMap:c.set(u,d),selectionAfter:t.merge({anchorOffset:p,focusOffset:p})})}},function(e,t,n){"use strict";var r=n(35),i=n(232),o=n(15),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},c=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},f=function(e,t,n,r){return e.withMutations((function(o){if(s(t.getKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:l(e,o,r)})})),s(n.getKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:l(e,o,r)})})),c(t.getKey(),r).forEach((function(e){return s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:u(e,o,r),prevSibling:l(e,o,r)})}))})),s(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:u(e,o,r)})})),s(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:l(e,o,r)})})),s(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),c(n.getKey(),r).forEach((function(e){s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:u(e,o,r),prevSibling:l(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(e){return s(e,o,(function(e){return e.merge({nextSibling:u(e,o,r),prevSibling:l(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(n.getKey(),o,(function(e){return e.merge({prevSibling:a})})),s(a,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var f=a?e.get(a):null,h=f?f.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,o,(function(e){return e.merge({parent:h})}))})),null!=h){var d=e.get(h);s(h,o,(function(e){return e.merge({children:d.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))},h=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),s=t.getStartKey(),u=t.getStartOffset(),l=t.getEndKey(),d=t.getEndOffset(),p=o.get(s),m=o.get(l),g=p instanceof r,_=[];if(g){var v=m.getChildKeys(),y=c(l,o);m.getNextSiblingKey()&&(_=_.concat(y)),v.isEmpty()||(_=_.concat(y.concat([l]))),_=_.concat(c(i(m,o),o))}n=p===m?h(p.getCharacterList(),u,d):p.getCharacterList().slice(0,u).concat(m.getCharacterList().slice(d));var b=p.merge({text:p.getText().slice(0,u)+m.getText().slice(d),characterList:n}),w=g&&0===u&&0===d&&m.getParentKey()===s&&null==m.getPrevSiblingKey()?a([[s,null]]):o.toSeq().skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===l})).filter((function(e,t){return-1===_.indexOf(t)})).concat(a([[l,null]])).map((function(e,t){return t===s?b:null})),x=o.merge(w).filter((function(e){return!!e}));return g&&p!==m&&(x=f(x,p,m,o)),e.merge({blockMap:x,selectionBefore:t,selectionAfter:t.merge({anchorKey:s,anchorOffset:u,focusKey:s,focusOffset:u,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(35),i=n(43),o=n(15),a=n(16),s=n(231),c=o.List,u=o.Map,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),f=o.get(n),h=f.getText();if(!h){var d=f.getType();if("unordered-list-item"===d||"ordered-list-item"===d)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var p=t.getAnchorOffset(),m=f.getCharacterList(),g=i(),_=f instanceof r,v=f.merge({text:h.slice(0,p),characterList:m.slice(0,p)}),y=v.merge({key:g,text:h.slice(p),characterList:m.slice(p),data:u()}),b=o.toSeq().takeUntil((function(e){return e===f})),w=o.toSeq().skipUntil((function(e){return e===f})).rest(),x=b.concat([[n,v],[g,y]],w).toOrderedMap();return _&&(f.getChildKeys().isEmpty()||a(!1),x=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();l(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,i),e.merge({children:c(o)})})),l(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),l(r,e,(function(e){return e.merge({nextSibling:i})})),l(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(x,v,y)),e.merge({blockMap:x,selectionBefore:t,selectionAfter:t.merge({anchorKey:g,anchorOffset:0,focusKey:g,focusOffset:0,isBackward:!1})})}},function(e,t,n){"use strict";var r=n(106),i=n(15),o=i.List,a=i.Repeat,s=i.Record,c=function(){return!0},u=s({start:null,end:null}),l=s({start:null,end:null,decoratorKey:null,leaves:null}),f={generate:function(e,t,n){var i=t.getLength();if(!i)return o.of(new l({start:0,end:0,decoratorKey:null,leaves:o.of(new u({start:0,end:0}))}));var s=[],f=n?n.getDecorations(t,e):o(a(null,i)),p=t.getCharacterList();return r(f,d,c,(function(e,t){s.push(new l({start:e,end:t,decoratorKey:f.get(e),leaves:h(p.slice(e,t).toList(),e)}))})),o(s)}};function h(e,t){var n=[],i=e.map((function(e){return e.getStyle()})).toList();return r(i,d,c,(function(e,r){n.push(new u({start:e+t,end:r+t}))})),o(n)}function d(e,t){return e===t}e.exports=f},function(e,t,n){"use strict";var r,i=n(506),o=n(15),a=n(29),s=o.OrderedMap,c={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),c=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),u=s(n.keySeq().zip(c));return null!=t&&o.is(t,u)?t:u}};e.exports=c},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(166),o=n(124),a=n(16),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?o.isStrong(e)||a(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=i.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},function(e,t,n){"use strict";var r=n(35),i=n(232),o=n(15),a=n(16),s=o.OrderedMap,c=o.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),s=n.getKey(),l=t.getParentKey(),f=t.getNextSiblingKey(),h=t.getPrevSiblingKey(),d=n.getParentKey(),p=o?n.getNextSiblingKey():s,m=o?s:n.getPrevSiblingKey();return e.withMutations((function(e){u(l,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),u(h,e,(function(e){return e.merge({nextSibling:f})})),u(f,e,(function(e){return e.merge({prevSibling:h})})),u(p,e,(function(e){return e.merge({prevSibling:a})})),u(m,e,(function(e){return e.merge({nextSibling:a})})),u(d,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,a),e.merge({children:c(i)})})),u(a,e,(function(e){return e.merge({nextSibling:p,prevSibling:m,parent:d})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var c=n.getKey(),u=t.getKey();u===c&&a(!1);var f=e.getBlockMap(),h=t instanceof r,d=[t],p=f.delete(u);h&&(d=[],p=f.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===u})).takeWhile((function(e){var t=e.getKey(),i=t===u,o=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||a)})).forEach((function(t){d.push(t),e.delete(t.getKey())}))})));var m=p.toSeq().takeUntil((function(e){return e===n})),g=p.toSeq().skipUntil((function(e){return e===n})).skip(1),_=d.map((function(e){return[e.getKey(),e]})),v=s();if("before"===o){var y=e.getBlockBefore(c);y&&y.getKey()===t.getKey()&&a(!1),v=m.concat([].concat(_,[[c,n]]),g).toOrderedMap()}else if("after"===o){var b=e.getBlockAfter(c);b&&b.getKey()===u&&a(!1),v=m.concat([[c,n]].concat(_),g).toOrderedMap()}return e.merge({blockMap:l(v,t,n,o,h),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:u,focusKey:u})})}},function(e,t,n){"use strict";var r=n(15).List,i=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,i){var o=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+o),o++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=i},function(e,t,n){"use strict";(function(t){var r=n(44);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var u=n(167),l=n(235),f=n(510),h=n(517),d=n(534),p=n(537),m=n(571),g=n(247),_=n(17),v=n(0),y=n(19),b=n(170),w=n(128),x=n(31),E=n(60),M=n(43),S=n(263),T=n(129),k=n(54),C=n(16),O=n(107),A=n(29),P=x.isBrowser("IE"),L=!P,D={edit:p,composite:f,drag:d,cut:null,render:null},I=!1,R=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(v.Component),B=function(e){function n(t){var n;return s(a(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),i=n.editor;if(i){var o=w.getScrollParent(i),a=e||T(o),s=a.x,c=a.y;O(i)||C(!1),i.focus(),o===window?window.scrollTo(s,c):b.setTop(o,c),r||n.update(_.forceSelection(t,t.getSelection()))}})),s(a(n),"blur",(function(){var e=n.editor;e&&(O(e)||C(!1),e.blur())})),s(a(n),"setMode",(function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,s=o({},D.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var c=o({},D,{edit:s});n._handler=c[e]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(a(n),"setClipboard",(function(e){n._clipboard=e})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||M(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}c(n,e);var r=n.prototype;return r._buildHandler=function(e){var t=this,n=y.unstable_flushControlled;return function(r){if(!t.props.readOnly){var i=t._handler&&t._handler[e];i&&(n?n((function(){return i(t,r)})):i(t,r))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:A(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return v.createElement(m,e)}return null},r.render=function(){var e=this,t=this.props,n=t.blockRenderMap,r=t.blockRendererFn,a=t.blockStyleFn,s=t.customStyleFn,c=t.customStyleMap,u=t.editorState,f=t.readOnly,d=t.textAlignment,p=t.textDirectionality,m=E({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===d,"DraftEditor/alignRight":"right"===d,"DraftEditor/alignCenter":"center"===d}),g=this.props.role||"textbox",_="combobox"===g?!!this.props.ariaExpanded:null,y={blockRenderMap:n,blockRendererFn:r,blockStyleFn:a,customStyleMap:o({},l,c),customStyleFn:s,editorKey:this._editorKey,editorState:u,textDirectionality:p};return v.createElement("div",{className:m},this._renderPlaceholder(),v.createElement("div",{className:E("DraftEditor/editorContainer"),ref:function(t){return e.editorContainer=t}},v.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":f?null:_,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:E({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(t){return e.editor=t},role:f?null:g,spellCheck:L&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},v.createElement(R,{editor:this,editorState:u}),v.createElement(h,i({},y,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!I&&k("draft_ods_enabled")&&(I=!0,g.initODS()),this.setMode("edit"),P&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):t.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},n}(v.Component);s(B,"defaultProps",{blockRenderMap:u,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:S,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=B}).call(this,n(27))},function(e,t,n){"use strict";var r=n(511),i=n(28),o=n(45),a=n(17),s=n(127),c=n(238),u=n(240),l=n(241),f=n(168),h=n(29),d=!1,p=!1,m=null;var g={onCompositionStart:function(e){p=!0,function(e){m||(m=new r(u(e))).start()}(e)},onCompositionEnd:function(e){d=!1,p=!1,setTimeout((function(){d||g.resolveComposition(e)}),20)},onSelect:c,onKeyDown:function(e,t){if(!p)return g.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!p){var t=h(m).stopAndFlushMutations();m=null,d=!0;var n=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=o.decode(t),c=s.blockKey,u=s.decoratorKey,l=s.leafKey,h=n.getBlockTree(c).getIn([u,"leaves",l]),d=h.start,p=h.end,m=n.getSelection().merge({anchorKey:c,focusKey:c,anchorOffset:d,focusOffset:p,isBackward:!1}),g=f(r,m),_=r.getBlockForKey(c).getInlineStyleAt(d);r=i.replaceText(r,m,e,_,g),n=a.set(n,{currentContent:r})}));var s=l(n,u(e)).selectionState;e.restoreEditorDOM();var c=a.acceptSelection(n,s);e.update(a.push(c,r,"insert-characters"))}else e.update(n)}}};e.exports=g},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(31),o=n(125),a=n(237),s=n(15),c=n(16),u=n(29),l=s.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=i.isBrowser("IE <= 11"),d=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=l();var n=a(e);n.MutationObserver&&!h?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||c(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=l(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return h?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=u(o(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=d},function(e,t,n){"use strict";var r=n(513),i="Unknown",o={"Mac OS":"Mac OS X"};var a,s=(new r).getResult(),c=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(s.browser.version),u={browserArchitecture:s.cpu.architecture||i,browserFullVersion:s.browser.version||i,browserMinorVersion:c.minor||i,browserName:s.browser.name||i,browserVersion:s.browser.major||i,deviceName:s.device.model||i,engineName:s.engine.name||i,engineVersion:s.engine.version||i,platformArchitecture:s.cpu.architecture||i,platformName:(a=s.os.name,o[a]||a||i),platformVersion:s.os.version||i,platformFullVersion:s.os.version||i};e.exports=u},function(e,t,n){var r;!function(i,o){"use strict";var a="model",s="name",c="type",u="vendor",l="version",f="mobile",h="tablet",d={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"===typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},p={rgx:function(e,t){for(var n,r,i,o,a,s,c=0;c<t.length&&!a;){var u=t[c],l=t[c+1];for(n=r=0;n<u.length&&!a;)if(a=u[n++].exec(e))for(i=0;i<l.length;i++)s=a[++r],"object"===typeof(o=l[i])&&o.length>0?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!==typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):void 0:this[o[0]]=s?o[1].call(this,s,o[2]):void 0:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):void 0):this[o]=s||void 0;c+=2}},str:function(e,t){for(var n in t)if("object"===typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(d.has(t[n][r],e))return"?"===n?void 0:n}else if(d.has(t[n],e))return"?"===n?void 0:n;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,l],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[s,l],[/(QQ)\/([\d\.]+)/i],[s,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,p.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,u,[c,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[u,"Apple"],[c,h]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[u,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,a,[c,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[u,"Amazon"],[c,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,p.str,m.device.amazon.model],[u,"Amazon"],[c,f]],[/android.+aft([bms])\sbuild/i],[a,[u,"Amazon"],[c,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,u,[c,f]],[/\((ip[honed|\s\w*]+);/i],[a,[u,"Apple"],[c,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,a,[c,f]],[/\(bb10;\s(\w+)/i],[a,[u,"BlackBerry"],[c,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[u,"Asus"],[c,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[a,"Xperia Tablet"],[c,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[u,"Sony"],[c,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,a,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[u,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[u,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[u,p.str,m.device.sprint.vendor],[a,p.str,m.device.sprint.model],[c,f]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[a,/_/g," "],[c,f]],[/(nexus\s9)/i],[a,[u,"HTC"],[c,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[u,"Huawei"],[c,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,a,[c,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[u,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[c,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[u,"Motorola"],[c,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[u,"Motorola"],[c,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,d.trim],[a,d.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[u,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],a,[c,h]],[/smart-tv.+(samsung)/i],[u,[c,"smarttv"],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[u,"Samsung"],a,[c,f]],[/sie-(\w*)/i],[a,[u,"Siemens"],[c,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[u,"Nokia"],a,[c,f]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[u,"Acer"],[c,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[u,"LG"],[c,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],a,[c,h]],[/(lg) netcast\.tv/i],[u,a,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[u,"LG"],[c,f]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[u,a,[c,h]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[u,"Lenovo"],[c,h]],[/(lenovo)[_\s-]?([\w-]+)/i],[u,a,[c,f]],[/linux;.+((jolla));/i],[u,a,[c,f]],[/((pebble))app\/[\d\.]+\s/i],[u,a,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,a,[c,f]],[/crkey/i],[[a,"Chromecast"],[u,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[u,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[u,"Google"],[c,h]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[u,"Google"],[c,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[c,f]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[c,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[u,"Meizu"],[c,f]],[/(mz)-([\w-]{2,})/i],[[u,"Meizu"],a,[c,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[a,[u,"OnePlus"],[c,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[u,"RCA"],[c,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[u,"Dell"],[c,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[u,"Verizon"],[c,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[u,"Barnes & Noble"],a,[c,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[u,"NuVision"],[c,h]],[/android.+;\s(k88)\sbuild/i],[a,[u,"ZTE"],[c,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[u,"Swiss"],[c,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[u,"Swiss"],[c,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[u,"Zeki"],[c,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[u,"Dragon Touch"],a,[c,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[u,"Insignia"],[c,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[u,"NextBook"],[c,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[u,"Voice"],a,[c,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[u,"LvTel"],a,[c,f]],[/android.+;\s(PH-1)\s/i],[a,[u,"Essential"],[c,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[u,"Envizen"],[c,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[u,a,[c,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[u,"MachSpeed"],[c,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[u,a,[c,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[u,"Rotor"],[c,h]],[/android.+(KS(.+))\s+build/i],[a,[u,"Amazon"],[c,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[u,a,[c,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,d.lowerize],u,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[c,"smarttv"]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[u,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,p.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,p.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,l],[/(haiku)\s(\w+)/i],[s,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,l]]},_=function e(t,n){if("object"===typeof t&&(n=t,t=void 0),!(this instanceof e))return new e(t,n).getResult();var r=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),o=n?d.extend(g,n):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,r,o.browser),e.major=d.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return p.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return p.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return p.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};_.VERSION="0.7.20",_.BROWSER={NAME:s,MAJOR:"major",VERSION:l},_.CPU={ARCHITECTURE:"architecture"},_.DEVICE={MODEL:a,VENDOR:u,TYPE:c,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},_.ENGINE={NAME:s,VERSION:l},_.OS={NAME:s,VERSION:l},"undefined"!==typeof t?("undefined"!==typeof e&&e.exports&&(t=e.exports=_),t.UAParser=_):void 0===(r=function(){return _}.call(t,n,t,e))||(e.exports=r);var v=i&&(i.jQuery||i.Zepto);if("undefined"!==typeof v&&!v.ua){var y=new _;v.ua=y.getResult(),v.ua.get=function(){return y.getUA()},v.ua.set=function(e){y.setUA(e);var t=y.getResult();for(var n in t)v.ua[n]=t[n]}}}("object"===typeof window?window:this)},function(e,t,n){"use strict";var r=n(16),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,c=/^(\d*)(.*)/;function u(e,t){var n=e.split(o);return n.length>1?n.some((function(e){return b.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return l(n[0],t);var i=n[0],o=n[1];return m(i)&&m(o)||r(!1),l(">="+i,t)&&l("<="+o,t)}(e=n[0].trim(),t)}function l(e,t){if(""===(e=e.trim()))return!0;var n=t.split(i),r=d(e),o=r.modifier,a=r.rangeComponents;switch(o){case"<":return f(n,a);case"<=":return function(e,t){var n=y(e,t);return-1===n||0===n}(n,a);case">=":return h(n,a);case">":return 1===y(n,a);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);p(o)&&(r[i]=o+1+"");return h(e,n)&&f(e,r)}(n,a);default:return function(e,t){return 0===y(e,t)}(n,a)}}function f(e,t){return-1===y(e,t)}function h(e,t){var n=y(e,t);return 1===n||0===n}function d(e){var t=e.split(i),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function m(e){return!d(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function _(e,t){var n=e.match(c)[1],r=t.match(c)[1],i=parseInt(n,10),o=parseInt(r,10);return p(i)&&p(o)&&i!==o?v(i,o):v(e,t)}function v(e,t){return typeof e!==typeof t&&r(!1),e>t?1:e<t?-1:0}function y(e,t){for(var n=function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return g(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var a=_(r[o],i[o]);if(a)return a}return 0}var b={contains:function(e,t){return u(e.trim(),t.trim())}};e.exports=b},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r=n(54)("draft_tree_data_support");e.exports=n(r?518:532)},function(e,t,n){"use strict";var r=n(44);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(519),a=n(45),s=n(0),c=n(29),u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),u=n.getDecorator();return i!==o||a!==s||c!==u||n.mustForceSelection()},u.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,u=e.customStyleMap,l=e.customStyleFn,f=e.editorState,h=e.editorKey,d=e.textDirectionality,p=f.getCurrentContent(),m=f.getSelection(),g=f.mustForceSelection(),_=f.getDecorator(),v=c(f.getDirectionMap()),y=[],b=p.getBlocksAsArray()[0];b;){var w=b.getKey(),x={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:p,customStyleFn:l,customStyleMap:u,decorator:_,editorKey:h,editorState:f,forceSelection:g,selection:m,block:b,direction:d||v.get(w),tree:f.getBlockTree(w)},E=(t.get(b.getType())||t.get("unstyled")).wrapper;y.push({block:s.createElement(o,i({key:w},x)),wrapperTemplate:E,key:w,offsetKey:a.encode(w,0,0)});var M=b.getNextSiblingKey();b=M?p.getBlockForKey(M):null}for(var S=[],T=0;T<y.length;){var k=y[T];if(k.wrapperTemplate){var C=[];do{C.push(y[T].block),T++}while(T<y.length&&y[T].wrapperTemplate===k.wrapperTemplate);var O=s.cloneElement(k.wrapperTemplate,{key:k.key+"-wrap","data-offset-key":k.offsetKey},C);S.push(O)}else S.push(k.block),T++}return s.createElement("div",{"data-contents":"true"},S)},r}(s.Component);e.exports=u},function(e,t,n){"use strict";var r=n(44);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(520),c=n(45),u=n(0),l=n(19),f=n(170),h=n(128),d=n(249),p=n(129),m=n(250),g=n(15),_=n(16),v=n(107),y=(g.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),b=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},w=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},x=function(e,t,n,r,i){var a={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey()},s=r(e);return s&&(a.className=s),void 0!==i.customEditable&&(a=o({},a,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),a},E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,i=t.tree,o=!n.getChildKeys().isEmpty(),a=n!==e.block||i!==e.tree||r!==e.direction||y(e.selection,e.block.getKey())&&e.forceSelection;return o||a},a.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n,r=l.findDOMNode(this),i=h.getScrollParent(r),o=p(i);if(i===window){var a=d(r);(n=a.y+a.height-m().height)>0&&window.scrollTo(o.x,o.y+n+10)}else{v(r)||_(!1);var s=r;(n=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&f.setTop(i,f.getTop(i)+n+10)}}},a.render=function(){var e=this,t=this.props,n=t.block,a=t.blockRenderMap,l=t.blockRendererFn,f=t.blockStyleFn,h=t.contentState,d=t.decorator,p=t.editorKey,m=t.editorState,g=t.customStyleFn,_=t.customStyleMap,v=t.direction,E=t.forceSelection,M=t.selection,S=t.tree,T=null;n.children.size&&(T=n.children.reduce((function(t,n){var i=c.encode(n,0,0),s=h.getBlockForKey(n),d=w(s,l),g=d.CustomComponent||r,_=b(s,a),v=_.Element,y=_.wrapperTemplate,E=x(s,p,i,f,d),M=o({},e.props,{tree:m.getBlockTree(n),blockProps:d.customProps,offsetKey:i,block:s});return t.push(u.createElement(v,E,u.createElement(g,M))),!y||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(s,h)?t:(function(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,l=n.reverse()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value;if(f.type!==t)break;r.push(f)}}catch(p){o=!0,a=p}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var h=r.reverse(),d=h[0].key;n.push(u.cloneElement(e,{key:"".concat(d,"-wrap"),"data-offset-key":c.encode(d,0,0)},h))}(y,v,t),t)}),[]));var k=n.getKey(),C=c.encode(k,0,0),O=w(n,l),A=O.CustomComponent,P=null!=A?u.createElement(A,i({},this.props,{tree:m.getBlockTree(k),blockProps:O.customProps,offsetKey:C,block:n})):u.createElement(s,{block:n,children:T,contentState:h,customStyleFn:g,customStyleMap:_,decorator:d,direction:v,forceSelection:E,hasSelection:y(M,k),selection:M,tree:S});if(n.getParentKey())return P;var L=b(n,a).Element,D=x(n,p,C,f,O);return u.createElement(L,D,P)},r}(u.Component);e.exports=E},function(e,t,n){"use strict";var r=n(521),i=n(245),o=n(45),a=n(15),s=n(0),c=n(60),u=(a.List,function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,a=e.customStyleFn,u=e.customStyleMap,l=e.decorator,f=e.direction,h=e.forceSelection,d=e.hasSelection,p=e.selection,m=e.tree,g=t.getKey(),_=t.getText(),v=m.size-1,y=this.props.children||m.map((function(e,c){var m=e.get("decoratorKey"),y=e.get("leaves"),b=y.size-1,w=y.map((function(e,n){var r=o.encode(g,c,n),l=e.get("start"),f=e.get("end");return s.createElement(i,{key:r,offsetKey:r,block:t,start:l,selection:d?p:null,forceSelection:h,text:_.slice(l,f),styleSet:t.getInlineStyleAt(l),customStyleMap:u,customStyleFn:a,isLast:m===v&&n===b})})).toArray();return m&&l?s.createElement(r,{block:t,children:w,contentState:n,decorator:l,decoratorKey:m,direction:f,leafSet:e,text:_,key:c}):w})).toArray();return s.createElement("div",{"data-offset-key":o.encode(g,0,0),className:c({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},y)},a}(s.Component));e.exports=u},function(e,t,n){"use strict";var r=n(44);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(45),a=n(0),s=n(166),c=n(124),u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,u=e.decorator,l=e.decoratorKey,f=e.direction,h=e.leafSet,d=e.text,p=t.getKey(),m=h.get("leaves"),g=u.getComponentForKey(l),_=u.getPropsForKey(l),v=o.encode(p,parseInt(l,10),0),y=d.slice(m.first().get("start"),m.last().get("end")),b=c.getHTMLDirIfDifferent(s.getDirection(y),f);return a.createElement(g,i({},_,{contentState:r,decoratedText:y,dir:b,key:v,entityKey:t.getEntityAt(h.get("start")),offsetKey:v}),n)},r}(a.Component);e.exports=u},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(0),a=n(31),s=n(16),c=n(61),u=a.isBrowser("IE <= 11");var l=function(e){var t,n;function a(t){var n;return i(r(n=e.call(this,t)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;c(t)||s(!1);var r=t;return n?!function(e){return u?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},l.componentDidMount=function(){this._forceFlag=!this._forceFlag},l.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},l.render=function(){var e=this;return""===this.props.children?this._forceFlag?function(e){return u?o.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:e})}((function(t){return e._node=t})):function(e){return u?o.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:e})}((function(t){return e._node=t})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(t){return e._node=t}},this.props.children)},a}(o.Component);e.exports=l},function(e,t,n){"use strict";var r=n(247),i=n(239),o=n(31),a=n(169),s=n(248),c=n(126),u=n(16),l=n(61),f=o.isBrowser("IE");function h(e,t){if(!e)return"[empty]";var n=function e(t,n){var r=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var i=t.textContent.length;return c(t).createTextNode("[text "+i+(r.length?" | "+r.join(", "):"")+"]")}var o=t.cloneNode();1===o.nodeType&&r.length&&o.setAttribute("data-labels",r.join(", "));for(var a=t.childNodes,s=0;s<a.length;s++)o.appendChild(e(a[s],n));return o}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(l(n)||u(!1),n.outerHTML)}function d(e,t){for(var n=e,r=n;n;){if(l(n)&&r.hasAttribute("contenteditable"))return h(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function p(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function m(e,t,n,r){var o=s();if(e.extend&&a(o,t)){n>p(t)&&i.logSelectionStateFailure({anonymizedDom:d(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var c=t===e.focusNode;try{e.extend(t,n)}catch(l){throw i.logSelectionStateFailure({anonymizedDom:d(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:c,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:l?""+l:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),l}}else if(e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function g(e,t,n,o){var a=c(t).createRange();if(n>p(t)&&(i.logSelectionStateFailure({anonymizedDom:d(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),f)try{e.addRange(a)}catch(s){0}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var o=c(t);if(a(o.documentElement,t)){var s=o.defaultView.getSelection(),u=e.getAnchorKey(),l=e.getAnchorOffset(),f=e.getFocusKey(),h=e.getFocusOffset(),d=e.getIsBackward();if(!s.extend&&d){var p=u,_=l;u=f,l=h,f=p,h=_,d=!1}var v=u===n&&r<=l&&i>=l,y=f===n&&r<=h&&i>=h;if(v&&y)return s.removeAllRanges(),g(s,t,l-r,e),void m(s,t,h-r,e);if(d){if(y&&(s.removeAllRanges(),g(s,t,h-r,e)),v){var b=s.focusNode,w=s.focusOffset;s.removeAllRanges(),g(s,t,l-r,e),m(s,b,w,e)}}else v&&(s.removeAllRanges(),g(s,t,l-r,e)),y&&m(s,t,h-r,e)}},addFocusToSelection:m}},function(e,t,n){"use strict";var r=n(525);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(527),i=n(528);function o(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return o(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return o(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?o("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):o(e.style&&e.style[r(t)])}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";var r=n(169);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},function(e,t,n){"use strict";var r="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:r||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},function(e,t,n){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(44);function i(){return(i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(251),c=n(45),u=n(0),l=n(60),f=n(533),h=n(29),d=function(e,t,n,r){return l({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),c=t.getDecorator(),u=n.getDecorator();return i!==o||a!==s||c!==u||n.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleMap,l=e.customStyleFn,p=e.editorState,m=e.editorKey,g=e.textDirectionality,_=p.getCurrentContent(),v=p.getSelection(),y=p.mustForceSelection(),b=p.getDecorator(),w=h(p.getDirectionMap()),x=_.getBlocksAsArray(),E=[],M=null,S=null,T=0;T<x.length;T++){var k=x[T],C=k.getKey(),O=k.getType(),A=n(k),P=void 0,L=void 0,D=void 0;A&&(P=A.component,L=A.props,D=A.editable);var I=g||w.get(C),R=c.encode(C,0,0),B={contentState:_,block:k,blockProps:L,blockStyleFn:r,customStyleMap:a,customStyleFn:l,decorator:b,direction:I,forceSelection:y,offsetKey:R,selection:v,tree:p.getBlockTree(C)},N=t.get(O)||t.get("unstyled"),U=N.wrapper,z=N.element||t.get("unstyled").element,F=k.getDepth(),j="";if(r&&(j=r(k)),"li"===z)j=f(j,d(O,F,S!==U||null===M||F>M,I));var W=P||s,H={className:j,"data-block":!0,"data-editor":m,"data-offset-key":R,key:C};void 0!==D&&(H=o({},H,{contentEditable:D,suppressContentEditableWarning:!0}));var V=u.createElement(z,H,u.createElement(W,i({},B,{key:C})));E.push({block:V,wrapperTemplate:U,key:C,offsetKey:R}),M=U?k.getDepth():null,S=U}for(var K=[],G=0;G<E.length;){var q=E[G];if(q.wrapperTemplate){var Y=[];do{Y.push(E[G].block),G++}while(G<E.length&&E[G].wrapperTemplate===q.wrapperTemplate);var X=u.cloneElement(q.wrapperTemplate,{key:q.key+"-wrap","data-offset-key":q.offsetKey},Y);K.push(X)}else K.push(q.block),G++}return u.createElement("div",{"data-contents":"true"},K)},r}(u.Component);e.exports=p},function(e,t,n){"use strict";e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(t=(t?t+" ":"")+i)}return t}},function(e,t,n){"use strict";var r=n(252),i=n(28),o=n(17),a=n(19),s=n(125),c=n(126),u=n(254),l=n(243),f=n(237),h=n(130),d=n(29);var p={onDragEnd:function(e){e.exitCurrentMode(),m(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),a=e._latestEditorState,f=function(e,t){var n=null,r=null,i=c(e.currentTarget);if("function"===typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=d(n),r=d(r);var a=d(s(n));return l(t,a,r,a,r)}(t.nativeEvent,a);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=f){var p=n.getFiles();if(p.length>0){if(e.props.handleDroppedFiles&&h(e.props.handleDroppedFiles(f,p)))return;u(p,(function(t){t&&e.update(g(a,f,t))}))}else{var _=e._internalDrag?"internal":"external";e.props.handleDrop&&h(e.props.handleDrop(f,n,_))||(e._internalDrag?e.update(function(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(a,f)):e.update(g(a,f,n.getText()))),m(e)}}}};function m(e){e._internalDrag=!1;var t=a.findDOMNode(e);if(t){var n=new MouseEvent("mouseup",{view:f(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function g(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=p},function(e,t,n){"use strict";var r={isImage:function(e){return"image"===i(e)[0]},isJpeg:function(e){var t=i(e);return r.isImage(e)&&("jpeg"===t[1]||"pjpeg"===t[1])}};function i(e){return e.split("/")}e.exports=r},function(e,t,n){"use strict";var r=n(16);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(o){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},function(e,t,n){"use strict";var r=n(31),i=n(538),o=n(541),a=n(542),s=n(543),c=n(544),u=n(546),l=n(547),f=n(548),h=n(549),d=n(550),p=n(564),m=n(238),g=r.isBrowser("Chrome")?m:function(e){},_={onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:c,onDragOver:u,onDragStart:l,onFocus:f,onInput:h,onKeyDown:d,onPaste:p,onSelect:m,onMouseUp:g,onKeyUp:g};e.exports=_},function(e,t,n){"use strict";var r=n(28),i=n(17),o=n(31),a=n(168),s=n(130),c=n(539),u=n(29),l=n(540),f=o.isBrowser("Firefox");function h(e,t,n,o,a){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,o);return i.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var o=n.getSelection(),d=o.getStartOffset(),p=o.getAnchorKey();if(!o.isCollapsed())return t.preventDefault(),void e.update(h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var m,g=h(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),_=!1;if(_||(_=c(e._latestCommittedEditorState)),!_){var v=n.getBlockTree(p),y=g.getBlockTree(p);_=v.size!==y.size||v.zip(y).some((function(e){var t=e[0],n=e[1],i=t.get("start"),o=i+(i>=d?r.length:0),a=t.get("end"),s=a+(a>=d?r.length:0),c=n.get("start"),u=n.get("end"),l=n.get("decoratorKey");return t.get("decoratorKey")!==l||t.get("leaves").size!==n.get("leaves").size||o!==c||s!==u||null!=l&&u-c!==a-i}))}if(_||(m=r,_=f&&("'"==m||"/"==m)),_||(_=u(g.getDirectionMap()).get(p)!==u(n.getDirectionMap()).get(p)),_)return t.preventDefault(),g=i.set(g,{forceSelection:!0}),void e.update(g);g=i.set(g,{nativelyRenderedContent:g.getCurrentContent()}),e._pendingStateFromBeforeInput=g,l((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some((function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(o=!0,!0)}))})),o}},function(e,t,n){"use strict";(function(t){n(195),e.exports=t.setImmediate}).call(this,n(27))},function(e,t,n){"use strict";var r=n(17),i=n(169),o=n(248);e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&o(n)===n.body){var a=n.defaultView.getSelection(),s=e.editor;1===a.rangeCount&&i(s,a.anchorNode)&&i(s,a.focusNode)&&a.removeAllRanges()}var c=e._latestEditorState,u=c.getSelection();if(u.getHasFocus()){var l=u.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,l))}}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},function(e,t,n){"use strict";var r=n(255);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},function(e,t,n){"use strict";var r=n(28),i=n(17),o=n(128),a=n(255),s=n(129),c=n(545);e.exports=function(e,t){var n,u=e._latestEditorState,l=u.getSelection(),f=t.target;if(l.isCollapsed())t.preventDefault();else{if(c(f)){var h=f;n=s(o.getScrollParent(h))}var d=a(u);e.setClipboard(d),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(u))}),0)}}},function(e,t,n){"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},function(e,t,n){"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},function(e,t,n){"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},function(e,t,n){"use strict";var r=n(17),i=n(31);e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},function(e,t,n){"use strict";var r=n(28),i=n(45),o=n(17),a=n(31),s=n(244).notEmptyKey,c=n(125),u=n(256),l=n(29),f=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),a=n.anchorNode,h=n.isCollapsed;if(!(a.nodeType!==Node.TEXT_NODE&&a.nodeType!==Node.ELEMENT_NODE)){if(a.nodeType===Node.TEXT_NODE&&(null!==a.previousSibling||null!==a.nextSibling)){var d=a.parentNode;a.nodeValue=d.textContent;for(var p=d.firstChild;null!==p;p=p.nextSibling)p!==a&&d.removeChild(p)}var m=a.textContent,g=e._latestEditorState,_=l(c(a)),v=i.decode(_),y=v.blockKey,b=v.decoratorKey,w=v.leafKey,x=g.getBlockTree(y).getIn([b,"leaves",w]),E=x.start,M=x.end,S=g.getCurrentContent(),T=S.getBlockForKey(y),k=T.getText().slice(E,M);if(m.endsWith("\n\n")&&(m=m.slice(0,-1)),m!==k){var C,O,A,P,L=g.getSelection(),D=L.merge({anchorOffset:E,focusOffset:M,isBackward:!1}),I=T.getEntityAt(E),R=s(I)?S.getEntity(I):null,B="MUTABLE"===(null!=R?R.getMutability():null),N=B?"spellcheck-change":"apply-entity",U=r.replaceText(S,D,m,T.getInlineStyleAt(E),B?T.getEntityAt(E):null);if(f)C=n.anchorOffset,O=n.focusOffset,P=(A=E+Math.min(C,O))+Math.abs(C-O),C=A,O=P;else{var z=m.length-k.length;A=L.getStartOffset(),P=L.getEndOffset(),C=h?P+z:A,O=P+z}var F=U.merge({selectionBefore:S.getSelectionAfter(),selectionAfter:L.merge({anchorOffset:C,focusOffset:O})});e.update(o.push(g,F,N))}else{var j=t.nativeEvent.inputType;if(j){var W=function(e,t){switch(e){case"deleteContentBackward":return u(t)}return t}(j,g);if(W!==g)return e.restoreEditorDOM(),void e.update(W)}}}}},function(e,t,n){"use strict";var r=n(28),i=n(17),o=n(173),a=n(127),s=n(552),c=n(31),u=n(130),l=n(553),f=n(555),h=n(557),d=n(558),p=n(559),m=n(560),g=n(256),_=n(561),v=n(562),y=n(563),b=o.isOptionKeyCommand,w=c.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,o=e._latestEditorState;function c(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&u(e.props.handleReturn(t,o)))return;break;case a.ESC:if(t.preventDefault(),c("onEscape"))return;break;case a.TAB:if(c("onTab"))return;break;case a.UP:if(c("onUpArrow"))return;break;case a.RIGHT:if(c("onRightArrow"))return;break;case a.DOWN:if(c("onDownArrow"))return;break;case a.LEFT:if(c("onLeftArrow"))return;break;case a.SPACE:w&&b(t)&&t.preventDefault()}var x=e.props.keyBindingFn(t);if(null!=x&&""!==x)if("undo"!==x){if(t.preventDefault(),!e.props.handleKeyCommand||!u(e.props.handleKeyCommand(x,o,t.timeStamp))){var E=function(e,t,n){switch(e){case"redo":return i.redo(t);case"delete":return _(t);case"delete-word":return h(t);case"backspace":return g(t);case"backspace-word":return f(t);case"backspace-to-start-of-line":return l(t,n);case"split-block":return d(t);case"transpose-characters":return v(t);case"move-selection-to-start-of-block":return m(t);case"move-selection-to-end-of-block":return p(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(x,o,t);E!==o&&e.update(E)}}else y(t,o,e.update);else if(n===a.SPACE&&w&&b(t)){var M=r.replaceText(o.getCurrentContent(),o.getSelection(),"\xa0");e.update(i.push(o,M,"insert-characters"))}}},function(e,t,n){"use strict";var r=n(127);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},function(e,t,n){"use strict";var r=n(28),i=n(17),o=n(121),a=n(29),s=null,c={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),c=null;if(n.isCollapsed()){var u=n.getAnchorKey(),l=t.getBlockForKey(u).getLength();if(l===n.getAnchorOffset()){var f=t.getKeyAfter(u);if(null==f)return e;c=n.set("focusKey",f).set("focusOffset",0)}else c=n.set("focusOffset",l)}else c=n;c=a(c),s=o(t,c);var h=r.removeRange(t,c,"forward");return h===t?e:i.push(e,h,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return i.push(e,t,"insert-fragment")}};e.exports=c},function(e,t,n){"use strict";var r=n(17),i=n(554),o=n(242),a=n(171),s=n(108);e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=i(r),o(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},function(e,t,n){"use strict";var r=n(62),i=n(126),o=n(257),a=n(16);function s(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<t&&o-r<t}function c(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=i(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(t),u=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);s(o(e),n)&&(u=e.startContainer,l=e.startOffset,u.parentNode||a(!1),e.setStartBefore(u),1!==u.nodeType||"inline"===getComputedStyle(u).display););for(var f=u,h=l-1;;){for(var d=f.nodeValue,p=h;p>=0;p--)if(!(null!=d&&p>0&&r.isSurrogatePair(d,p-1))){if(e.setStart(f,p),!s(o(e),n))break;u=f,l=p}if(-1===p||0===f.childNodes.length)break;h=c(f=f.childNodes[p])}return e.setStart(u,l),e}},function(e,t,n){"use strict";var r=n(258),i=n(17),o=n(171),a=n(108);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},function(e,t,n){"use strict";var r=n(258),i=n(17),o=n(259),a=n(108);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},function(e,t,n){"use strict";var r=n(28),i=n(17);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},function(e,t,n){"use strict";var r=n(17),i=n(62),o=n(259),a=n(108);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(e,s?i.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},function(e,t,n){"use strict";var r=n(28),i=n(17),o=n(121);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,c=t.getAnchorKey(),u=e.getCurrentContent(),l=u.getBlockForKey(c).getLength();if(l<=1)return e;n===l?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=o(u,a),h=r.removeRange(u,a,"backward"),d=h.getSelectionAfter(),p=d.getAnchorOffset()-1,m=d.merge({anchorOffset:p,focusOffset:p}),g=r.replaceWithFragment(h,m,f),_=i.push(e,g,"insert-fragment");return i.acceptSelection(_,s)}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},function(e,t,n){"use strict";var r=n(105),i=n(34),o=n(252),a=n(28),s=n(565),c=n(17),u=n(262),l=n(168),f=n(254),h=n(130),d=n(570);function p(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return c.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var m=n.getFiles(),g=n.getText();if(m.length>0){if(e.props.handlePastedFiles&&h(e.props.handlePastedFiles(m)))return;return void f(m,(function(t){if(t=t||g){var n=e._latestEditorState,o=d(t),f=i.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),h=u.getCurrentBlockType(n),p=s.processText(o,f,h),m=r.createFromArray(p),_=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(c.push(n,_,"insert-fragment"))}}))}}var _=[],v=n.getText(),y=n.getHTML(),b=e._latestEditorState;if(!e.props.handlePastedText||!h(e.props.handlePastedText(v,y,b))){if(v&&(_=d(v)),!e.props.stripPastedStyles){var w=e.getClipboard();if(n.isRichText()&&w){if(-1!==y.indexOf(e.getEditorKey())||1===_.length&&1===w.size&&w.first().getText()===v)return void e.update(p(e._latestEditorState,w))}else if(w&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(_,w))return void e.update(p(e._latestEditorState,w));if(y){var x=s.processHTML(y,e.props.blockRenderMap);if(x){var E=x.contentBlocks,M=x.entityMap;if(E){var S=r.createFromArray(E);return void e.update(p(e._latestEditorState,S,M))}}}e.setClipboard(null)}if(_.length){var T=i.create({style:b.getCurrentInlineStyle(),entity:l(b.getCurrentContent(),b.getSelection())}),k=u.getCurrentBlockType(b),C=s.processText(_,T,k),O=r.createFromArray(C);e.update(p(e._latestEditorState,O))}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(59),o=n(35),a=n(260),s=n(43),c=n(261),u=n(54),l=n(15),f=n(234),h=l.List,d=l.Repeat,p=u("draft_tree_data_support"),m=p?o:i,g={processHTML:function(e,t){return a(e,c,t)},processText:function(e,t,n){return e.reduce((function(e,i,o){i=f(i);var a=s(),c={key:a,type:n,text:i,characterList:h(d(t,i.length))};if(p&&0!==o){var u=o-1;c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},c,{prevSibling:(e[u]=e[u].merge({nextSibling:a})).getKey()})}return e.push(new m(c)),e}),[])}};e.exports=g},function(e,t,n){"use strict";var r=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=r},function(e,t,n){"use strict";var r=n(61);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat([[o,a.get(o)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},function(e,t,n){"use strict";var r=/\r\n?|\n/g;e.exports=function(e){return e.split(r)}},function(e,t,n){"use strict";var r=n(0),i=n(60),o=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);e.exports=o},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(59),o=n(35),a=n(264),s=n(574),c=n(575),u=n(16),l=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:c(e),entityRanges:s(e,t),data:e.getData().toObject()}},f=function(e,t,n,a){if(e instanceof i)n.push(l(e,t));else{e instanceof o||u(!1);var s=e.getParentKey(),c=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},l(e,t),{children:[]});s?a[s].children.push(c):n.push(c)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],i={},o={},s=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),i=a.stringify(r);o[i]||(o[i]=r,n[i]="".concat(s),s++)})),f(e,n,r,i)})),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,i={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(e,t)}},function(e,t,n){"use strict";var r=n(264),i=n(62).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(o,a){var s=e.getText(),c=e.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(t[r.stringify(c)])})})),n}},function(e,t,n){"use strict";var r=n(62),i=n(106),o=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],c=t.map((function(e){return e.has(n)})).toList();return i(c,o,a,(function(t,i){var o=e.getText();s.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,i)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(59),a=n(35),s=n(165),c=n(122),u=n(577),l=(n(578),n(123)),f=n(579),h=n(580),d=n(581),p=n(43),m=n(54),g=n(15),_=n(16),v=m("draft_tree_data_support"),y=g.List,b=g.Map,w=g.OrderedMap,x=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||p(),data:b(i),characterList:E(e,t)}},E=function(e,t){var n=e.text,i=e.entityRanges,o=e.inlineStyleRanges,a=i||[];return f(d(n,o||[]),h(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},M=function(e){return r({},e,{key:e.key||p()})},S=function(e,t,n){var i=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(i.reverse())},T=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),i=v&&!n?u.fromRawStateToRawTreeState(e).blocks:e.blocks;return v?function(e,t){return e.map(M).reduce((function(n,i,o){Array.isArray(i.children)||_(!1);var s=i.children.map(M),c=new a(r({},x(i,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:y(s.map((function(e){return e.key})))}));n=n.set(c.getKey(),c);for(var u=S([],s,c);u.length>0;){var l=u.pop(),f=l.parentRef,h=f.getChildKeys(),d=h.indexOf(l.key),p=Array.isArray(l.children);if(!p){p||_(!1);break}var m=l.children.map(M),g=new a(r({},x(l,t),{parent:f.getKey(),children:y(m.map((function(e){return e.key}))),prevSibling:0===d?null:h.get(d-1),nextSibling:d===h.size-1?null:h.get(d+1)}));n=n.set(g.getKey(),g),u=S(u,m,g)}return n}),w())}(i,t):function(e,t){return w(e.map((function(e){var n=new o(x(e,t));return[n.getKey(),n]})))}(n?u.fromRawTreeStateToRawState(e).blocks:i,t)};e.exports=function(e){Array.isArray(e.blocks)||_(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],i=r.type,o=r.mutability,a=r.data;n[e]=c.__create(i,o,a||{})})),n}(e),n=T(e,t),r=n.isEmpty()?new l:l.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(43),a=n(16),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},c={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var i=r.children;Array.isArray(i)||a(!1),n=n.concat([].concat(i.reverse()))}}(t,(function(e){var t=r({},e);s(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))})),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var i=s(e),a=e.depth||0,c=r({},e,{children:[]});if(i){var u=n[0];if(null==u&&0===a)t.push(c);else if(null==u||u.depth<a-1){var l={key:o(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(l),1===a?t.push(l):null!=u&&u.children.push(l),l.children.push(c)}else if(u.depth===a-1)u.children.push(c);else{for(;null!=u&&u.depth>=a;)n.shift(),u=n[0];a>0?u.children.push(c):t.push(c)}}else t.push(c)})),r({},e,{blocks:t})}};e.exports=c},function(e,t,n){"use strict";n(172);var r={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return!1;var o=e.getNextSiblingKey();if(null!=o&&t.get(o).getPrevSiblingKey()!==n)return!1;return(null===o||null===i||i!==o)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),i=[];null!=r;){var o=e.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var c=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==c)return!1;r=c.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}};e.exports=r},function(e,t,n){"use strict";var r=n(34),i=n(15).List;e.exports=function(e,t){var n=e.map((function(e,n){var i=t[n];return r.create({style:e,entity:i})}));return i(n)}},function(e,t,n){"use strict";var r=n(62).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var i=r(e,0,t.offset).length,o=i+r(e,t.offset,t.length).length,a=i;a<o;a++)n[a]=t.key})),n}},function(e,t,n){"use strict";var r=n(62),i=n(15).OrderedSet,o=r.substr,a=i();e.exports=function(e,t){var n=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,i=r+o(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},function(e,t,n){"use strict";var r=n(583);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,c=i.left;return 0===o&&0===a&&0===s&&0===c?null:i}},function(e,t,n){"use strict";var r=n(257);e.exports=function(e){var t=r(e),n=0,i=0,o=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var c=t[0];n=c.top,i=c.right,o=c.bottom,a=c.left}for(var u=1;u<t.length;u++){var l=t[u];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),i=Math.max(i,l.right),o=Math.max(o,l.bottom),a=Math.min(a,l.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},,,,function(e,t,n){"use strict";var r=n(66),i=n(20),o=n(36),a=n(267),s=n(268),c=n(174),u=n(593),l=n(594),f=n(131),h=n(606),d=function(e,t,n){var r,a=i.getTypeOf(t),l=i.extend(n||{},s);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"===typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(e=m(e)),l.createFolders&&(r=p(e))&&g.call(this,r,!0);var d="string"===a&&!1===l.binary&&!1===l.base64;n&&"undefined"!==typeof n.binary||(l.binary=!d),(t instanceof c&&0===t.uncompressedSize||l.dir||!t||0===t.length)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",a="string");var _=null;_=t instanceof c||t instanceof o?t:f.isNode&&f.isStream(t)?new h(e,t):i.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var v=new u(e,_,l);this.files[e]=v},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t="undefined"!==typeof t?t:s.createFolders,e=m(e),this.files[e]||d.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function _(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1===arguments.length){if(_(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var i=this.files[this.root+e];return i&&!i.dir?i:null}return(e=this.root+e,d.call(this,e,t,n),this)},folder:function(e){if(!e)return this;if(_(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=l.generateWorker(this,n,s)}catch(c){(t=new o("error")).error(c)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=v},function(e,t,n){"use strict";(function(t){e.exports="function"===typeof t?t:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}}).call(this,n(194).setImmediate)},function(e,t,n){"use strict";var r=n(590);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!==typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function l(e,t,n){this.promise=e,"function"===typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"===typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(i){return o.reject(e,i)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function h(e){var t=e&&e.then;if(e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=u,u.prototype.finally=function(e){if("function"!==typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!==typeof e&&this.state===s||"function"!==typeof t&&this.state===a)return this;var n=new this.constructor(i);this.state!==c?f(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t));return n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){if(e instanceof this)return e;return o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var a=new Array(n),s=0,c=-1,u=new this(i);for(;++c<n;)l(e[c],c);return u;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var a=-1,s=new this(i);for(;++a<n;)c=e[a],t.resolve(c).then((function(e){r||(r=!0,o.resolve(s,e))}),(function(e){r||(r=!0,o.reject(s,e))}));var c;return s}},function(e,t,n){"use strict";(function(t){var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||"undefined"===typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}e.exports=function(e){1!==u.push(e)||r||n()}}).call(this,n(27))},function(e,t,n){"use strict";var r=n(36),i=n(20);function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},function(e,t,n){"use strict";var r=n(265).Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}n(20).inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},function(e,t,n){"use strict";var r=n(267),i=n(269),o=n(66),a=n(174),s=n(36),c=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};c.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(c){(t=new s("error")).error(c)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)c.prototype[u[f]]=l;e.exports=c},function(e,t,n){"use strict";var r=n(272),i=n(605);t.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(s){o.error(s)}return o}},function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,i=n(596),o=n(20),a=n(36),s=r?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new c("Deflate",e)},t.uncompressWorker=function(){return new c("Inflate",{})}},function(e,t,n){"use strict";var r={};(0,n(56).assign)(r,n(597),n(600),n(277)),e.exports=r},function(e,t,n){"use strict";var r=n(598),i=n(56),o=n(275),a=n(176),s=n(276),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"===typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(a[n]);this._dict_set=!0}}function l(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"===typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=l,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},function(e,t,n){"use strict";var r,i=n(56),o=n(599),a=n(273),s=n(274),c=n(176);function u(e,t){return e.msg=c[t],t}function l(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function d(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,i.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=a(e.adler,t,o,n):2===e.state.wrap&&(e.adler=s(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function _(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,l=e.w_mask,f=e.prev,h=e.strstart+258,d=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===d&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=258-(h-o),o=h-258,r>a){if(e.match_start=t,a=r,r>=s)break;d=u[o+a-1],p=u[o+a]}}}while((t=f[t&l])>c&&0!==--i);return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,r,o,a,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-262)){i.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);o+=s}if(0===e.strm.avail_in)break;if(n=g(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=_(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,r,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(d(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&d(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function M(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,r,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return u(e,-2);8===r&&(r=9);var c=new x;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,M(e)}r=[new w(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,d(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(d(e,!1),e.strm.avail_out),1)})),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],t.deflateInit=function(e,t){return S(e,t,8,15,8,0)},t.deflateInit2=S,t.deflateReset=M,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,a,c;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),p(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,m(i,g),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),h(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&h(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(h(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&l(t)<=l(n)&&4!==t)return u(e,-5);if(666===i.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var _=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(d(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(d(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(d(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==_&&4!==_||(i.status=666),1===_||3===_)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),h(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),h(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,o,s,c,u,l,h,d=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),c=e.avail_in,u=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=l,e.avail_in=c,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(56);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var l=new Array(60);i(l);var f=new Array(512);i(f);var h=new Array(256);i(h);var d=new Array(29);i(d);var p,m,g,_=new Array(30);function v(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?f[e]:f[256+(e>>>7)]}function w(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,w(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function E(e,t,n){x(e,n[2*t],n[2*t+1])}function M(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=M(o[s]++,s))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function k(e){e.bi_valid>8?w(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function C(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&C(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!C(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function A(e,t,n){var r,i,s,c,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?E(e,i,t):(E(e,(s=h[i])+256+1,t),0!==(c=o[s])&&x(e,i-=d[s],c),E(e,s=b(--r),n),0!==(c=a[s])&&x(e,r-=_[s],c))}while(u<e.last_lit);E(e,256,t)}function P(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)O(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,O(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,m++),c[2*r+1]=o,r>u||(e.bl_count[o]++,a=0,r>=d&&(a=h[r-d]),s=c[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>u||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),S(o,u,e.bl_count)}function L(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4))}function D(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<u)do{E(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(E(e,i,e.bl_tree),s--),E(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(E(e,17,e.bl_tree),x(e,s-3,3)):(E(e,18,e.bl_tree),x(e,s-11,7));s=0,o=i,0===a?(c=138,u=3):i===a?(c=6,u=3):(c=7,u=4)}}i(_);var I=!1;function R(e,t,n,i){x(e,0+(i?1:0),3),function(e,t,n,i){k(e),i&&(w(e,n),w(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){I||(!function(){var e,t,n,r,i,c=new Array(16);for(n=0,r=0;r<28;r++)for(d[r]=n,e=0;e<1<<o[r];e++)h[n++]=r;for(h[n-1]=r,i=0,r=0;r<16;r++)for(_[r]=i,e=0;e<1<<a[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(_[r]=i<<7,e=0;e<1<<a[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,c[8]++;for(;e<=255;)u[2*e+1]=9,e++,c[9]++;for(;e<=279;)u[2*e+1]=7,e++,c[7]++;for(;e<=287;)u[2*e+1]=8,e++,c[8]++;for(S(u,287,c),e=0;e<30;e++)l[2*e+1]=5,l[2*e]=M(e,5);p=new v(u,o,257,286,15),m=new v(l,a,0,30,15),g=new v(new Array(0),s,0,19,7)}(),I=!0),e.l_desc=new y(e.dyn_ltree,p),e.d_desc=new y(e.dyn_dtree,m),e.bl_desc=new y(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},t._tr_stored_block=R,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),P(e,e.l_desc),P(e,e.d_desc),a=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?R(e,t,n,r):4===e.strategy||o===i?(x(e,2+(r?1:0),3),A(e,u,l)):(x(e,4+(r?1:0),3),function(e,t,n,r){var i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*c[i]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),A(e,e.dyn_ltree,e.dyn_dtree)),T(e),r&&k(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),E(e,256,u),function(e){16===e.bi_valid?(w(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(601),i=n(56),o=n(275),a=n(277),s=n(176),c=n(276),u=n(604),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function h(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,c,u,f,h=this.strm,d=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(d),h.next_out=0,h.avail_out=d),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(h.output,h.next_out),u=h.next_out-c,f=o.buf2string(h.output,c),h.next_out=u,h.avail_out=d-u,u&&i.arraySet(h.output,h.output,c,u,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=f,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var r=n(56),i=n(273),o=n(274),a=n(602),s=n(603);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,l(e)):-2}function h(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function d(e,t){var n,r;return e?(r=new u,e.state=r,r.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var p,m,g=!0;function _(e){if(g){var t;for(p=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function v(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=f,t.inflateReset2=h,t.inflateResetKeep=l,t.inflateInit=function(e){return d(e,15)},t.inflateInit2=d,t.inflate=function(e,t){var n,u,l,f,h,d,p,m,g,y,b,w,x,E,M,S,T,k,C,O,A,P,L,D,I=0,R=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,l=e.output,p=e.avail_out,f=e.next_in,u=e.input,d=e.avail_in,m=n.hold,g=n.bits,y=d,b=p,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!==(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,A=8+(15&(m>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<A,e.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(n.flags=m,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,n.check=o(n.check,R,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(R[0]=255&m,R[1]=m>>>8&255,n.check=o(n.check,R,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>d&&(w=d),w&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,f,w,A)),512&n.flags&&(n.check=o(n.check,u,w,f)),d-=w,f+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===d)break e;w=0;do{A=u[f+w++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A))}while(A&&w<d);if(512&n.flags&&(n.check=o(n.check,u,w,f)),d-=w,f+=w,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===d)break e;w=0;do{A=u[f+w++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A))}while(A&&w<d);if(512&n.flags&&(n.check=o(n.check,u,w,f)),d-=w,f+=w,A)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}e.adler=n.check=c(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===t){m>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if((65535&m)!==(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(w>d&&(w=d),w>p&&(w=p),0===w)break e;r.arraySet(l,u,f,w,h),d-=w,f+=w,p-=w,h+=w,n.length-=w;break}n.mode=12;break;case 17:for(;g<14;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.lens[B[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(I=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&I,!((M=I>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(T<16)m>>>=M,g-=M,n.lens[n.have++]=T;else{if(16===T){for(D=M+2;g<D;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m>>>=M,g-=M,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}A=n.lens[n.have-1],w=3+(3&m),m>>>=2,g-=2}else if(17===T){for(D=M+3;g<D;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}g-=M,A=0,w=3+(7&(m>>>=M)),m>>>=3,g-=3}else{for(D=M+7;g<D;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}g-=M,A=0,w=11+(127&(m>>>=M)),m>>>=7,g-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=A}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(d>=6&&p>=258){e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,a(e,b),h=e.next_out,l=e.output,p=e.avail_out,f=e.next_in,u=e.input,d=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(I=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&I,!((M=I>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(S&&0===(240&S)){for(k=M,C=S,O=T;S=(I=n.lencode[O+((m&(1<<k+C)-1)>>k)])>>>16&255,T=65535&I,!(k+(M=I>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}m>>>=k,g-=k,n.back+=k}if(m>>>=M,g-=M,n.back+=M,n.length=T,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(D=n.extra;g<D;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(I=n.distcode[m&(1<<n.distbits)-1])>>>16&255,T=65535&I,!((M=I>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(0===(240&S)){for(k=M,C=S,O=T;S=(I=n.distcode[O+((m&(1<<k+C)-1)>>k)])>>>16&255,T=65535&I,!(k+(M=I>>>24)<=g);){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}m>>>=k,g-=k,n.back+=k}if(m>>>=M,g-=M,n.back+=M,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(D=n.extra;g<D;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break e;if(w=b-p,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,x=n.wsize-w):x=n.wnext-w,w>n.length&&(w=n.length),E=n.window}else E=l,x=h-n.offset,w=n.length;w>p&&(w=p),p-=w,n.length-=w;do{l[h++]=E[x++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===p)break e;l[h++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===d)break e;d--,m|=u[f++]<<g,g+=8}if(b-=p,e.total_out+=b,n.total+=b,b&&(e.adler=n.check=n.flags?o(n.check,l,b,h-b):i(n.check,l,b,h-b)),b=p,(n.flags?m:c(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===d)break e;d--,m+=u[f++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=p,e.next_in=f,e.avail_in=d,n.hold=m,n.bits=g,(n.wsize||b!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&v(e,e.output,e.next_out,b-e.avail_out)?(n.mode=31,-4):(y-=e.avail_in,b-=e.avail_out,e.total_in+=y,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?o(n.check,l,b,e.next_out-b):i(n.check,l,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===y&&0===b||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:v(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,c,u,l,f,h,d,p,m,g,_,v,y,b,w,x,E,M,S,T;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,m=n.lencode,g=n.distcode,_=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),y=m[d&_];t:for(;;){if(d>>>=b=y>>>24,p-=b,0===(b=y>>>16&255))T[o++]=65535&y;else{if(!(16&b)){if(0===(64&b)){y=m[(65535&y)+(d&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(b&=15)&&(p<b&&(d+=S[r++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),y=g[d&v];n:for(;;){if(d>>>=b=y>>>24,p-=b,!(16&(b=y>>>16&255))){if(0===(64&b)){y=g[(65535&y)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&y,p<(b&=15)&&(d+=S[r++]<<p,(p+=8)<b&&(d+=S[r++]<<p,p+=8)),(x+=d&(1<<b)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=b,p-=b,x>(b=o-a)){if((b=x-b)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,M=h,0===f){if(E+=u-b,b<w){w-=b;do{T[o++]=h[E++]}while(--b);E=o-x,M=T}}else if(f<b){if(E+=u+f-b,(b-=f)<w){w-=b;do{T[o++]=h[E++]}while(--b);if(E=0,f<w){w-=b=f;do{T[o++]=h[E++]}while(--b);E=o-x,M=T}}}else if(E+=f-b,b<w){w-=b;do{T[o++]=h[E++]}while(--b);E=o-x,M=T}for(;w>2;)T[o++]=M[E++],T[o++]=M[E++],T[o++]=M[E++],w-=3;w&&(T[o++]=M[E++],w>1&&(T[o++]=M[E++]))}else{E=o-x;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(r<i&&o<s);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=p}},function(e,t,n){"use strict";var r=n(56),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,u,l,f,h){var d,p,m,g,_,v,y,b,w,x=h.bits,E=0,M=0,S=0,T=0,k=0,C=0,O=0,A=0,P=0,L=0,D=null,I=0,R=new r.Buf16(16),B=new r.Buf16(16),N=null,U=0;for(E=0;E<=15;E++)R[E]=0;for(M=0;M<c;M++)R[t[n+M]]++;for(k=x,T=15;T>=1&&0===R[T];T--);if(k>T&&(k=T),0===T)return u[l++]=20971520,u[l++]=20971520,h.bits=1,0;for(S=1;S<T&&0===R[S];S++);for(k<S&&(k=S),A=1,E=1;E<=15;E++)if(A<<=1,(A-=R[E])<0)return-1;if(A>0&&(0===e||1!==T))return-1;for(B[1]=0,E=1;E<15;E++)B[E+1]=B[E]+R[E];for(M=0;M<c;M++)0!==t[n+M]&&(f[B[t[n+M]]++]=M);if(0===e?(D=N=f,v=19):1===e?(D=i,I-=257,N=o,U-=257,v=256):(D=a,N=s,v=-1),L=0,M=0,E=S,_=l,C=k,O=0,m=-1,g=(P=1<<k)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){y=E-O,f[M]<v?(b=0,w=f[M]):f[M]>v?(b=N[U+f[M]],w=D[I+f[M]]):(b=96,w=0),d=1<<E-O,S=p=1<<C;do{u[_+(L>>O)+(p-=d)]=y<<24|b<<16|w|0}while(0!==p);for(d=1<<E-1;L&d;)d>>=1;if(0!==d?(L&=d-1,L+=d):L=0,M++,0===--R[E]){if(E===T)break;E=t[n+f[M]]}if(E>k&&(L&g)!==m){for(0===O&&(O=k),_+=S,A=1<<(C=E-O);C+O<T&&!((A-=R[C+O])<=0);)C++,A<<=1;if(P+=1<<C,1===e&&P>852||2===e&&P>592)return 1;u[m=L&g]=k<<24|C<<16|_-l|0}}return 0!==L&&(u[_+L]=E-O<<24|64<<16|0),h.bits=k,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var r=n(20),i=n(36),o=n(66),a=n(175),s=n(278),c=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},u=function(e,t,n,i,u,l){var f,h,d=e.file,p=e.compression,m=l!==o.utf8encode,g=r.transformTo("string",l(d.name)),_=r.transformTo("string",o.utf8encode(d.name)),v=d.comment,y=r.transformTo("string",l(v)),b=r.transformTo("string",o.utf8encode(v)),w=_.length!==d.name.length,x=b.length!==v.length,E="",M="",S="",T=d.dir,k=d.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var O=0;t&&(O|=8),m||!w&&!x||(O|=2048);var A=0,P=0;T&&(A|=16),"UNIX"===u?(P=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(d.unixPermissions,T)):(P=20,A|=63&(d.dosPermissions||0)),f=k.getUTCHours(),f<<=6,f|=k.getUTCMinutes(),f<<=5,f|=k.getUTCSeconds()/2,h=k.getUTCFullYear()-1980,h<<=4,h|=k.getUTCMonth()+1,h<<=5,h|=k.getUTCDate(),w&&(M=c(1,1)+c(a(g),4)+_,E+="up"+c(M.length,2)+M),x&&(S=c(1,1)+c(a(y),4)+b,E+="uc"+c(S.length,2)+S);var L="";return L+="\n\0",L+=c(O,2),L+=p.magic,L+=c(f,2),L+=c(h,2),L+=c(C.crc32,4),L+=c(C.compressedSize,4),L+=c(C.uncompressedSize,4),L+=c(g.length,2),L+=c(E.length,2),{fileRecord:s.LOCAL_FILE_HEADER+L+g+E,dirRecord:s.CENTRAL_FILE_HEADER+c(P,2)+L+c(y.length,2)+"\0\0\0\0"+c(A,4)+c(i,4)+g+E+y}},l=function(e){return s.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4)};function f(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(f,i),f.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},f.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=u(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=u(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:l(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var a=r.transformTo("string",o(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(e,2)+c(e,2)+c(t,4)+c(n,4)+c(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},f.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},f.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=f},function(e,t,n){"use strict";var r=n(20),i=n(36);function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},function(e,t,n){"use strict";var r=n(20),i=n(109),o=n(66),a=(r=n(20),n(608)),s=n(271),c=n(131);function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(u(r[o]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},function(e,t,n){"use strict";var r=n(279),i=n(20),o=n(278),a=n(611),s=(n(66),n(55));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},function(e,t,n){"use strict";var r=n(281);function i(e){r.call(this,e)}n(20).inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){"use strict";var r=n(282);function i(e){r.call(this,e)}n(20).inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=i},function(e,t,n){"use strict";var r=n(279),i=n(20),o=n(174),a=n(175),s=n(66),c=n(272),u=n(55);function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=l},,,,function(e,t,n){!function(e){"use strict";function t(e,t){this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",(function(n){n=function(e,t,n){var r=e.options.hintOptions,i={};for(var o in c)i[o]=c[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}(this,this.getCursor("start"),n);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!n.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new t(this,n);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var n=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=window.cancelAnimationFrame||clearTimeout;function i(e){return"string"==typeof e?e:e.text}function o(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function a(t,n){this.completion=t,this.data=n,this.picked=!1;var r=this,a=t.cm,s=a.getInputField().ownerDocument,c=s.defaultView||s.parentWindow,u=this.hints=s.createElement("ul"),l=t.cm.options.theme;u.className="CodeMirror-hints "+l,this.selectedHint=n.selectedHint||0;for(var f=n.list,h=0;h<f.length;++h){var d=u.appendChild(s.createElement("li")),p=f[h],m="CodeMirror-hint"+(h!=this.selectedHint?"":" CodeMirror-hint-active");null!=p.className&&(m=p.className+" "+m),d.className=m,p.render?p.render(d,n,p):d.appendChild(s.createTextNode(p.displayText||i(p))),d.hintId=h}var g=t.options.container||s.body,_=a.cursorCoords(t.options.alignWithWord?n.from:null),v=_.left,y=_.bottom,b=!0,w=0,x=0;if(g!==s.body){var E=-1!==["absolute","relative","fixed"].indexOf(c.getComputedStyle(g).position)?g:g.offsetParent,M=E.getBoundingClientRect(),S=s.body.getBoundingClientRect();w=M.left-S.left-E.scrollLeft,x=M.top-S.top-E.scrollTop}u.style.left=v-w+"px",u.style.top=y-x+"px";var T=c.innerWidth||Math.max(s.body.offsetWidth,s.documentElement.offsetWidth),k=c.innerHeight||Math.max(s.body.offsetHeight,s.documentElement.offsetHeight);g.appendChild(u);var C=u.getBoundingClientRect(),O=C.bottom-k,A=u.scrollHeight>u.clientHeight+1,P=a.getScrollInfo();if(O>0){var L=C.bottom-C.top;if(_.top-(_.bottom-C.top)-L>0)u.style.top=(y=_.top-L-x)+"px",b=!1;else if(L>k){u.style.height=k-5+"px",u.style.top=(y=_.bottom-C.top-x)+"px";var D=a.getCursor();n.from.ch!=D.ch&&(_=a.cursorCoords(D),u.style.left=(v=_.left-w)+"px",C=u.getBoundingClientRect())}}var I,R=C.right-T;if(R>0&&(C.right-C.left>T&&(u.style.width=T-5+"px",R-=C.right-C.left-T),u.style.left=(v=_.left-R-w)+"px"),A)for(var B=u.firstChild;B;B=B.nextSibling)B.style.paddingRight=a.display.nativeBarWidth+"px";return a.addKeyMap(this.keyMap=function(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var a in r)r.hasOwnProperty(a)&&o(a,r[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}(t,{moveFocus:function(e,t){r.changeActive(r.selectedHint+e,t)},setFocus:function(e){r.changeActive(e)},menuSize:function(){return r.screenAmount()},length:f.length,close:function(){t.close()},pick:function(){r.pick()},data:n})),t.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){I=setTimeout((function(){t.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(I)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),n=a.getWrapperElement().getBoundingClientRect(),r=y+P.top-e.top,i=r-(c.pageYOffset||(s.documentElement||s.body).scrollTop);if(b||(i+=u.offsetHeight),i<=n.top||i>=n.bottom)return t.close();u.style.top=r+"px",u.style.left=v+P.left-e.left+"px"}),e.on(u,"dblclick",(function(e){var t=o(u,e.target||e.srcElement);t&&null!=t.hintId&&(r.changeActive(t.hintId),r.pick())})),e.on(u,"click",(function(e){var n=o(u,e.target||e.srcElement);n&&null!=n.hintId&&(r.changeActive(n.hintId),t.options.completeOnSingleClick&&r.pick())})),e.on(u,"mousedown",(function(){setTimeout((function(){a.focus()}),20)})),this.scrollToActive(),e.signal(n,"select",f[this.selectedHint],u.childNodes[this.selectedHint]),!0}function s(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(i(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),this.close()},cursorActivity:function(){this.debounce&&(r(this.debounce),this.debounce=0);var e=this.cm.getCursor(),t=this.cm.getLine(e.line);if(e.line!=this.startPos.line||t.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()||!e.ch||this.options.closeCharacters.test(t.charAt(e.ch-1)))this.close();else{var i=this;this.debounce=n((function(){i.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;s(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new a(this,t),e.signal(t,"shown")))}},a.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r&&(r.className=r.className.replace(" CodeMirror-hint-active","")),(r=this.hints.childNodes[this.selectedHint=t]).className+=" CodeMirror-hint-active",this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},scrollToActive:function(){var e=this.hints.childNodes[this.selectedHint];e.offsetTop<this.hints.scrollTop?this.hints.scrollTop=e.offsetTop-3:e.offsetTop+e.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=e.offsetTop+e.offsetHeight-this.hints.clientHeight+3)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",{resolve:function(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=function(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}(e,i);!function i(o){if(o==r.length)return t(null);s(r[o],e,n,(function(e){e&&e.list.length>0?t(e):i(o+1)}))}(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}}),e.registerHelper("hint","fromList",(function(t,n){var r,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",a=i);for(var c=[],u=0;u<n.words.length;u++){var l=n.words[u];l.slice(0,r.length)==r&&c.push(l)}if(c.length)return{list:c,from:a,to:s}})),e.commands.autocomplete=e.showHint;var c={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}(n(37))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.info=r,this.align=i,this.prev=o}function n(e,n,r,i){var o=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=r&&(o=e.context.indented),e.context=new t(o,n,r,i,null,e.context)}function r(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function i(e,t,n){return"variable"==t.prevToken||"type"==t.prevToken||!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function a(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function s(e,t){return"function"===typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",(function(a,c){var u,l,f=a.indentUnit,h=c.statementIndentUnit||f,d=c.dontAlignCalls,p=c.keywords||{},m=c.types||{},g=c.builtin||{},_=c.blockKeywords||{},v=c.defKeywords||{},y=c.atoms||{},b=c.hooks||{},w=c.multiLineStrings,x=!1!==c.indentStatements,E=!1!==c.indentSwitch,M=c.namespaceSeparator,S=c.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,T=c.numberStart||/[\d\.]/,k=c.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,C=c.isOperatorChar||/[+\-*&%=<>!?|\/]/,O=c.isIdentifierChar||/[\w\$_\xa1-\uffff]/,A=c.isReservedIdentifier||!1;function P(e,t){var n,r=e.next();if(b[r]){var i=b[r](e,t);if(!1!==i)return i}if('"'==r||"'"==r)return t.tokenize=(n=r,function(e,t){for(var r,i=!1,o=!1;null!=(r=e.next());){if(r==n&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!w)&&(t.tokenize=null),"string"}),t.tokenize(e,t);if(S.test(r))return u=r,null;if(T.test(r)){if(e.backUp(1),e.match(k))return"number";e.next()}if("/"==r){if(e.eat("*"))return t.tokenize=L,L(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(C.test(r)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(C););return"operator"}if(e.eatWhile(O),M)for(;e.match(M);)e.eatWhile(O);var o=e.current();return s(p,o)?(s(_,o)&&(u="newstatement"),s(v,o)&&(l=!0),"keyword"):s(m,o)?"type":s(g,o)||A&&A(o)?(s(_,o)&&(u="newstatement"),"builtin"):s(y,o)?"atom":"variable"}function L(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function D(e,t){c.typeFirstDefinitions&&e.eol()&&o(t.context)&&(t.typeAtEndOfLine=i(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-f,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var a=t.context;if(e.sol()&&(null==a.align&&(a.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return D(e,t),null;u=l=null;var s=(t.tokenize||P)(e,t);if("comment"==s||"meta"==s)return s;if(null==a.align&&(a.align=!0),";"==u||":"==u||","==u&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)r(t);else if("{"==u)n(t,e.column(),"}");else if("["==u)n(t,e.column(),"]");else if("("==u)n(t,e.column(),")");else if("}"==u){for(;"statement"==a.type;)a=r(t);for("}"==a.type&&(a=r(t));"statement"==a.type;)a=r(t)}else u==a.type?r(t):x&&(("}"==a.type||"top"==a.type)&&";"!=u||"statement"==a.type&&"newstatement"==u)&&n(t,e.column(),"statement",e.current());if("variable"==s&&("def"==t.prevToken||c.typeFirstDefinitions&&i(e,t,e.start)&&o(t.context)&&e.match(/^\s*\(/,!1))&&(s="def"),b.token){var f=b.token(e,t,s);void 0!==f&&(s=f)}return"def"==s&&!1===c.styleDefs&&(s="variable"),t.startOfLine=!1,t.prevToken=l?"def":s||u,D(e,t),s},indent:function(t,n){if(t.tokenize!=P&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var r=t.context,i=n&&n.charAt(0),o=i==r.type;if("statement"==r.type&&"}"==i&&(r=r.prev),c.dontIndentStatements)for(;"statement"==r.type&&c.dontIndentStatements.test(r.info);)r=r.prev;if(b.indent){var a=b.indent(t,r,n,f);if("number"==typeof a)return a}var s=r.prev&&"switch"==r.prev.info;if(c.allmanIndentation&&/[{(]/.test(i)){for(;"top"!=r.type&&"}"!=r.type;)r=r.prev;return r.indented}return"statement"==r.type?r.indented+("{"==i?0:h):!r.align||d&&")"==r.type?")"!=r.type||o?r.indented+(o?0:f)+(o||!s||/^(?:case|default)\b/.test(n)?0:f):r.indented+h:r.column+(o?0:1)},electricInput:E?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var c="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",u="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",l="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",f="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",h=a("int long char short double float unsigned signed void bool"),d=a("SEL instancetype id Class Protocol BOOL");function p(e){return s(h,e)||/.+_t$/.test(e)}function m(e){return p(e)||s(d,e)}var g="case do else for if switch while struct enum union";function _(e,t){if(!t.startOfLine)return!1;for(var n,r=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){r=_;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=r,"meta"}function v(e,t){return"type"==t.prevToken&&"type"}function y(e){return!(!e||e.length<2)&&"_"==e[0]&&("_"==e[1]||e[1]!==e[1].toLowerCase())}function b(e){return e.eatWhile(/[\w\.']/),"number"}function w(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],t.tokenize=M,M(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function x(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function E(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function M(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function S(t,n){"string"==typeof t&&(t=[t]);var r=[];function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&r.push(t)}i(n.keywords),i(n.types),i(n.builtin),i(n.atoms),r.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],r));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}function T(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}function k(e){return function(t,n){for(var r;r=t.next();){if("*"==r&&t.eat("/")){if(1==e){n.tokenize=null;break}return n.tokenize=k(e-1),n.tokenize(t,n)}if("/"==r&&t.eat("*"))return n.tokenize=k(e+1),n.tokenize(t,n)}return"comment"}}S(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:a(c),types:p,blockKeywords:a(g),defKeywords:a("struct enum union"),typeFirstDefinitions:!0,atoms:a("NULL true false"),isReservedIdentifier:y,hooks:{"#":_,"*":v},modeProps:{fold:["brace","include"]}}),S(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:a(c+" "+u),types:p,blockKeywords:a(g+" class try catch"),defKeywords:a("struct enum union class namespace"),typeFirstDefinitions:!0,atoms:a("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:y,hooks:{"#":_,"*":v,u:w,U:w,L:w,R:w,0:b,1:b,2:b,3:b,4:b,5:b,6:b,7:b,8:b,9:b,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&x(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),S("text/x-java",{name:"clike",keywords:a("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:a("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:a("catch class do else finally for if switch try while"),defKeywords:a("class interface enum @interface"),typeFirstDefinitions:!0,atoms:a("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),S("text/x-csharp",{name:"clike",keywords:a("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:a("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:a("catch class do else finally for foreach if struct switch try while"),defKeywords:a("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=E,E(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),S("text/x-scala",{name:"clike",keywords:a("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:a("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:a("catch class enum do else finally for forSome if match switch try while"),defKeywords:a("class enum def object package trait type val var"),atoms:a("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=T,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,n){var r=n.context;return!("}"!=r.type||!r.align||!e.eat(">"))&&(n.context=new t(r.indented,r.column,r.type,r.info,null,r.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),S("text/x-kotlin",{name:"clike",keywords:a("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:a("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:a("catch class do else finally for if where try while enum"),defKeywords:a("class val var object interface fun"),atoms:a("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){var n;return t.tokenize=(n=e.match('""'),function(e,t){for(var r,i=!1,o=!1;!e.eol();){if(!n&&!i&&e.match('"')){o=!0;break}if(n&&e.match('"""')){o=!0;break}r=e.next(),!i&&"$"==r&&e.match("{")&&e.skipTo("}"),i=!i&&"\\"==r&&!n}return!o&&n||(t.tokenize=null),"string"}),t.tokenize(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=k(1),t.tokenize(e,t))},indent:function(e,t,n,r){var i=n&&n.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=n?"operator"==e.prevToken&&"}"!=n&&"}"!=e.context.type||"variable"==e.prevToken&&"."==i||("}"==e.prevToken||")"==e.prevToken)&&"."==i?2*r+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(n||"").charAt(0)?0:r):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),S(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:a("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:a("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:a("for while do if else struct"),builtin:a("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:a("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":_},modeProps:{fold:["brace","include"]}}),S("text/x-nesc",{name:"clike",keywords:a(c+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:p,blockKeywords:a(g),atoms:a("null true false"),hooks:{"#":_},modeProps:{fold:["brace","include"]}}),S("text/x-objectivec",{name:"clike",keywords:a(c+" "+l),types:m,builtin:a(f),blockKeywords:a(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:a("struct enum union @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:y,hooks:{"#":_,"*":v},modeProps:{fold:["brace","include"]}}),S("text/x-objectivec++",{name:"clike",keywords:a(c+" "+l+" "+u),types:m,builtin:a(f),blockKeywords:a(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:a("struct enum union @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:a("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:y,hooks:{"#":_,"*":v,u:w,U:w,L:w,R:w,0:b,1:b,2:b,3:b,4:b,5:b,6:b,7:b,8:b,9:b,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&x(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),S("text/x-squirrel",{name:"clike",keywords:a("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:p,blockKeywords:a("case catch class else for foreach if switch try while"),defKeywords:a("function local class"),typeFirstDefinitions:!0,atoms:a("true false null"),hooks:{"#":_},modeProps:{fold:["brace","include"]}});var C=null;S("text/x-ceylon",{name:"clike",keywords:a("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:a("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:a("class dynamic function interface module object package value"),builtin:a("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:a("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=function e(t){return function(n,r){for(var i,o=!1,a=!1;!n.eol();){if(!o&&n.match('"')&&("single"==t||n.match('""'))){a=!0;break}if(!o&&n.match("``")){C=e(t),a=!0;break}i=n.next(),o="single"==t&&!o&&"\\"==i}return a&&(r.tokenize=null),"string"}}(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!C||!e.match("`"))&&(t.tokenize=C,C=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"type"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}(n(37))}]]);